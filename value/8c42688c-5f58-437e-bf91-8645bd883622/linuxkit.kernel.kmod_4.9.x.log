[INFO    ] 2017-11-01T12:49:12.818560076Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/with_clone34ee165e/test/cases/020_kernel/010_kmod_4.9.x
[INFO    ] 2017-11-01T12:49:12.818687016Z: Running command: [/bin/sh -x /tmp/with_clone34ee165e/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-11-01T12:49:12.819491355Z: + set -e
[STDERR  ] 2017-11-01T12:49:12.819605959Z: + . /tmp/with_clone34ee165e/test/cases/_lib/lib.sh
[STDERR  ] 2017-11-01T12:49:12.81975271Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-11-01T12:49:12.819871924Z: + LINUXKIT_TMPDIR=/tmp/with_clone34ee165e/test/cases/_tmp
[STDERR  ] 2017-11-01T12:49:12.819999273Z: + [ -f /tmp/with_clone34ee165e/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-11-01T12:49:12.820083243Z: + . /tmp/with_clone34ee165e/test/cases/_tmp/env.sh
[STDERR  ] 2017-11-01T12:49:12.820188266Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_clone34ee165e/test/cases/../../examples
[STDERR  ] 2017-11-01T12:49:12.820261911Z: + export LINUXKIT_BLUEPRINTS_DIR=/tmp/with_clone34ee165e/test/cases/../../blueprints
[STDERR  ] 2017-11-01T12:49:12.820343071Z: + RT_CANCEL=253
[STDERR  ] 2017-11-01T12:49:12.820401158Z: + NAME=kmod
[STDERR  ] 2017-11-01T12:49:12.820454875Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-11-01T12:49:12.820560233Z: + trap clean_up EXIT
[STDERR  ] 2017-11-01T12:49:12.820665667Z: + docker pull linuxkit/kernel:4.9.59
[STDOUT  ] 2017-11-01T12:49:14.217269927Z: 4.9.59: Pulling from linuxkit/kernel
[STDOUT  ] 2017-11-01T12:49:14.582154428Z: Digest: sha256:4546a08ec46d8fa813509f11d18e8fff5cce92c6d3239c354e7be0c6bbea0815
[STDOUT  ] 2017-11-01T12:49:14.582217756Z: Status: Image is up to date for linuxkit/kernel:4.9.59
[STDERR  ] 2017-11-01T12:49:14.585756383Z: + docker build -t kmod-test .
[STDOUT  ] 2017-11-01T12:49:14.602544569Z: Sending build context to Docker daemon 8.704 kB
[STDOUT  ] 2017-11-01T12:49:14.778146722Z: Step 1/12 : FROM linuxkit/kernel:4.9.59 AS ksrc
[STDOUT  ] 2017-11-01T12:49:14.843047874Z:  ---> 8162800ac00a
[STDOUT  ] 2017-11-01T12:49:14.843105584Z: Step 2/12 : FROM linuxkit/alpine:07f7d136e427dc68154cd5edbb2b9576f9ac5213 AS build
[STDOUT  ] 2017-11-01T12:49:14.843119893Z:  ---> 039fd8c1530e
[STDOUT  ] 2017-11-01T12:49:14.843131887Z: Step 3/12 : RUN apk add build-base
[STDOUT  ] 2017-11-01T12:49:14.843144342Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:14.84315712Z:  ---> a50150a9d152
[STDOUT  ] 2017-11-01T12:49:14.843169369Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-11-01T12:49:15.309256429Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.309321386Z:  ---> 6733ac90830d
[STDOUT  ] 2017-11-01T12:49:15.309336899Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-11-01T12:49:15.324654298Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.324710904Z:  ---> 97a67661a09e
[STDOUT  ] 2017-11-01T12:49:15.324724839Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2017-11-01T12:49:15.324738442Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.32475074Z:  ---> d91f47b4f438
[STDOUT  ] 2017-11-01T12:49:15.324763771Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2017-11-01T12:49:15.32477682Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.324789455Z:  ---> 1c2dead5725c
[STDOUT  ] 2017-11-01T12:49:15.324802227Z: Step 8/12 : RUN make all
[STDOUT  ] 2017-11-01T12:49:15.324814822Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.324841565Z:  ---> 7859ef659793
[STDOUT  ] 2017-11-01T12:49:15.324853854Z: Step 9/12 : FROM alpine:3.5
[STDOUT  ] 2017-11-01T12:49:15.32486563Z:  ---> 37c7be7a096b
[STDOUT  ] 2017-11-01T12:49:15.324876827Z: Step 10/12 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-11-01T12:49:15.34033038Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.340366039Z:  ---> 897ad33d00c6
[STDOUT  ] 2017-11-01T12:49:15.340379617Z: Step 11/12 : COPY check.sh /check.sh
[STDOUT  ] 2017-11-01T12:49:15.340392227Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.340404196Z:  ---> fdbc5038ce4f
[STDOUT  ] 2017-11-01T12:49:15.340416043Z: Step 12/12 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-11-01T12:49:15.340428811Z:  ---> Using cache
[STDOUT  ] 2017-11-01T12:49:15.340440819Z:  ---> c8135a0078a0
[STDOUT  ] 2017-11-01T12:49:15.340465773Z: Successfully built c8135a0078a0
[STDOUT  ] 2017-11-01T12:49:15.340479117Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-11-01T12:49:15.44113463Z: + moby build -format kernel+initrd -name kmod test.yml
[STDERR  ] 2017-11-01T12:49:15.453820847Z: Extract kernel image: linuxkit/kernel:4.9.59
[STDERR  ] 2017-11-01T12:49:22.403552774Z: Add init containers:
[STDERR  ] 2017-11-01T12:49:22.40365446Z: Process init image: linuxkit/init:42a92119e1ca10380e0d33e26c0cbcf85b9b3558
[STDERR  ] 2017-11-01T12:49:26.483047124Z: Process init image: linuxkit/runc:817fdc592eac6cb7804fa1721a43a7f6e23fb50f
[STDERR  ] 2017-11-01T12:49:29.096314016Z: Add onboot containers:
[STDERR  ] 2017-11-01T12:49:29.096396023Z:   Create OCI config for kmod-test
[STDERR  ] 2017-11-01T12:49:29.244346675Z: Pull image: kmod-test
[STDERR  ] 2017-11-01T12:49:30.429133122Z: time="2017-11-01T12:49:30Z" level=fatal msg="Failed to create OCI spec for kmod-test: Error response from daemon: repository kmod-test not found: does not exist or no pull access" 
[STDERR  ] 2017-11-01T12:49:30.583730912Z: + clean_up
[STDERR  ] 2017-11-01T12:49:30.583793374Z: + docker rmi kmod-test
[STDERR  ] 2017-11-01T12:49:30.647021517Z: Error response from daemon: No such image: kmod-test:latest
[STDERR  ] 2017-11-01T12:49:30.648865992Z: + true
[STDERR  ] 2017-11-01T12:49:30.648916755Z: + rm -rf kmod-*
[FAIL    ] linuxkit.kernel.kmod_4.9.x 17.83s
