[INFO    ] 2019-03-03T15:27:45.181028755Z: Running Test linuxkit.kernel.kmod_4.14.x in /tmp/build/test/cases/020_kernel/012_kmod_4.14.x
[INFO    ] 2019-03-03T15:27:45.181793261Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/012_kmod_4.14.x/test.sh]
[STDERR  ] 2019-03-03T15:27:45.182613939Z: + set -e
[STDERR  ] 2019-03-03T15:27:45.182688395Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-03-03T15:27:45.182703919Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-03-03T15:27:45.182717760Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-03-03T15:27:45.182743372Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-03-03T15:27:45.182757069Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-03-03T15:27:45.182770996Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-03-03T15:27:45.182784807Z: + RT_CANCEL=253
[STDERR  ] 2019-03-03T15:27:45.182797560Z: + NAME=kmod
[STDERR  ] 2019-03-03T15:27:45.182812244Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-03-03T15:27:45.182826673Z: + trap clean_up EXIT
[STDERR  ] 2019-03-03T15:27:45.182840572Z: + docker pull linuxkit/kernel:4.14.104
[STDOUT  ] 2019-03-03T15:27:46.399232158Z: 4.14.104: Pulling from linuxkit/kernel
[STDOUT  ] 2019-03-03T15:27:46.804586932Z: Digest: sha256:3f60892cf878116cdca3718f6c4f1ff94a8e90a6d83031cb5d9f693dd86c21ed
[STDOUT  ] 2019-03-03T15:27:46.809265815Z: Status: Downloaded newer image for linuxkit/kernel:4.14.104
[STDERR  ] 2019-03-03T15:27:46.811007443Z: + docker build -t kmod-test .
[STDOUT  ] 2019-03-03T15:27:46.929185104Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-03-03T15:27:47.007144378Z: Step 1/12 : FROM linuxkit/kernel:4.14.104 AS ksrc
[STDOUT  ] 2019-03-03T15:27:47.007753678Z:  ---> b4e55aed0561
[STDOUT  ] 2019-03-03T15:27:47.007917505Z: Step 2/12 : FROM linuxkit/alpine:5ce235f4fb55772e7f78871a70bfe26f774fe2b0 AS build
[STDOUT  ] 2019-03-03T15:27:47.008212276Z:  ---> 464cb75731f7
[STDOUT  ] 2019-03-03T15:27:47.008283356Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2019-03-03T15:27:47.008545705Z:  ---> Using cache
[STDOUT  ] 2019-03-03T15:27:47.008584836Z:  ---> 259ac2853c97
[STDOUT  ] 2019-03-03T15:27:47.008712545Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-03-03T15:27:48.309439835Z:  ---> 88f7cf859115
[STDOUT  ] 2019-03-03T15:27:48.309555549Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-03-03T15:27:48.365097229Z:  ---> Running in d6c24e31069d
[STDOUT  ] 2019-03-03T15:27:55.957938968Z: Removing intermediate container d6c24e31069d
[STDOUT  ] 2019-03-03T15:27:55.959322885Z:  ---> c8d576b8c35e
[STDOUT  ] 2019-03-03T15:27:55.959425374Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-03-03T15:27:56.042026992Z:  ---> Running in e71f0afde2c8
[STDOUT  ] 2019-03-03T15:27:56.206578999Z: Removing intermediate container e71f0afde2c8
[STDOUT  ] 2019-03-03T15:27:56.206692839Z:  ---> 2795a4a05704
[STDOUT  ] 2019-03-03T15:27:56.206769851Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-03-03T15:27:56.497644603Z:  ---> d2b7664eebcd
[STDOUT  ] 2019-03-03T15:27:56.497787778Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-03-03T15:27:56.553822188Z:  ---> Running in dc5d5852fe9e
[STDOUT  ] 2019-03-03T15:27:56.868120846Z: make -C /usr/src/linux-headers-4.14.104-linuxkit M=/kmod modules
[STDOUT  ] 2019-03-03T15:27:56.868198254Z: make[1]: Entering directory '/usr/src/linux-headers-4.14.104-linuxkit'
[STDOUT  ] 2019-03-03T15:27:58.290499818Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-03-03T15:27:58.297385790Z: [91mcc1: error: cannot load plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2019-03-03T15:27:58.297435126Z:    Error relocating ./scripts/gcc-plugins/structleak_plugin.so: _ZN11symtab_node10dump_tableEP8_IO_FILE: symbol not found
[STDOUT  ] 2019-03-03T15:27:58.297511142Z: [0m[91mcc1: error: cannot load plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2019-03-03T15:27:58.297528314Z:    Error relocating ./scripts/gcc-plugins/randomize_layout_plugin.so: _Z13size_int_kindl14size_type_kind: symbol not found
[STDOUT  ] 2019-03-03T15:27:58.300408041Z: [0m[91mmake[2]: *** [scripts/Makefile.build:333: /kmod/hello_world.o] Error 1
[STDOUT  ] 2019-03-03T15:27:58.300683994Z: [0m[91mmake[1]: *** [Makefile:1535: _module_/kmod] Error 2
[STDOUT  ] 2019-03-03T15:27:58.300891783Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-4.14.104-linuxkit'
[STDOUT  ] 2019-03-03T15:27:58.301101509Z: [91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2019-03-03T15:27:58.575448808Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2019-03-03T15:27:58.576876102Z: + clean_up
[STDERR  ] 2019-03-03T15:27:58.576925296Z: + docker rmi kmod-test
[STDERR  ] 2019-03-03T15:27:58.641724019Z: Error: No such image: kmod-test
[STDERR  ] 2019-03-03T15:27:58.643132396Z: + true
[STDERR  ] 2019-03-03T15:27:58.643197214Z: + rm -rf kmod-*
[STDOUT  ] 2019-03-03T15:27:58.644079049Z: [0m
[FAIL    ] linuxkit.kernel.kmod_4.14.x 13.46s
