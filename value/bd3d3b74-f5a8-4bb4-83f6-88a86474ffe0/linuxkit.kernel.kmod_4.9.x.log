[INFO    ] 2018-02-19T12:36:42.829149240Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/with_cloned66f466/test/cases/020_kernel/011_kmod_4.9.x
[INFO    ] 2018-02-19T12:36:42.829320082Z: Running command: [/bin/sh -x /tmp/with_cloned66f466/test/cases/020_kernel/011_kmod_4.9.x/test.sh]
[STDERR  ] 2018-02-19T12:36:42.830212764Z: + set -e
[STDERR  ] 2018-02-19T12:36:42.830431924Z: + . /tmp/with_cloned66f466/test/cases/_lib/lib.sh
[STDERR  ] 2018-02-19T12:36:42.830633774Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2018-02-19T12:36:42.830802504Z: + LINUXKIT_TMPDIR=/tmp/with_cloned66f466/test/cases/_tmp
[STDERR  ] 2018-02-19T12:36:42.830981599Z: + [ -f /tmp/with_cloned66f466/test/cases/_tmp/env.sh ]
[STDERR  ] 2018-02-19T12:36:42.831137452Z: + . /tmp/with_cloned66f466/test/cases/_tmp/env.sh
[STDERR  ] 2018-02-19T12:36:42.831309307Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_cloned66f466/test/cases/../../examples
[STDERR  ] 2018-02-19T12:36:42.831451849Z: + RT_CANCEL=253
[STDERR  ] 2018-02-19T12:36:42.831584708Z: + NAME=kmod
[STDERR  ] 2018-02-19T12:36:42.831692480Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2018-02-19T12:36:42.831850565Z: + trap clean_up EXIT
[STDERR  ] 2018-02-19T12:36:42.832015751Z: + docker pull linuxkit/kernel:4.9.81
[STDOUT  ] 2018-02-19T12:36:44.254429915Z: 4.9.81: Pulling from linuxkit/kernel
[STDOUT  ] 2018-02-19T12:36:44.620960961Z: Digest: sha256:dabeac8c3829d03374c173bbb760d34bf3f0dbb4bbb21df9fc7929db6e1e14a2
[STDOUT  ] 2018-02-19T12:36:44.621029162Z: Status: Image is up to date for linuxkit/kernel:4.9.81
[STDERR  ] 2018-02-19T12:36:44.642902558Z: + docker build -t kmod-test .
[STDOUT  ] 2018-02-19T12:36:44.659955280Z: Sending build context to Docker daemon 8.704 kB
[STDOUT  ] 2018-02-19T12:36:44.832681121Z: Step 1/12 : FROM linuxkit/kernel:4.9.81 AS ksrc
[STDOUT  ] 2018-02-19T12:36:44.895983660Z:  ---> 8ee750e60d06
[STDOUT  ] 2018-02-19T12:36:44.896051198Z: Step 2/12 : FROM linuxkit/alpine:d307c8a386fa3f32cddda9409b9687e191cdd6f1 AS build
[STDOUT  ] 2018-02-19T12:36:44.896066035Z:  ---> 4d01d9a77113
[STDOUT  ] 2018-02-19T12:36:44.896083913Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2018-02-19T12:36:44.896097639Z:  ---> Using cache
[STDOUT  ] 2018-02-19T12:36:44.896110814Z:  ---> 8945cb20cea1
[STDOUT  ] 2018-02-19T12:36:44.896123595Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2018-02-19T12:36:45.344774612Z:  ---> Using cache
[STDOUT  ] 2018-02-19T12:36:45.344840149Z:  ---> f169e9541a3b
[STDOUT  ] 2018-02-19T12:36:45.344855402Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2018-02-19T12:36:45.364457407Z:  ---> Using cache
[STDOUT  ] 2018-02-19T12:36:45.364512045Z:  ---> 3547b1009c36
[STDOUT  ] 2018-02-19T12:36:45.364526989Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2018-02-19T12:36:45.364540395Z:  ---> Using cache
[STDOUT  ] 2018-02-19T12:36:45.364553651Z:  ---> 6040c88f14c7
[STDOUT  ] 2018-02-19T12:36:45.364566603Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2018-02-19T12:36:45.364579986Z:  ---> Using cache
[STDOUT  ] 2018-02-19T12:36:45.364593385Z:  ---> 1f561a6dbd82
[STDOUT  ] 2018-02-19T12:36:45.364606352Z: Step 8/12 : RUN make all
[STDOUT  ] 2018-02-19T12:36:45.364619964Z:  ---> Using cache
[STDOUT  ] 2018-02-19T12:36:45.364640556Z:  ---> acce5b77e2a8
[STDOUT  ] 2018-02-19T12:36:45.364653662Z: Step 9/12 : FROM alpine:3.7
[STDOUT  ] 2018-02-19T12:36:45.364666640Z:  ---> 3fd9065eaf02
[STDOUT  ] 2018-02-19T12:36:45.364679466Z: Step 10/12 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2018-02-19T12:36:45.937589377Z:  ---> 7e884545cae9
[STDOUT  ] 2018-02-19T12:36:45.955731658Z: Removing intermediate container e7ae811fcb04
[STDOUT  ] 2018-02-19T12:36:45.955769362Z: Step 11/12 : COPY check.sh /check.sh
[STDOUT  ] 2018-02-19T12:36:46.481546110Z:  ---> 023b76760503
[STDOUT  ] 2018-02-19T12:36:46.499789946Z: Removing intermediate container 73f39e984718
[STDOUT  ] 2018-02-19T12:36:46.499817407Z: Step 12/12 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2018-02-19T12:36:46.614378546Z:  ---> Running in 2f5e24aa7778
[STDOUT  ] 2018-02-19T12:36:46.817886930Z:  ---> ae0ba86f875a
[STDOUT  ] 2018-02-19T12:36:46.836007210Z: Removing intermediate container 2f5e24aa7778
[STDOUT  ] 2018-02-19T12:36:46.836028260Z: Successfully built ae0ba86f875a
[STDOUT  ] 2018-02-19T12:36:46.836036893Z: Successfully tagged kmod-test:latest
[STDERR  ] 2018-02-19T12:36:46.942191438Z: + linuxkit build -format kernel+initrd -name kmod test.yml
[STDERR  ] 2018-02-19T12:36:46.969980170Z: Extract kernel image: linuxkit/kernel:4.9.81
[STDERR  ] 2018-02-19T12:36:48.048955409Z: time="2018-02-19T12:36:48Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:48.049212533Z: time="2018-02-19T12:36:48Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-19T12:36:48.049395178Z: time="2018-02-19T12:36:48Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-19T12:36:48.049692864Z: time="2018-02-19T12:36:48Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-19T12:36:48.049813837Z: time="2018-02-19T12:36:48Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:48.108729392Z: time="2018-02-19T12:36:48Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-19T12:36:51.330517419Z: Add init containers:
[STDERR  ] 2018-02-19T12:36:51.330597851Z: Process init image: linuxkit/init:d899eee3560a40aa3b4bdd67b3bb82703714b2b9
[STDERR  ] 2018-02-19T12:36:52.269170139Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-19T12:36:52.269471173Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:52.269639489Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:52.269812756Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-19T12:36:52.269996166Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-19T12:36:52.274675802Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-19T12:36:52.276327781Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:52.276485698Z: time="2018-02-19T12:36:52Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-19T12:36:53.275985710Z: Process init image: linuxkit/runc:7c39a68490a12cde830e1922f171c451fb08e731
[STDERR  ] 2018-02-19T12:36:54.265830320Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:54.266089886Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:54.266258221Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-19T12:36:54.266427535Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-19T12:36:54.266632971Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-19T12:36:54.269234991Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-19T12:36:54.270736260Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-19T12:36:54.270920706Z: time="2018-02-19T12:36:54Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-19T12:36:55.136101283Z: Add onboot containers:
[STDERR  ] 2018-02-19T12:36:55.136198040Z:   Create OCI config for kmod-test
[STDERR  ] 2018-02-19T12:36:55.174338497Z: Pull image: kmod-test
[STDERR  ] 2018-02-19T12:36:56.244608014Z: time="2018-02-19T12:36:56Z" level=fatal msg="Failed to create OCI spec for kmod-test: Error response from daemon: repository kmod-test not found: does not exist or no pull access"
[STDERR  ] 2018-02-19T12:36:56.294834843Z: + clean_up
[STDERR  ] 2018-02-19T12:36:56.294908329Z: + docker rmi kmod-test
[STDERR  ] 2018-02-19T12:36:56.351532548Z: Error response from daemon: No such image: kmod-test:latest
[STDERR  ] 2018-02-19T12:36:56.354729233Z: + true
[STDERR  ] 2018-02-19T12:36:56.354778671Z: + rm -rf kmod-*
[FAIL    ] linuxkit.kernel.kmod_4.9.x 13.53s
