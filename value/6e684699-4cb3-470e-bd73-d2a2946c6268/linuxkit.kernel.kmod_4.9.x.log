[INFO    ] 2017-05-26T23:27:21.416843926Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/build/test/cases/020_kernel/010_kmod_4.9.x
[INFO    ] 2017-05-26T23:27:21.416944474Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-05-26T23:27:21.417649319Z: + find . -iname test-kernel-config* -not -iname *.yml -exec rm -rf {} ;
[STDERR  ] 2017-05-26T23:27:21.417806008Z: + set -e
[STDERR  ] 2017-05-26T23:27:21.417862626Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2017-05-26T23:27:21.417906767Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-05-26T23:27:21.417933365Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2017-05-26T23:27:21.41797444Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-05-26T23:27:21.417995855Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2017-05-26T23:27:21.418030762Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2017-05-26T23:27:21.418050813Z: + RT_CANCEL=253
[STDERR  ] 2017-05-26T23:27:21.418073845Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-05-26T23:27:21.418102532Z: + trap clean_up EXIT
[STDERR  ] 2017-05-26T23:27:21.41812948Z: + docker pull linuxkit/kernel:4.9.x
[STDOUT  ] 2017-05-26T23:27:22.680934995Z: 4.9.x: Pulling from linuxkit/kernel
[STDOUT  ] 2017-05-26T23:27:22.681034003Z: Digest: sha256:41235c0c1093801dea6bf8acfb31091fcddd4848a752a77b89729f1e6320bbc7
[STDOUT  ] 2017-05-26T23:27:22.68107215Z: Status: Image is up to date for linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-26T23:27:22.681808268Z: + docker build -t kmod-test .
[STDOUT  ] 2017-05-26T23:27:22.76214093Z: Sending build context to Docker daemon  9.216kB
[STDOUT  ] 2017-05-26T23:27:22.812139397Z: Step 1/11 : FROM linuxkit/kernel:4.9.x AS ksrc
[STDOUT  ] 2017-05-26T23:27:22.818048982Z:  ---> 3173edc4f8bb
[STDOUT  ] 2017-05-26T23:27:22.818088069Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-05-26T23:27:23.970478672Z: 1b396c221af673757703258159ddc8539843b02b: Pulling from linuxkit/kernel-compile
[STDOUT  ] 2017-05-26T23:27:23.981429422Z: 627beaf3eaaf: Already exists
[STDOUT  ] 2017-05-26T23:27:24.01848894Z: 26dc4067def6: Pulling fs layer
[STDOUT  ] 2017-05-26T23:27:26.442352672Z: 26dc4067def6: Verifying Checksum
[STDOUT  ] 2017-05-26T23:27:26.443630762Z: 26dc4067def6: Download complete
[STDOUT  ] 2017-05-26T23:27:32.795611491Z: 26dc4067def6: Pull complete
[STDOUT  ] 2017-05-26T23:27:32.829064998Z: Digest: sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-05-26T23:27:32.85969136Z: Status: Downloaded newer image for linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-05-26T23:27:32.86008152Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-05-26T23:27:32.860166478Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-05-26T23:27:35.439099123Z:  ---> bfce14bba82c
[STDOUT  ] 2017-05-26T23:27:35.492104675Z: Removing intermediate container 84f45b496fd1
[STDOUT  ] 2017-05-26T23:27:35.492216026Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-05-26T23:27:35.684571926Z:  ---> Running in 7686a392ffdd
[STDOUT  ] 2017-05-26T23:27:43.135473592Z:  ---> 1a63ac12999e
[STDOUT  ] 2017-05-26T23:27:43.481873025Z: Removing intermediate container 7686a392ffdd
[STDOUT  ] 2017-05-26T23:27:43.481973602Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-05-26T23:27:43.87074341Z:  ---> 83fc0e2d5afa
[STDOUT  ] 2017-05-26T23:27:43.917300069Z: Removing intermediate container 86f6bced7c02
[STDOUT  ] 2017-05-26T23:27:43.917468337Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-05-26T23:27:44.272464679Z:  ---> defd71bd4331
[STDOUT  ] 2017-05-26T23:27:44.293763383Z: Removing intermediate container 924bbaddfb59
[STDOUT  ] 2017-05-26T23:27:44.29384924Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-05-26T23:27:44.373965349Z:  ---> Running in 98c2b1e3b950
[STDOUT  ] 2017-05-26T23:27:44.56131505Z: make -C /usr/src/linux-headers-4.9.29-linuxkit M=/kmod modules
[STDOUT  ] 2017-05-26T23:27:44.562612327Z: make[1]: Entering directory '/usr/src/linux-headers-4.9.29-linuxkit'
[STDOUT  ] 2017-05-26T23:27:45.483231937Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2017-05-26T23:27:45.666781977Z:   Building modules, stage 2.
[STDOUT  ] 2017-05-26T23:27:45.673552595Z:   MODPOST 1 modules
[STDOUT  ] 2017-05-26T23:27:45.683518276Z:   CC      /kmod/hello_world.mod.o
[STDOUT  ] 2017-05-26T23:27:45.855219951Z:   LD [M]  /kmod/hello_world.ko
[STDOUT  ] 2017-05-26T23:27:45.857692756Z: make[1]: Leaving directory '/usr/src/linux-headers-4.9.29-linuxkit'
[STDOUT  ] 2017-05-26T23:27:46.21459231Z:  ---> c7a1006cc00a
[STDOUT  ] 2017-05-26T23:27:46.265379311Z: Removing intermediate container 98c2b1e3b950
[STDOUT  ] 2017-05-26T23:27:46.265427998Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-05-26T23:27:47.379102783Z: 3.5: Pulling from library/alpine
[STDOUT  ] 2017-05-26T23:27:47.394568574Z: 6f821164d5b7: Already exists
[STDOUT  ] 2017-05-26T23:27:47.889073581Z: Digest: sha256:f02537b30c729bb1ee0c67c8bff3a28972bed0abbee8f5520421994c5247b896
[STDOUT  ] 2017-05-26T23:27:47.910700268Z: Status: Downloaded newer image for alpine:3.5
[STDOUT  ] 2017-05-26T23:27:47.911311025Z:  ---> 75b63e430bd1
[STDOUT  ] 2017-05-26T23:27:47.911412998Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-05-26T23:27:48.201877076Z:  ---> 2a58050e6d06
[STDOUT  ] 2017-05-26T23:27:48.221183495Z: Removing intermediate container 1446aaf241f9
[STDOUT  ] 2017-05-26T23:27:48.221364563Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-05-26T23:27:48.532921545Z:  ---> 45ef993a9c63
[STDOUT  ] 2017-05-26T23:27:48.556562816Z: Removing intermediate container 054ac78a56b0
[STDOUT  ] 2017-05-26T23:27:48.556659987Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-05-26T23:27:48.683218297Z:  ---> Running in aa0fc0fdc09e
[STDOUT  ] 2017-05-26T23:27:48.843866567Z:  ---> 149f2c106ec1
[STDOUT  ] 2017-05-26T23:27:48.880700805Z: Removing intermediate container aa0fc0fdc09e
[STDOUT  ] 2017-05-26T23:27:48.880831722Z: Successfully built 149f2c106ec1
[STDOUT  ] 2017-05-26T23:27:48.902644608Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-05-26T23:27:48.928863757Z: + moby build -output kernel+initrd kmod
[STDERR  ] 2017-05-26T23:27:48.939659877Z: Pull kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-26T23:27:51.969349318Z: Extract kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-26T23:27:51.969363262Z: Pull image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-26T23:27:55.367704918Z: Add init containers:
[STDERR  ] 2017-05-26T23:27:55.367744135Z: Process init image: linuxkit/init:4fc8aa82ab34d62d510575c8fbe0c58b7ba9c480
[STDERR  ] 2017-05-26T23:27:55.367762525Z: Pull image: linuxkit/init:4fc8aa82ab34d62d510575c8fbe0c58b7ba9c480
[STDERR  ] 2017-05-26T23:27:58.402383309Z: Process init image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-05-26T23:27:58.402458872Z: Pull image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-05-26T23:28:01.145353455Z: Pull image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-05-26T23:28:03.916867042Z: time="2017-05-26T23:28:03Z" level=fatal msg="Failed to build init tarball from linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f: Failed to docker create image linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f: Error: No such image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f" 
[STDERR  ] 2017-05-26T23:28:03.933024983Z: + clean_up
[STDERR  ] 2017-05-26T23:28:03.933039287Z: + docker rmi kmod-test
[STDOUT  ] 2017-05-26T23:28:03.960559836Z: Untagged: kmod-test:latest
[STDOUT  ] 2017-05-26T23:28:03.960567429Z: Deleted: sha256:149f2c106ec117b4a065958d1a2010041d0d763e6bb5382b7de580db02c5de6d
[STDOUT  ] 2017-05-26T23:28:03.96059593Z: Deleted: sha256:45ef993a9c636fecd0c8664aefbdba65d1d8494c3c9bcc8ae1b944e2035a5442
[STDOUT  ] 2017-05-26T23:28:03.960600666Z: Deleted: sha256:369b0748e7174d4963e864d48e24af5e5e5c1850146b97bc298ff4873138e3f0
[STDOUT  ] 2017-05-26T23:28:03.960627951Z: Deleted: sha256:2a58050e6d06dc5a92d155037ca25ac98e6c36dc6111c447389a1d65202cf5ef
[STDOUT  ] 2017-05-26T23:28:03.960633601Z: Deleted: sha256:c66bb92a1309afffb5fd8c4f46b65988100f41a588c205402703d5eebc55fe54
[STDERR  ] 2017-05-26T23:28:03.961374942Z: + find . -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[FAIL    ] linuxkit.kernel.kmod_4.9.x 42.55s
