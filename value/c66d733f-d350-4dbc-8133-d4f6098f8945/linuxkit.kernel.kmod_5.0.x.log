[INFO    ] 2019-04-17T07:21:17.863687472Z: Running Test linuxkit.kernel.kmod_5.0.x in /tmp/build/test/cases/020_kernel/017_kmod_5.0.x
[INFO    ] 2019-04-17T07:21:17.863840070Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/017_kmod_5.0.x/test.sh]
[STDERR  ] 2019-04-17T07:21:17.864529624Z: + set -e
[STDERR  ] 2019-04-17T07:21:17.864604398Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-04-17T07:21:17.864621164Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-04-17T07:21:17.864634866Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-04-17T07:21:17.864649361Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-04-17T07:21:17.864665256Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-04-17T07:21:17.864680216Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-04-17T07:21:17.864702027Z: + RT_CANCEL=253
[STDERR  ] 2019-04-17T07:21:17.864715979Z: + NAME=kmod
[STDERR  ] 2019-04-17T07:21:17.864730364Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-04-17T07:21:17.864745949Z: + trap clean_up EXIT
[STDERR  ] 2019-04-17T07:21:17.864761804Z: + docker pull linuxkit/kernel:5.0.7
[STDOUT  ] 2019-04-17T07:21:19.125418684Z: 5.0.7: Pulling from linuxkit/kernel
[STDOUT  ] 2019-04-17T07:21:19.568266024Z: Digest: sha256:678a55be0a3ba92adccdf137c3a761412d7f3f2baf4f1fd1d0bfd05be7a6a8ee
[STDOUT  ] 2019-04-17T07:21:20.113611880Z: Status: Downloaded newer image for linuxkit/kernel:5.0.7
[STDERR  ] 2019-04-17T07:21:20.115324282Z: + docker build -t kmod-test .
[STDOUT  ] 2019-04-17T07:21:20.509812172Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-04-17T07:21:20.587306024Z: Step 1/12 : FROM linuxkit/kernel:5.0.7 AS ksrc
[STDOUT  ] 2019-04-17T07:21:20.587764519Z:  ---> a5bc0d29fd56
[STDOUT  ] 2019-04-17T07:21:20.587901009Z: Step 2/12 : FROM linuxkit/alpine:86cd4f51b49fb9a078b50201d892a3c7973d48ec AS build
[STDOUT  ] 2019-04-17T07:21:20.588461996Z:  ---> 859b94cde25f
[STDOUT  ] 2019-04-17T07:21:20.588484019Z: Step 3/12 : RUN apk add build-base elfutils-dev
[STDOUT  ] 2019-04-17T07:21:20.588847401Z:  ---> Using cache
[STDOUT  ] 2019-04-17T07:21:20.588865660Z:  ---> cf9c642b285b
[STDOUT  ] 2019-04-17T07:21:20.588877001Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-04-17T07:21:21.825857301Z:  ---> 7a8998765de6
[STDOUT  ] 2019-04-17T07:21:21.825910733Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-04-17T07:21:21.893300566Z:  ---> Running in 024d4f5dff6d
[STDOUT  ] 2019-04-17T07:21:29.198492421Z: Removing intermediate container 024d4f5dff6d
[STDOUT  ] 2019-04-17T07:21:29.198546253Z:  ---> d82fd79d53eb
[STDOUT  ] 2019-04-17T07:21:29.198556409Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-04-17T07:21:29.273924876Z:  ---> Running in 53909b374274
[STDOUT  ] 2019-04-17T07:21:29.426294537Z: Removing intermediate container 53909b374274
[STDOUT  ] 2019-04-17T07:21:29.426345309Z:  ---> c3929fb49036
[STDOUT  ] 2019-04-17T07:21:29.426353482Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-04-17T07:21:29.677136851Z:  ---> 7bb3f8419b51
[STDOUT  ] 2019-04-17T07:21:29.677204668Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-04-17T07:21:29.729067468Z:  ---> Running in cdf027cf38fd
[STDOUT  ] 2019-04-17T07:21:30.016959429Z: make -C /usr/src/linux-headers-5.0.7-linuxkit M=/kmod modules
[STDOUT  ] 2019-04-17T07:21:30.017022163Z: make[1]: Entering directory '/usr/src/linux-headers-5.0.7-linuxkit'
[STDOUT  ] 2019-04-17T07:21:31.238045897Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-04-17T07:21:31.245520334Z: [91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T07:21:31.245582827Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/stackleak_plugin.so
[STDOUT  ] 2019-04-17T07:21:31.245593819Z: [0m[91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T07:21:31.245604985Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2019-04-17T07:21:31.245614920Z: cc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T07:21:31.245625219Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2019-04-17T07:21:31.246472236Z: [0m[91mmake[2]: *** [scripts/Makefile.build:283: /kmod/hello_world.o] Error 1
[STDOUT  ] 2019-04-17T07:21:31.246763488Z: [0m[91mmake[1]: *** [Makefile:1576: _module_/kmod] Error 2
[STDOUT  ] 2019-04-17T07:21:31.246786010Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-5.0.7-linuxkit'
[STDOUT  ] 2019-04-17T07:21:31.247204406Z: [91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2019-04-17T07:21:31.530221837Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2019-04-17T07:21:31.531673533Z: + clean_up
[STDERR  ] 2019-04-17T07:21:31.531718831Z: + docker rmi kmod-test
[STDERR  ] 2019-04-17T07:21:31.625931382Z: Error: No such image: kmod-test
[STDERR  ] 2019-04-17T07:21:31.627344384Z: + true
[STDERR  ] 2019-04-17T07:21:31.627441777Z: + rm -rf kmod-*
[STDOUT  ] 2019-04-17T07:21:31.628276810Z: [0m
[FAIL    ] linuxkit.kernel.kmod_5.0.x 13.76s
