[INFO    ] 2017-06-01T16:34:05.888905965Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/build/test/cases/020_kernel/010_kmod_4.9.x
[INFO    ] 2017-06-01T16:34:05.888983158Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-06-01T16:34:05.889886781Z: + set -e
[STDERR  ] 2017-06-01T16:34:05.889959668Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2017-06-01T16:34:05.889999563Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-06-01T16:34:05.890030955Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2017-06-01T16:34:05.89006088Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-06-01T16:34:05.890077914Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2017-06-01T16:34:05.890111951Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2017-06-01T16:34:05.890141216Z: + RT_CANCEL=253
[STDERR  ] 2017-06-01T16:34:05.890159104Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-06-01T16:34:05.890182979Z: + trap clean_up EXIT
[STDERR  ] 2017-06-01T16:34:05.890213417Z: + docker pull linuxkit/kernel:4.9.x
[STDOUT  ] 2017-06-01T16:34:07.600440246Z: 4.9.x: Pulling from linuxkit/kernel
[STDOUT  ] 2017-06-01T16:34:07.60056342Z: Digest: sha256:a0bc40648edf7e73b9801f2887b0aefab9ec1878dcbe3bcff8ea48ebfffdb4d7
[STDOUT  ] 2017-06-01T16:34:07.600598377Z: Status: Image is up to date for linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-01T16:34:07.601673714Z: + docker build -t kmod-test .
[STDOUT  ] 2017-06-01T16:34:07.671444342Z: Sending build context to Docker daemon  9.216kB
[STDOUT  ] 2017-06-01T16:34:07.673833887Z: Step 1/11 : FROM linuxkit/kernel:4.9.x AS ksrc
[STDOUT  ] 2017-06-01T16:34:07.709091851Z:  ---> 15f175ba5ede
[STDOUT  ] 2017-06-01T16:34:07.709155302Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-06-01T16:34:08.831465242Z: 1b396c221af673757703258159ddc8539843b02b: Pulling from linuxkit/kernel-compile
[STDOUT  ] 2017-06-01T16:34:08.852525002Z: 627beaf3eaaf: Already exists
[STDOUT  ] 2017-06-01T16:34:08.932168085Z: 26dc4067def6: Pulling fs layer
[STDOUT  ] 2017-06-01T16:34:13.066932059Z: 26dc4067def6: Verifying Checksum
[STDOUT  ] 2017-06-01T16:34:13.068459014Z: 26dc4067def6: Download complete
[STDOUT  ] 2017-06-01T16:34:20.413511804Z: 26dc4067def6: Pull complete
[STDOUT  ] 2017-06-01T16:34:20.966429839Z: Digest: sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-06-01T16:34:21.513679699Z: Status: Downloaded newer image for linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-06-01T16:34:21.513762458Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-06-01T16:34:21.513772893Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-06-01T16:34:23.896283709Z:  ---> 33aa1fe50e34
[STDOUT  ] 2017-06-01T16:34:23.941824724Z: Removing intermediate container 9b12687365a7
[STDOUT  ] 2017-06-01T16:34:23.941988951Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-06-01T16:34:24.078107213Z:  ---> Running in 89629ed79a98
[STDOUT  ] 2017-06-01T16:34:31.036878802Z:  ---> 9b8f8c86138c
[STDOUT  ] 2017-06-01T16:34:31.449743961Z: Removing intermediate container 89629ed79a98
[STDOUT  ] 2017-06-01T16:34:31.449864376Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-06-01T16:34:31.773359642Z:  ---> 25e488d832ed
[STDOUT  ] 2017-06-01T16:34:31.804072979Z: Removing intermediate container cd51d1831a0f
[STDOUT  ] 2017-06-01T16:34:31.804235916Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-06-01T16:34:32.185770216Z:  ---> a50ebb6ed6c6
[STDOUT  ] 2017-06-01T16:34:32.206593714Z: Removing intermediate container 8897d65777a9
[STDOUT  ] 2017-06-01T16:34:32.206771949Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-06-01T16:34:32.32746469Z:  ---> Running in 721608bdf109
[STDOUT  ] 2017-06-01T16:34:32.587087908Z: make -C /usr/src/linux-headers-4.9.30-linuxkit M=/kmod modules
[STDOUT  ] 2017-06-01T16:34:32.588794608Z: make[1]: Entering directory '/usr/src/linux-headers-4.9.30-linuxkit'
[STDOUT  ] 2017-06-01T16:34:33.890984887Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2017-06-01T16:34:34.100092001Z:   Building modules, stage 2.
[STDOUT  ] 2017-06-01T16:34:34.107810462Z:   MODPOST 1 modules
[STDOUT  ] 2017-06-01T16:34:34.118854307Z:   CC      /kmod/hello_world.mod.o
[STDOUT  ] 2017-06-01T16:34:34.325256797Z:   LD [M]  /kmod/hello_world.ko
[STDOUT  ] 2017-06-01T16:34:34.327759943Z: make[1]: Leaving directory '/usr/src/linux-headers-4.9.30-linuxkit'
[STDOUT  ] 2017-06-01T16:34:34.67842365Z:  ---> a9974d227b89
[STDOUT  ] 2017-06-01T16:34:34.695136513Z: Removing intermediate container 721608bdf109
[STDOUT  ] 2017-06-01T16:34:34.695249028Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-06-01T16:34:35.812545503Z: 3.5: Pulling from library/alpine
[STDOUT  ] 2017-06-01T16:34:35.812554896Z: 6f821164d5b7: Pulling fs layer
[STDOUT  ] 2017-06-01T16:34:36.469631652Z: 6f821164d5b7: Verifying Checksum
[STDOUT  ] 2017-06-01T16:34:36.46970497Z: 6f821164d5b7: Download complete
[STDOUT  ] 2017-06-01T16:34:37.078305619Z: 6f821164d5b7: Pull complete
[STDOUT  ] 2017-06-01T16:34:37.689244479Z: Digest: sha256:f02537b30c729bb1ee0c67c8bff3a28972bed0abbee8f5520421994c5247b896
[STDOUT  ] 2017-06-01T16:34:37.756539469Z: Status: Downloaded newer image for alpine:3.5
[STDOUT  ] 2017-06-01T16:34:37.756621359Z:  ---> 75b63e430bd1
[STDOUT  ] 2017-06-01T16:34:37.756626353Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-06-01T16:34:38.023311216Z:  ---> a1383574e8fc
[STDOUT  ] 2017-06-01T16:34:38.032567764Z: Removing intermediate container a0a0fe72dbc5
[STDOUT  ] 2017-06-01T16:34:38.032704103Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-06-01T16:34:38.242255285Z:  ---> 0eedd2038dec
[STDOUT  ] 2017-06-01T16:34:38.254992253Z: Removing intermediate container 4d69c8e47ad5
[STDOUT  ] 2017-06-01T16:34:38.25513106Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-06-01T16:34:38.338552894Z:  ---> Running in ed520094a8f1
[STDOUT  ] 2017-06-01T16:34:38.414951828Z:  ---> b5962fdc0463
[STDOUT  ] 2017-06-01T16:34:38.426150365Z: Removing intermediate container ed520094a8f1
[STDOUT  ] 2017-06-01T16:34:38.42628393Z: Successfully built b5962fdc0463
[STDOUT  ] 2017-06-01T16:34:38.448050304Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-06-01T16:34:38.477100972Z: + moby build -output kernel+initrd kmod
[STDERR  ] 2017-06-01T16:34:38.487385532Z: Pull kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-01T16:34:41.516450527Z: Extract kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-01T16:34:41.516465075Z: Pull image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-01T16:34:45.079544393Z: Add init containers:
[STDERR  ] 2017-06-01T16:34:45.079605987Z: Process init image: linuxkit/init:1b8a7e394d2ec2f1fdb4d67645829d1b5bdca037
[STDERR  ] 2017-06-01T16:34:45.079638853Z: Pull image: linuxkit/init:1b8a7e394d2ec2f1fdb4d67645829d1b5bdca037
[STDERR  ] 2017-06-01T16:34:47.963718286Z: Process init image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-06-01T16:34:47.96375411Z: Pull image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-06-01T16:34:50.822067528Z: Process init image: linuxkit/containerd:e3832e460e0565d94141a59bc750e6d6523b271f
[STDERR  ] 2017-06-01T16:34:50.822111145Z: Pull image: linuxkit/containerd:e3832e460e0565d94141a59bc750e6d6523b271f
[STDERR  ] 2017-06-01T16:34:52.516984115Z: time="2017-06-01T16:34:52Z" level=fatal msg="Failed to build init tarball from linuxkit/containerd:e3832e460e0565d94141a59bc750e6d6523b271f: Could not pull image linuxkit/containerd:e3832e460e0565d94141a59bc750e6d6523b271f: Trusted pull for linuxkit/containerd:e3832e460e0565d94141a59bc750e6d6523b271f failed: No trust data for e3832e460e0565d94141a59bc750e6d6523b271f" 
[STDERR  ] 2017-06-01T16:34:52.533525716Z: + clean_up
[STDERR  ] 2017-06-01T16:34:52.5335384Z: + docker rmi kmod-test
[STDOUT  ] 2017-06-01T16:34:52.562242658Z: Untagged: kmod-test:latest
[STDOUT  ] 2017-06-01T16:34:52.562259736Z: Deleted: sha256:b5962fdc046376fe01b1f2dc92a2bd287a8568c7e0d2cdff7720f828daa25580
[STDOUT  ] 2017-06-01T16:34:52.562279804Z: Deleted: sha256:0eedd2038dec0f9beac099024b71fadd4e038bce4161ca4e07db1316736906a0
[STDOUT  ] 2017-06-01T16:34:52.562287945Z: Deleted: sha256:1d53be0b5fadaa662daa44da9461448b7b1c26f934059c5ab73c89dd29d2bdc5
[STDOUT  ] 2017-06-01T16:34:52.562296074Z: Deleted: sha256:a1383574e8fcc365d804a9765c638af98d1e276687c438cf6b55f4cb0aab2053
[STDOUT  ] 2017-06-01T16:34:52.562305278Z: Deleted: sha256:b8a083541d309ab0ad58edb1449834ba7f312a1fa7489b3294c56c899cffa004
[STDERR  ] 2017-06-01T16:34:52.563421284Z: + find . -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[FAIL    ] linuxkit.kernel.kmod_4.9.x 46.68s
