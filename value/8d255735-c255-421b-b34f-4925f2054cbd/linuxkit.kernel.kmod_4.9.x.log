[INFO    ] 2017-08-04T13:40:49.08675296Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/build/test/cases/020_kernel/010_kmod_4.9.x
[INFO    ] 2017-08-04T13:40:49.086852353Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-08-04T13:40:49.09246822Z: + set -e
[STDERR  ] 2017-08-04T13:40:49.092590081Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2017-08-04T13:40:49.092601921Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-08-04T13:40:49.092613401Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2017-08-04T13:40:49.092623625Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-08-04T13:40:49.092635767Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2017-08-04T13:40:49.092648444Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2017-08-04T13:40:49.092662098Z: + export LINUXKIT_BLUEPRINTS_DIR=/tmp/build/test/cases/../../blueprints
[STDERR  ] 2017-08-04T13:40:49.092676061Z: + RT_CANCEL=253
[STDERR  ] 2017-08-04T13:40:49.09268609Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-08-04T13:40:49.092696298Z: + trap clean_up EXIT
[STDERR  ] 2017-08-04T13:40:49.092706684Z: + docker pull linuxkit/kernel:4.9.40
[STDOUT  ] 2017-08-04T13:40:50.267040649Z: 4.9.40: Pulling from linuxkit/kernel
[STDOUT  ] 2017-08-04T13:40:50.650803449Z: Digest: sha256:949fa6b4a7ed44ed5183fdd8987dcb5e21497ff02bd5db44b566349810029d9f
[STDOUT  ] 2017-08-04T13:40:50.650941206Z: Status: Image is up to date for linuxkit/kernel:4.9.40
[STDERR  ] 2017-08-04T13:40:50.652051478Z: + docker build -t kmod-test .
[STDOUT  ] 2017-08-04T13:40:50.76085398Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2017-08-04T13:40:50.868276472Z: Step 1/11 : FROM linuxkit/kernel:4.9.40 AS ksrc
[STDOUT  ] 2017-08-04T13:40:50.884281335Z:  ---> f874cde1f35a
[STDOUT  ] 2017-08-04T13:40:50.88434893Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-08-04T13:40:51.988795179Z: 1b396c221af673757703258159ddc8539843b02b: Pulling from linuxkit/kernel-compile
[STDOUT  ] 2017-08-04T13:40:52.008660251Z: 627beaf3eaaf: Already exists
[STDOUT  ] 2017-08-04T13:40:52.015056708Z: 26dc4067def6: Pulling fs layer
[STDOUT  ] 2017-08-04T13:40:55.683711145Z: 26dc4067def6: Verifying Checksum
[STDOUT  ] 2017-08-04T13:40:55.683763186Z: 26dc4067def6: Download complete
[STDOUT  ] 2017-08-04T13:41:01.83498815Z: 26dc4067def6: Pull complete
[STDOUT  ] 2017-08-04T13:41:01.849373858Z: Digest: sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-08-04T13:41:01.856045317Z: Status: Downloaded newer image for linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-08-04T13:41:01.856618701Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-08-04T13:41:01.856643136Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-08-04T13:41:03.597327062Z:  ---> 9daf11e5ddfb
[STDOUT  ] 2017-08-04T13:41:03.624554527Z: Removing intermediate container c031f2a2a091
[STDOUT  ] 2017-08-04T13:41:03.624604056Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-08-04T13:41:03.738458974Z:  ---> Running in 086382710a9f
[STDOUT  ] 2017-08-04T13:41:09.931414906Z:  ---> b69c9acd1bb3
[STDOUT  ] 2017-08-04T13:41:10.297344736Z: Removing intermediate container 086382710a9f
[STDOUT  ] 2017-08-04T13:41:10.297398388Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-08-04T13:41:10.56854314Z:  ---> fa67346d1e56
[STDOUT  ] 2017-08-04T13:41:10.573924644Z: Removing intermediate container 3960bee52486
[STDOUT  ] 2017-08-04T13:41:10.573966157Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-08-04T13:41:11.077309593Z:  ---> 30b176f78c2f
[STDOUT  ] 2017-08-04T13:41:11.082733244Z: Removing intermediate container e1bf943ff67d
[STDOUT  ] 2017-08-04T13:41:11.082767584Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-08-04T13:41:11.150636876Z:  ---> Running in 20ace3e817d1
[STDOUT  ] 2017-08-04T13:41:11.51451071Z: make -C /usr/src/linux-headers-4.9.40-linuxkit M=/kmod modules
[STDOUT  ] 2017-08-04T13:41:11.515221582Z: make[1]: Entering directory '/usr/src/linux-headers-4.9.40-linuxkit'
[STDOUT  ] 2017-08-04T13:41:12.297733773Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2017-08-04T13:41:12.481576568Z:   Building modules, stage 2.
[STDOUT  ] 2017-08-04T13:41:12.489337837Z:   MODPOST 1 modules
[STDOUT  ] 2017-08-04T13:41:12.500709232Z:   CC      /kmod/hello_world.mod.o
[STDOUT  ] 2017-08-04T13:41:12.665140133Z:   LD [M]  /kmod/hello_world.ko
[STDOUT  ] 2017-08-04T13:41:12.668129854Z: make[1]: Leaving directory '/usr/src/linux-headers-4.9.40-linuxkit'
[STDOUT  ] 2017-08-04T13:41:13.081109404Z:  ---> 721fd41462d2
[STDOUT  ] 2017-08-04T13:41:13.086931042Z: Removing intermediate container 20ace3e817d1
[STDOUT  ] 2017-08-04T13:41:13.08696256Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-08-04T13:41:14.197588852Z: 3.5: Pulling from library/alpine
[STDOUT  ] 2017-08-04T13:41:14.197647922Z: 019300c8a437: Pulling fs layer
[STDOUT  ] 2017-08-04T13:41:15.038187183Z: 019300c8a437: Verifying Checksum
[STDOUT  ] 2017-08-04T13:41:15.038235725Z: 019300c8a437: Download complete
[STDOUT  ] 2017-08-04T13:41:15.330821938Z: 019300c8a437: Pull complete
[STDOUT  ] 2017-08-04T13:41:15.901100095Z: Digest: sha256:af2a5bd2f8de8fc1ecabf1c76611cdc6a5f1ada1a2bdd7d3816e121b70300308
[STDOUT  ] 2017-08-04T13:41:15.910864394Z: Status: Downloaded newer image for alpine:3.5
[STDOUT  ] 2017-08-04T13:41:15.910913016Z:  ---> 074d602a59d7
[STDOUT  ] 2017-08-04T13:41:15.910936521Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-08-04T13:41:16.221420258Z:  ---> 1cbe207d4835
[STDOUT  ] 2017-08-04T13:41:16.22648518Z: Removing intermediate container a8483a48b53f
[STDOUT  ] 2017-08-04T13:41:16.226577981Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-08-04T13:41:16.585221124Z:  ---> 5bd5b0a976e4
[STDOUT  ] 2017-08-04T13:41:16.590233056Z: Removing intermediate container d3c11cd35640
[STDOUT  ] 2017-08-04T13:41:16.590264949Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-08-04T13:41:16.677931005Z:  ---> Running in 51a8c777afd9
[STDOUT  ] 2017-08-04T13:41:16.818250613Z:  ---> 928d36868727
[STDOUT  ] 2017-08-04T13:41:16.823518733Z: Removing intermediate container 51a8c777afd9
[STDOUT  ] 2017-08-04T13:41:16.823561975Z: Successfully built 928d36868727
[STDOUT  ] 2017-08-04T13:41:16.827227628Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-08-04T13:41:16.859227177Z: + moby build -output kernel+initrd kmod.yml
[STDERR  ] 2017-08-04T13:41:16.869128738Z: Extract kernel image: linuxkit/kernel:4.9.40
[STDERR  ] 2017-08-04T13:41:18.592246324Z: Add init containers:
[STDERR  ] 2017-08-04T13:41:18.592304364Z: Process init image: linuxkit/init:906e174b3f2e07f97d6fd693a2e8518e98dafa58
[STDERR  ] 2017-08-04T13:41:19.894992132Z: Process init image: linuxkit/runc:90e45f13e1d0a0983f36ef854621e3eac91cf541
[STDERR  ] 2017-08-04T13:41:21.111161496Z: Add onboot containers:
[STDERR  ] 2017-08-04T13:41:21.111228188Z:   Create OCI config for kmod-test
[STDERR  ] 2017-08-04T13:41:21.261287785Z:   Create OCI config for linuxkit/poweroff:1e9876c682c74d0602b7647c628bb0875fb13998
[STDERR  ] 2017-08-04T13:41:22.491993684Z: Create outputs:
[STDERR  ] 2017-08-04T13:41:25.577570342Z:   kmod-kernel kmod-initrd.img kmod-cmdline
[STDERR  ] 2017-08-04T13:41:25.612278892Z: + linuxkit run kmod
[STDERR  ] 2017-08-04T13:41:25.627566433Z: Unable to find qemu-system-x86_64 within the $PATH. Using a container
[STDERR  ] 2017-08-04T13:41:25.988417821Z: qemu-system-x86_64: Unable to find CPU definition: cortex-a57
[STDERR  ] 2017-08-04T13:41:26.331027387Z: time="2017-08-04T13:41:26Z" level=fatal msg="exit status 1" 
[STDERR  ] 2017-08-04T13:41:26.333033872Z: + RESULT=
[STDERR  ] 2017-08-04T13:41:26.333071341Z: + clean_up
[STDERR  ] 2017-08-04T13:41:26.333081685Z: + docker rmi kmod-test
[STDOUT  ] 2017-08-04T13:41:26.352934886Z: Untagged: kmod-test:latest
[STDOUT  ] 2017-08-04T13:41:26.35298753Z: Deleted: sha256:928d36868727a6caaeb49464bae0b1a2501a7e600abfaad81ef1fb3e4f38dd94
[STDOUT  ] 2017-08-04T13:41:26.35300155Z: Deleted: sha256:5bd5b0a976e4ba60de7064fc84024fc79b0992f5601b36c7c4e3438849ef28b1
[STDOUT  ] 2017-08-04T13:41:26.353008572Z: Deleted: sha256:1e74ea697d5454302c13079299392c4c8b3856a7c24f4b3050604fe664a9f7d6
[STDOUT  ] 2017-08-04T13:41:26.353014702Z: Deleted: sha256:1cbe207d4835719009377952a5d8129289cc74e821b77eb2387842dd02067790
[STDOUT  ] 2017-08-04T13:41:26.35302059Z: Deleted: sha256:a9b606f7a42ba09d990a6f93676b1b6fef6adbcc83b5ac10dd7c70809cc1d473
[STDERR  ] 2017-08-04T13:41:26.353815141Z: + find . -depth -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[FAIL    ] linuxkit.kernel.kmod_4.9.x 37.27s
