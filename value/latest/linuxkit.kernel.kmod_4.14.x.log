[INFO    ] 2019-03-03T16:38:44.746748955Z: Running Test linuxkit.kernel.kmod_4.14.x in /tmp/build/test/cases/020_kernel/012_kmod_4.14.x
[INFO    ] 2019-03-03T16:38:44.746912059Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/012_kmod_4.14.x/test.sh]
[STDERR  ] 2019-03-03T16:38:44.747673795Z: + set -e
[STDERR  ] 2019-03-03T16:38:44.747757823Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-03-03T16:38:44.747773490Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-03-03T16:38:44.747787918Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-03-03T16:38:44.747801993Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-03-03T16:38:44.747817070Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-03-03T16:38:44.747832426Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-03-03T16:38:44.747845599Z: + RT_CANCEL=253
[STDERR  ] 2019-03-03T16:38:44.747858262Z: + NAME=kmod
[STDERR  ] 2019-03-03T16:38:44.747881388Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-03-03T16:38:44.747897943Z: + trap clean_up EXIT
[STDERR  ] 2019-03-03T16:38:44.747912298Z: + docker pull linuxkit/kernel:4.14.104
[STDOUT  ] 2019-03-03T16:38:45.905491174Z: 4.14.104: Pulling from linuxkit/kernel
[STDOUT  ] 2019-03-03T16:38:46.288964843Z: Digest: sha256:3f60892cf878116cdca3718f6c4f1ff94a8e90a6d83031cb5d9f693dd86c21ed
[STDOUT  ] 2019-03-03T16:38:46.294516391Z: Status: Downloaded newer image for linuxkit/kernel:4.14.104
[STDERR  ] 2019-03-03T16:38:46.296221755Z: + docker build -t kmod-test .
[STDOUT  ] 2019-03-03T16:38:46.372973550Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-03-03T16:38:46.518755423Z: Step 1/12 : FROM linuxkit/kernel:4.14.104 AS ksrc
[STDOUT  ] 2019-03-03T16:38:46.519121170Z:  ---> b4e55aed0561
[STDOUT  ] 2019-03-03T16:38:46.519222414Z: Step 2/12 : FROM linuxkit/alpine:5ce235f4fb55772e7f78871a70bfe26f774fe2b0 AS build
[STDOUT  ] 2019-03-03T16:38:46.519750890Z:  ---> 464cb75731f7
[STDOUT  ] 2019-03-03T16:38:46.519773137Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2019-03-03T16:38:46.520266040Z:  ---> Using cache
[STDOUT  ] 2019-03-03T16:38:46.520289901Z:  ---> 114f610936df
[STDOUT  ] 2019-03-03T16:38:46.520301521Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-03-03T16:38:47.833662764Z:  ---> 8f5148fdcd71
[STDOUT  ] 2019-03-03T16:38:47.833741157Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-03-03T16:38:47.901631602Z:  ---> Running in b56573441b1c
[STDOUT  ] 2019-03-03T16:38:55.652580345Z: Removing intermediate container b56573441b1c
[STDOUT  ] 2019-03-03T16:38:55.652892635Z:  ---> 090334c666f6
[STDOUT  ] 2019-03-03T16:38:55.652926984Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-03-03T16:38:55.731307422Z:  ---> Running in 9c2845eb9103
[STDOUT  ] 2019-03-03T16:38:55.888705045Z: Removing intermediate container 9c2845eb9103
[STDOUT  ] 2019-03-03T16:38:55.888758858Z:  ---> a1316789b45f
[STDOUT  ] 2019-03-03T16:38:55.888769701Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-03-03T16:38:56.162510629Z:  ---> 26f6c815f175
[STDOUT  ] 2019-03-03T16:38:56.162560691Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-03-03T16:38:56.231603327Z:  ---> Running in 424347a5cf8f
[STDOUT  ] 2019-03-03T16:38:56.532354268Z: make -C /usr/src/linux-headers-4.14.104-linuxkit M=/kmod modules
[STDOUT  ] 2019-03-03T16:38:56.534656055Z: make[1]: Entering directory '/usr/src/linux-headers-4.14.104-linuxkit'
[STDOUT  ] 2019-03-03T16:38:58.052521775Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-03-03T16:38:58.059631602Z: [91mcc1: error: cannot load plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2019-03-03T16:38:58.059687432Z:    Error relocating ./scripts/gcc-plugins/structleak_plugin.so: _ZN11symtab_node10dump_tableEP8_IO_FILE: symbol not found
[STDOUT  ] 2019-03-03T16:38:58.060068159Z: [0m[91mcc1: error: cannot load plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2019-03-03T16:38:58.060104387Z:    Error relocating ./scripts/gcc-plugins/randomize_layout_plugin.so: _Z13size_int_kindl14size_type_kind: symbol not found
[STDOUT  ] 2019-03-03T16:38:58.063180606Z: [0m[91mmake[2]: *** [scripts/Makefile.build:333: /kmod/hello_world.o] Error 1
[STDOUT  ] 2019-03-03T16:38:58.063453260Z: [0m[91mmake[1]: *** [Makefile:1535: _module_/kmod] Error 2
[STDOUT  ] 2019-03-03T16:38:58.063517400Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-4.14.104-linuxkit'
[STDOUT  ] 2019-03-03T16:38:58.067636663Z: [91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2019-03-03T16:38:58.351270114Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2019-03-03T16:38:58.352767675Z: + clean_up
[STDERR  ] 2019-03-03T16:38:58.352939498Z: + docker rmi kmod-test
[STDERR  ] 2019-03-03T16:38:58.424492500Z: Error: No such image: kmod-test
[STDERR  ] 2019-03-03T16:38:58.425940329Z: + true
[STDERR  ] 2019-03-03T16:38:58.425991774Z: + rm -rf kmod-*
[STDOUT  ] 2019-03-03T16:38:58.427122661Z: [0m
[FAIL    ] linuxkit.kernel.kmod_4.14.x 13.68s
