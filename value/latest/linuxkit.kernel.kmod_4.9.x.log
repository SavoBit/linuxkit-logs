[INFO    ] 2019-04-19T14:23:37.823302568Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/build/test/cases/020_kernel/011_kmod_4.9.x
[INFO    ] 2019-04-19T14:23:37.823480252Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/011_kmod_4.9.x/test.sh]
[STDERR  ] 2019-04-19T14:23:37.824187035Z: + set -e
[STDERR  ] 2019-04-19T14:23:37.824259395Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-04-19T14:23:37.824274600Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-04-19T14:23:37.824288132Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-04-19T14:23:37.824302012Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-04-19T14:23:37.824317224Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-04-19T14:23:37.824331721Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-04-19T14:23:37.824345066Z: + RT_CANCEL=253
[STDERR  ] 2019-04-19T14:23:37.824358376Z: + NAME=kmod
[STDERR  ] 2019-04-19T14:23:37.824387636Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-04-19T14:23:37.824403213Z: + trap clean_up EXIT
[STDERR  ] 2019-04-19T14:23:37.824418563Z: + docker pull linuxkit/kernel:4.9.169
[STDOUT  ] 2019-04-19T14:23:38.991626153Z: 4.9.169: Pulling from linuxkit/kernel
[STDOUT  ] 2019-04-19T14:23:39.378432474Z: 83b43f2aa98f: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:46.493443805Z: 83b43f2aa98f: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:46.493495420Z: 83b43f2aa98f: Download complete
[STDOUT  ] 2019-04-19T14:23:48.990423655Z: 83b43f2aa98f: Pull complete
[STDOUT  ] 2019-04-19T14:23:48.997522371Z: Digest: sha256:8f8930786e789e78313bcce19312bc9c3895a1328f6a52cf065a4fdd51b919df
[STDOUT  ] 2019-04-19T14:23:49.004153236Z: Status: Downloaded newer image for linuxkit/kernel:4.9.169
[STDERR  ] 2019-04-19T14:23:49.005761069Z: + docker build -t kmod-test .
[STDOUT  ] 2019-04-19T14:23:49.143292103Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-04-19T14:23:49.212919829Z: Step 1/12 : FROM linuxkit/kernel:4.9.169 AS ksrc
[STDOUT  ] 2019-04-19T14:23:49.213354326Z:  ---> 2f987807a8dc
[STDOUT  ] 2019-04-19T14:23:49.213675024Z: Step 2/12 : FROM linuxkit/alpine:86cd4f51b49fb9a078b50201d892a3c7973d48ec AS build
[STDOUT  ] 2019-04-19T14:23:50.285036507Z: 86cd4f51b49fb9a078b50201d892a3c7973d48ec: Pulling from linuxkit/alpine
[STDOUT  ] 2019-04-19T14:23:50.676582437Z: 8e402f1a9c57: Already exists
[STDOUT  ] 2019-04-19T14:23:50.682704920Z: 165965160a1c: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.682832261Z: 65f5b65fc5db: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.682873745Z: d32b6c6f1dc4: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.682972218Z: d3d89fbf6a32: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.683112684Z: d87ede0ff513: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.683142260Z: c9f9b799c58c: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.683154331Z: 7d4b1237090a: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.683167516Z: 217c0c63a797: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.683178916Z: da3d45809a18: Pulling fs layer
[STDOUT  ] 2019-04-19T14:23:50.683190850Z: d3d89fbf6a32: Waiting
[STDOUT  ] 2019-04-19T14:23:50.683227417Z: d87ede0ff513: Waiting
[STDOUT  ] 2019-04-19T14:23:50.683241587Z: c9f9b799c58c: Waiting
[STDOUT  ] 2019-04-19T14:23:50.683267989Z: 7d4b1237090a: Waiting
[STDOUT  ] 2019-04-19T14:23:50.683289585Z: 217c0c63a797: Waiting
[STDOUT  ] 2019-04-19T14:23:50.683299438Z: da3d45809a18: Waiting
[STDOUT  ] 2019-04-19T14:23:51.134307105Z: d32b6c6f1dc4: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:51.134359222Z: d32b6c6f1dc4: Download complete
[STDOUT  ] 2019-04-19T14:23:51.160289793Z: 165965160a1c: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:51.160344615Z: 165965160a1c: Download complete
[STDOUT  ] 2019-04-19T14:23:51.174290006Z: 65f5b65fc5db: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:51.174389131Z: 65f5b65fc5db: Download complete
[STDOUT  ] 2019-04-19T14:23:51.243867630Z: 165965160a1c: Pull complete
[STDOUT  ] 2019-04-19T14:23:51.339056390Z: 65f5b65fc5db: Pull complete
[STDOUT  ] 2019-04-19T14:23:51.430740121Z: d32b6c6f1dc4: Pull complete
[STDOUT  ] 2019-04-19T14:23:51.655103833Z: c9f9b799c58c: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:51.655153833Z: c9f9b799c58c: Download complete
[STDOUT  ] 2019-04-19T14:23:51.710435690Z: d87ede0ff513: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:51.710496427Z: d87ede0ff513: Download complete
[STDOUT  ] 2019-04-19T14:23:52.173095051Z: 217c0c63a797: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:52.173155045Z: 217c0c63a797: Download complete
[STDOUT  ] 2019-04-19T14:23:52.796101496Z: da3d45809a18: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:52.796190969Z: da3d45809a18: Download complete
[STDOUT  ] 2019-04-19T14:23:52.880110522Z: 7d4b1237090a: Verifying Checksum
[STDOUT  ] 2019-04-19T14:23:52.880210484Z: 7d4b1237090a: Download complete
[STDOUT  ] 2019-04-19T14:23:55.525866454Z: d3d89fbf6a32: Download complete
[STDOUT  ] 2019-04-19T14:24:00.212743413Z: d3d89fbf6a32: Pull complete
[STDOUT  ] 2019-04-19T14:24:00.740890017Z: d87ede0ff513: Pull complete
[STDOUT  ] 2019-04-19T14:24:00.823634330Z: c9f9b799c58c: Pull complete
[STDOUT  ] 2019-04-19T14:24:05.729174319Z: 7d4b1237090a: Pull complete
[STDOUT  ] 2019-04-19T14:24:05.827852478Z: 217c0c63a797: Pull complete
[STDOUT  ] 2019-04-19T14:24:05.963984864Z: da3d45809a18: Pull complete
[STDOUT  ] 2019-04-19T14:24:05.984894102Z: Digest: sha256:63a9b4f4df5cd56fe3cd15a6ffa9106e88f234b1aa0d9a0c973a32af2b19a6bd
[STDOUT  ] 2019-04-19T14:24:05.991520157Z: Status: Downloaded newer image for linuxkit/alpine:86cd4f51b49fb9a078b50201d892a3c7973d48ec
[STDOUT  ] 2019-04-19T14:24:05.992238064Z:  ---> 859b94cde25f
[STDOUT  ] 2019-04-19T14:24:05.992293555Z: Step 3/12 : RUN apk add build-base elfutils-dev
[STDOUT  ] 2019-04-19T14:24:06.050384678Z:  ---> Running in 41c93b1229c1
[STDOUT  ] 2019-04-19T14:24:06.346969900Z: (1/20) Installing binutils (2.31.1-r2)
[STDOUT  ] 2019-04-19T14:24:06.427809375Z: (2/20) Installing libmagic (5.35-r0)
[STDOUT  ] 2019-04-19T14:24:06.446244358Z: (3/20) Installing file (5.35-r0)
[STDOUT  ] 2019-04-19T14:24:06.447001575Z: (4/20) Installing gmp (6.1.2-r1)
[STDOUT  ] 2019-04-19T14:24:06.451248255Z: (5/20) Installing isl (0.18-r0)
[STDOUT  ] 2019-04-19T14:24:06.464104650Z: (6/20) Installing libgomp (8.3.0-r0)
[STDOUT  ] 2019-04-19T14:24:06.465776320Z: (7/20) Installing libatomic (8.3.0-r0)
[STDOUT  ] 2019-04-19T14:24:06.466463621Z: (8/20) Installing libgcc (8.3.0-r0)
[STDOUT  ] 2019-04-19T14:24:06.467440466Z: (9/20) Installing mpfr3 (3.1.5-r1)
[STDOUT  ] 2019-04-19T14:24:06.471229280Z: (10/20) Installing mpc1 (1.0.3-r1)
[STDOUT  ] 2019-04-19T14:24:06.472350292Z: (11/20) Installing libstdc++ (8.3.0-r0)
[STDOUT  ] 2019-04-19T14:24:06.481876720Z: (12/20) Installing gcc (8.3.0-r0)
[STDOUT  ] 2019-04-19T14:24:07.091505473Z: (13/20) Installing musl-dev (1.1.20-r4)
[STDOUT  ] 2019-04-19T14:24:07.165851674Z: (14/20) Installing libc-dev (0.7.1-r0)
[STDOUT  ] 2019-04-19T14:24:07.165957262Z: (15/20) Installing g++ (8.3.0-r0)
[STDOUT  ] 2019-04-19T14:24:07.580836566Z: (16/20) Installing make (4.2.1-r2)
[STDOUT  ] 2019-04-19T14:24:07.583785792Z: (17/20) Installing fortify-headers (1.0-r0)
[STDOUT  ] 2019-04-19T14:24:07.585037706Z: (18/20) Installing build-base (0.5-r1)
[STDOUT  ] 2019-04-19T14:24:07.585261478Z: (19/20) Installing elfutils-libelf (0.168-r2)
[STDOUT  ] 2019-04-19T14:24:07.586410955Z: (20/20) Installing elfutils-dev (0.168-r2)
[STDOUT  ] 2019-04-19T14:24:07.589755942Z: Executing busybox-1.29.3-r10.trigger
[STDOUT  ] 2019-04-19T14:24:07.596230717Z: OK: 164 MiB in 34 packages
[STDOUT  ] 2019-04-19T14:24:09.637315549Z: Removing intermediate container 41c93b1229c1
[STDOUT  ] 2019-04-19T14:24:09.637432346Z:  ---> a611162bad3c
[STDOUT  ] 2019-04-19T14:24:09.637524510Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-04-19T14:24:10.807275313Z:  ---> a0be4803d53a
[STDOUT  ] 2019-04-19T14:24:10.807408044Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-04-19T14:24:10.854985284Z:  ---> Running in dd6f91955763
[STDOUT  ] 2019-04-19T14:24:19.452168880Z: Removing intermediate container dd6f91955763
[STDOUT  ] 2019-04-19T14:24:19.452272391Z:  ---> e6ceaa6a7135
[STDOUT  ] 2019-04-19T14:24:19.452378605Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-04-19T14:24:19.534965444Z:  ---> Running in e5b85afeb545
[STDOUT  ] 2019-04-19T14:24:19.763876605Z: Removing intermediate container e5b85afeb545
[STDOUT  ] 2019-04-19T14:24:19.763991446Z:  ---> e91f4b44c15d
[STDOUT  ] 2019-04-19T14:24:19.763999301Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-04-19T14:24:20.066680357Z:  ---> c31a0d44363c
[STDOUT  ] 2019-04-19T14:24:20.066725466Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-04-19T14:24:20.122730185Z:  ---> Running in 354b48df4ea8
[STDOUT  ] 2019-04-19T14:24:20.416943783Z: make -C /usr/src/linux-headers-4.9.169-linuxkit M=/kmod modules
[STDOUT  ] 2019-04-19T14:24:20.417822493Z: make[1]: Entering directory '/usr/src/linux-headers-4.9.169-linuxkit'
[STDOUT  ] 2019-04-19T14:24:21.686889102Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-04-19T14:24:21.902462456Z:   Building modules, stage 2.
[STDOUT  ] 2019-04-19T14:24:21.910874695Z:   MODPOST 1 modules
[STDOUT  ] 2019-04-19T14:24:21.924537908Z:   CC      /kmod/hello_world.mod.o
[STDOUT  ] 2019-04-19T14:24:22.122412866Z:   LD [M]  /kmod/hello_world.ko
[STDOUT  ] 2019-04-19T14:24:22.125229962Z: make[1]: Leaving directory '/usr/src/linux-headers-4.9.169-linuxkit'
[STDOUT  ] 2019-04-19T14:24:22.632256739Z: Removing intermediate container 354b48df4ea8
[STDOUT  ] 2019-04-19T14:24:22.632313359Z:  ---> 5daffa7f506e
[STDOUT  ] 2019-04-19T14:24:22.632323123Z: Step 9/12 : FROM alpine:3.9
[STDOUT  ] 2019-04-19T14:24:22.632774401Z:  ---> 5cb3aa00f899
[STDOUT  ] 2019-04-19T14:24:22.632811012Z: Step 10/12 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2019-04-19T14:24:22.831829330Z:  ---> 7f0c8575668b
[STDOUT  ] 2019-04-19T14:24:22.831979091Z: Step 11/12 : COPY check.sh /check.sh
[STDOUT  ] 2019-04-19T14:24:23.018517469Z:  ---> fb0f0a914d27
[STDOUT  ] 2019-04-19T14:24:23.018582038Z: Step 12/12 : ENTRYPOINT ["/bin/sh", "/check.sh"]
[STDOUT  ] 2019-04-19T14:24:23.074615508Z:  ---> Running in b15d7b7c9b5a
[STDOUT  ] 2019-04-19T14:24:23.196481647Z: Removing intermediate container b15d7b7c9b5a
[STDOUT  ] 2019-04-19T14:24:23.196578836Z:  ---> dfbc49d24984
[STDOUT  ] 2019-04-19T14:24:23.196869840Z: Successfully built dfbc49d24984
[STDOUT  ] 2019-04-19T14:24:23.205632122Z: Successfully tagged kmod-test:latest
[STDERR  ] 2019-04-19T14:24:23.206910843Z: + linuxkit build -format kernel+initrd -name kmod test.yml
[STDERR  ] 2019-04-19T14:24:23.285646852Z: Extract kernel image: linuxkit/kernel:4.9.169
[STDERR  ] 2019-04-19T14:24:24.550724804Z: time="2019-04-19T14:24:24Z" level=fatal msg="Failed to extract kernel image and tarball: Could not pull image linuxkit/kernel:4.9.169: Trusted pull for linuxkit/kernel:4.9.169 failed: No valid trust data for 4.9.169"
[STDERR  ] 2019-04-19T14:24:24.555127632Z: + clean_up
[STDERR  ] 2019-04-19T14:24:24.555182428Z: + docker rmi kmod-test
[STDOUT  ] 2019-04-19T14:24:24.626270313Z: Untagged: kmod-test:latest
[STDOUT  ] 2019-04-19T14:24:24.626321996Z: Deleted: sha256:dfbc49d249845ff2c36da0b27cabe5e303f9d4aa41a0de6f55cec5e40cb90cd1
[STDOUT  ] 2019-04-19T14:24:24.626333737Z: Deleted: sha256:fb0f0a914d27e4be949efc7639cfb8867be0f9eaad7e8ec6c4cd0e62d2938281
[STDOUT  ] 2019-04-19T14:24:24.626343472Z: Deleted: sha256:d438146bc6266709cd1384fbd4d07b198b914234a1f3483b944a3bf59f919506
[STDOUT  ] 2019-04-19T14:24:24.626353922Z: Deleted: sha256:7f0c8575668ba9264434fda55e45b3aa6786f2da6abc01b9de1ba3120f219173
[STDOUT  ] 2019-04-19T14:24:24.626363392Z: Deleted: sha256:d62561a220300e1bf6ad4a6288d82eeb2df54b4de18e5ecaea419c116396b85f
[STDERR  ] 2019-04-19T14:24:24.627631511Z: + rm -rf kmod-*
[FAIL    ] linuxkit.kernel.kmod_4.9.x 46.81s
