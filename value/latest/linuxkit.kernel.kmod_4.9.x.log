[INFO    ] 2019-09-16T09:14:28.019349078Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/build/test/cases/020_kernel/011_kmod_4.9.x
[INFO    ] 2019-09-16T09:14:28.019513971Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/011_kmod_4.9.x/test.sh]
[STDERR  ] 2019-09-16T09:14:28.020426167Z: + set -e
[STDERR  ] 2019-09-16T09:14:28.020509118Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-09-16T09:14:28.020530362Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-09-16T09:14:28.020544844Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-09-16T09:14:28.020558493Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-09-16T09:14:28.020573909Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-09-16T09:14:28.020587424Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-09-16T09:14:28.020599684Z: + RT_CANCEL=253
[STDERR  ] 2019-09-16T09:14:28.020613106Z: + NAME=kmod
[STDERR  ] 2019-09-16T09:14:28.020627262Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-09-16T09:14:28.020640680Z: + trap clean_up EXIT
[STDERR  ] 2019-09-16T09:14:28.020653958Z: + docker pull linuxkit/kernel:4.9.192
[STDOUT  ] 2019-09-16T09:14:29.273834469Z: 4.9.192: Pulling from linuxkit/kernel
[STDOUT  ] 2019-09-16T09:14:29.731382063Z: 48e5e4e0dc33: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:36.116269891Z: 48e5e4e0dc33: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:36.116549056Z: 48e5e4e0dc33: Download complete
[STDOUT  ] 2019-09-16T09:14:38.554893473Z: 48e5e4e0dc33: Pull complete
[STDOUT  ] 2019-09-16T09:14:38.562647622Z: Digest: sha256:e2f24e3a84313897617583c73c844eebd5aca6416e732579108002751771edd4
[STDOUT  ] 2019-09-16T09:14:38.568001260Z: Status: Downloaded newer image for linuxkit/kernel:4.9.192
[STDERR  ] 2019-09-16T09:14:38.569693465Z: + docker build -t kmod-test .
[STDOUT  ] 2019-09-16T09:14:38.657357590Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-09-16T09:14:38.725287628Z: Step 1/12 : FROM linuxkit/kernel:4.9.192 AS ksrc
[STDOUT  ] 2019-09-16T09:14:38.725710433Z:  ---> 429ee2938b2b
[STDOUT  ] 2019-09-16T09:14:38.726018635Z: Step 2/12 : FROM linuxkit/alpine:3fdc49366257e53276c6f363956a4353f95d9a81 AS build
[STDOUT  ] 2019-09-16T09:14:39.873254875Z: 3fdc49366257e53276c6f363956a4353f95d9a81: Pulling from linuxkit/alpine
[STDOUT  ] 2019-09-16T09:14:40.267193259Z: e7c96db7181b: Already exists
[STDOUT  ] 2019-09-16T09:14:40.273439818Z: ac74a6ce5201: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.273487773Z: c1ef321f85a0: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.273498647Z: 90d28dd6c41c: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.273516670Z: 243facb76d31: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.273526753Z: 59d4ae1cd367: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.273536730Z: edadfd281ce2: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.273546828Z: 73b35c2f8a29: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.274032834Z: c0424b4f820c: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.274061082Z: 6f20b752091a: Pulling fs layer
[STDOUT  ] 2019-09-16T09:14:40.274071580Z: 243facb76d31: Waiting
[STDOUT  ] 2019-09-16T09:14:40.274081776Z: 59d4ae1cd367: Waiting
[STDOUT  ] 2019-09-16T09:14:40.274090956Z: edadfd281ce2: Waiting
[STDOUT  ] 2019-09-16T09:14:40.274100513Z: 73b35c2f8a29: Waiting
[STDOUT  ] 2019-09-16T09:14:40.274109698Z: c0424b4f820c: Waiting
[STDOUT  ] 2019-09-16T09:14:40.274117341Z: 6f20b752091a: Waiting
[STDOUT  ] 2019-09-16T09:14:40.750094482Z: c1ef321f85a0: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:40.750144165Z: c1ef321f85a0: Download complete
[STDOUT  ] 2019-09-16T09:14:40.794530764Z: 90d28dd6c41c: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:40.794697919Z: 90d28dd6c41c: Download complete
[STDOUT  ] 2019-09-16T09:14:40.800723303Z: ac74a6ce5201: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:40.800767148Z: ac74a6ce5201: Download complete
[STDOUT  ] 2019-09-16T09:14:40.880701475Z: ac74a6ce5201: Pull complete
[STDOUT  ] 2019-09-16T09:14:40.964181413Z: c1ef321f85a0: Pull complete
[STDOUT  ] 2019-09-16T09:14:41.056136467Z: 90d28dd6c41c: Pull complete
[STDOUT  ] 2019-09-16T09:14:41.234991894Z: edadfd281ce2: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:41.235051404Z: edadfd281ce2: Download complete
[STDOUT  ] 2019-09-16T09:14:41.371629637Z: 59d4ae1cd367: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:41.371675443Z: 59d4ae1cd367: Download complete
[STDOUT  ] 2019-09-16T09:14:41.871318413Z: c0424b4f820c: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:41.871393614Z: c0424b4f820c: Download complete
[STDOUT  ] 2019-09-16T09:14:42.547903721Z: 73b35c2f8a29: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:42.547964834Z: 73b35c2f8a29: Download complete
[STDOUT  ] 2019-09-16T09:14:42.547976189Z: 6f20b752091a: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:42.548008647Z: 6f20b752091a: Download complete
[STDOUT  ] 2019-09-16T09:14:45.057021652Z: 243facb76d31: Verifying Checksum
[STDOUT  ] 2019-09-16T09:14:45.057071423Z: 243facb76d31: Download complete
[STDOUT  ] 2019-09-16T09:14:49.699730374Z: 243facb76d31: Pull complete
[STDOUT  ] 2019-09-16T09:14:50.402401675Z: 59d4ae1cd367: Pull complete
[STDOUT  ] 2019-09-16T09:14:50.490209114Z: edadfd281ce2: Pull complete
[STDOUT  ] 2019-09-16T09:14:52.762889918Z: 73b35c2f8a29: Pull complete
[STDOUT  ] 2019-09-16T09:14:52.859292446Z: c0424b4f820c: Pull complete
[STDOUT  ] 2019-09-16T09:14:52.957602589Z: 6f20b752091a: Pull complete
[STDOUT  ] 2019-09-16T09:14:52.988397844Z: Digest: sha256:2bdc3edf693cd130838c2c7702cdab4fd1322e3d5c3d503e966d1660a30c51f6
[STDOUT  ] 2019-09-16T09:14:52.995219818Z: Status: Downloaded newer image for linuxkit/alpine:3fdc49366257e53276c6f363956a4353f95d9a81
[STDOUT  ] 2019-09-16T09:14:52.996150632Z:  ---> 1ef6f4ee4264
[STDOUT  ] 2019-09-16T09:14:52.996290827Z: Step 3/12 : RUN apk add build-base elfutils-dev
[STDOUT  ] 2019-09-16T09:14:53.056387340Z:  ---> Running in b02445df3bff
[STDOUT  ] 2019-09-16T09:14:53.354159846Z: (1/20) Installing binutils (2.31.1-r2)
[STDOUT  ] 2019-09-16T09:14:53.433285249Z: (2/20) Installing libmagic (5.36-r0)
[STDOUT  ] 2019-09-16T09:14:53.451826908Z: (3/20) Installing file (5.36-r0)
[STDOUT  ] 2019-09-16T09:14:53.452470419Z: (4/20) Installing gmp (6.1.2-r1)
[STDOUT  ] 2019-09-16T09:14:53.456711219Z: (5/20) Installing isl (0.18-r0)
[STDOUT  ] 2019-09-16T09:14:53.469244916Z: (6/20) Installing libgomp (8.3.0-r0)
[STDOUT  ] 2019-09-16T09:14:53.470976698Z: (7/20) Installing libatomic (8.3.0-r0)
[STDOUT  ] 2019-09-16T09:14:53.471533022Z: (8/20) Installing libgcc (8.3.0-r0)
[STDOUT  ] 2019-09-16T09:14:53.472534884Z: (9/20) Installing mpfr3 (3.1.5-r1)
[STDOUT  ] 2019-09-16T09:14:53.476203902Z: (10/20) Installing mpc1 (1.0.3-r1)
[STDOUT  ] 2019-09-16T09:14:53.477325214Z: (11/20) Installing libstdc++ (8.3.0-r0)
[STDOUT  ] 2019-09-16T09:14:53.486593391Z: (12/20) Installing gcc (8.3.0-r0)
[STDOUT  ] 2019-09-16T09:14:54.128109336Z: (13/20) Installing musl-dev (1.1.20-r5)
[STDOUT  ] 2019-09-16T09:14:54.205624975Z: (14/20) Installing libc-dev (0.7.1-r0)
[STDOUT  ] 2019-09-16T09:14:54.205746378Z: (15/20) Installing g++ (8.3.0-r0)
[STDOUT  ] 2019-09-16T09:14:54.620905725Z: (16/20) Installing make (4.2.1-r2)
[STDOUT  ] 2019-09-16T09:14:54.623373474Z: (17/20) Installing fortify-headers (1.0-r0)
[STDOUT  ] 2019-09-16T09:14:54.624610425Z: (18/20) Installing build-base (0.5-r1)
[STDOUT  ] 2019-09-16T09:14:54.624897873Z: (19/20) Installing elfutils-libelf (0.168-r2)
[STDOUT  ] 2019-09-16T09:14:54.625951323Z: (20/20) Installing elfutils-dev (0.168-r2)
[STDOUT  ] 2019-09-16T09:14:54.629638966Z: Executing busybox-1.29.3-r10.trigger
[STDOUT  ] 2019-09-16T09:14:54.636522100Z: OK: 164 MiB in 34 packages
[STDOUT  ] 2019-09-16T09:14:56.648201753Z: Removing intermediate container b02445df3bff
[STDOUT  ] 2019-09-16T09:14:56.648315613Z:  ---> abcc6651a809
[STDOUT  ] 2019-09-16T09:14:56.648383962Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-09-16T09:14:57.779913256Z:  ---> 38cdcaccf92d
[STDOUT  ] 2019-09-16T09:14:57.780075233Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-09-16T09:14:57.831690457Z:  ---> Running in a570ed06fb77
[STDOUT  ] 2019-09-16T09:15:06.617768168Z: Removing intermediate container a570ed06fb77
[STDOUT  ] 2019-09-16T09:15:06.617902332Z:  ---> 2059bf2bb926
[STDOUT  ] 2019-09-16T09:15:06.617976910Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-09-16T09:15:06.700043206Z:  ---> Running in 8722fc68c007
[STDOUT  ] 2019-09-16T09:15:06.929324086Z: Removing intermediate container 8722fc68c007
[STDOUT  ] 2019-09-16T09:15:06.929443459Z:  ---> cba674302651
[STDOUT  ] 2019-09-16T09:15:06.929541062Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-09-16T09:15:07.175763695Z:  ---> 2b239a537c2f
[STDOUT  ] 2019-09-16T09:15:07.175920229Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-09-16T09:15:07.232749567Z:  ---> Running in 31094efb017c
[STDOUT  ] 2019-09-16T09:15:07.505218096Z: make -C /usr/src/linux-headers-4.9.192-linuxkit M=/kmod modules
[STDOUT  ] 2019-09-16T09:15:07.506136173Z: make[1]: Entering directory '/usr/src/linux-headers-4.9.192-linuxkit'
[STDOUT  ] 2019-09-16T09:15:08.746818441Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-09-16T09:15:08.963005962Z:   Building modules, stage 2.
[STDOUT  ] 2019-09-16T09:15:08.970932199Z:   MODPOST 1 modules
[STDOUT  ] 2019-09-16T09:15:08.984953326Z:   CC      /kmod/hello_world.mod.o
[STDOUT  ] 2019-09-16T09:15:09.181184538Z:   LD [M]  /kmod/hello_world.ko
[STDOUT  ] 2019-09-16T09:15:09.183996972Z: make[1]: Leaving directory '/usr/src/linux-headers-4.9.192-linuxkit'
[STDOUT  ] 2019-09-16T09:15:09.669792505Z: Removing intermediate container 31094efb017c
[STDOUT  ] 2019-09-16T09:15:09.669962143Z:  ---> 1a3ed3131eb4
[STDOUT  ] 2019-09-16T09:15:09.670096618Z: Step 9/12 : FROM alpine:3.9
[STDOUT  ] 2019-09-16T09:15:09.670199209Z:  ---> 055936d39205
[STDOUT  ] 2019-09-16T09:15:09.670296219Z: Step 10/12 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2019-09-16T09:15:09.868025849Z:  ---> e76503a18aa8
[STDOUT  ] 2019-09-16T09:15:09.868149598Z: Step 11/12 : COPY check.sh /check.sh
[STDOUT  ] 2019-09-16T09:15:10.055219240Z:  ---> 0bd5d43d2e22
[STDOUT  ] 2019-09-16T09:15:10.055398543Z: Step 12/12 : ENTRYPOINT ["/bin/sh", "/check.sh"]
[STDOUT  ] 2019-09-16T09:15:10.116233822Z:  ---> Running in 7b47cfc2da85
[STDOUT  ] 2019-09-16T09:15:10.246159267Z: Removing intermediate container 7b47cfc2da85
[STDOUT  ] 2019-09-16T09:15:10.246272859Z:  ---> c423a1d0382d
[STDOUT  ] 2019-09-16T09:15:10.246395610Z: Successfully built c423a1d0382d
[STDOUT  ] 2019-09-16T09:15:10.253192944Z: Successfully tagged kmod-test:latest
[STDERR  ] 2019-09-16T09:15:10.254372625Z: + linuxkit build -format kernel+initrd -name kmod test.yml
[STDERR  ] 2019-09-16T09:15:10.287883589Z: Extract kernel image: linuxkit/kernel:4.9.192
[STDERR  ] 2019-09-16T09:15:11.590102544Z: time="2019-09-16T09:15:11Z" level=fatal msg="Failed to extract kernel image and tarball: Could not pull image linuxkit/kernel:4.9.192: Trusted pull for linuxkit/kernel:4.9.192 failed: No valid trust data for 4.9.192"
[STDERR  ] 2019-09-16T09:15:11.594073695Z: + clean_up
[STDERR  ] 2019-09-16T09:15:11.594138322Z: + docker rmi kmod-test
[STDOUT  ] 2019-09-16T09:15:11.681284813Z: Untagged: kmod-test:latest
[STDOUT  ] 2019-09-16T09:15:11.681343393Z: Deleted: sha256:c423a1d0382d075d7a49091b4ab76e24a08870a87fc8c007203f99754fc20ac7
[STDOUT  ] 2019-09-16T09:15:11.681354559Z: Deleted: sha256:0bd5d43d2e22b6e8b5631715ef2c1ff0ab7f01aa260485ecd8d991d2d67e2482
[STDOUT  ] 2019-09-16T09:15:11.681363555Z: Deleted: sha256:29d505aeb2f50ac237b1584fec2b4b70f2eb2d225fb959d0113cac935a1d3a57
[STDOUT  ] 2019-09-16T09:15:11.681373572Z: Deleted: sha256:e76503a18aa8c48b11677aa43eac3e5e65f2932eba6bc8a763f928ce9dac5409
[STDOUT  ] 2019-09-16T09:15:11.681383431Z: Deleted: sha256:d0a3690ae7c4b1ec2c5d60deb9204e60a24e2e3be3e15e40d4f5ddd87943af10
[STDERR  ] 2019-09-16T09:15:11.682661204Z: + rm -rf kmod-*
[FAIL    ] linuxkit.kernel.kmod_4.9.x 43.66s
