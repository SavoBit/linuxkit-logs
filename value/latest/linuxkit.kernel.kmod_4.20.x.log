[INFO    ] 2019-03-03T16:39:11.311238819Z: Running Test linuxkit.kernel.kmod_4.20.x in /tmp/build/test/cases/020_kernel/016_kmod_4.20.x
[INFO    ] 2019-03-03T16:39:11.311372386Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/016_kmod_4.20.x/test.sh]
[STDERR  ] 2019-03-03T16:39:11.312049824Z: + set -e
[STDERR  ] 2019-03-03T16:39:11.312122116Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-03-03T16:39:11.312137128Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-03-03T16:39:11.312150784Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-03-03T16:39:11.312211257Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-03-03T16:39:11.312233619Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-03-03T16:39:11.312302082Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-03-03T16:39:11.312324551Z: + RT_CANCEL=253
[STDERR  ] 2019-03-03T16:39:11.312390198Z: + NAME=kmod
[STDERR  ] 2019-03-03T16:39:11.312410888Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-03-03T16:39:11.312462336Z: + trap clean_up EXIT
[STDERR  ] 2019-03-03T16:39:11.312574331Z: + docker pull linuxkit/kernel:4.20.13
[STDOUT  ] 2019-03-03T16:39:12.463604025Z: 4.20.13: Pulling from linuxkit/kernel
[STDOUT  ] 2019-03-03T16:39:12.873295371Z: Digest: sha256:220356bd9a1e0f00eab7b778618f159093fb75518a10bb5752bc89381b236df1
[STDOUT  ] 2019-03-03T16:39:13.372681409Z: Status: Downloaded newer image for linuxkit/kernel:4.20.13
[STDERR  ] 2019-03-03T16:39:13.374196639Z: + docker build -t kmod-test .
[STDOUT  ] 2019-03-03T16:39:14.498345479Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-03-03T16:39:14.566847481Z: Step 1/12 : FROM linuxkit/kernel:4.20.13 AS ksrc
[STDOUT  ] 2019-03-03T16:39:14.567038333Z:  ---> 24b2dbd57ae0
[STDOUT  ] 2019-03-03T16:39:14.567059216Z: Step 2/12 : FROM linuxkit/alpine:5ce235f4fb55772e7f78871a70bfe26f774fe2b0 AS build
[STDOUT  ] 2019-03-03T16:39:14.567455509Z:  ---> 464cb75731f7
[STDOUT  ] 2019-03-03T16:39:14.567476195Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2019-03-03T16:39:14.567790427Z:  ---> Using cache
[STDOUT  ] 2019-03-03T16:39:14.567810499Z:  ---> 114f610936df
[STDOUT  ] 2019-03-03T16:39:14.567821156Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-03-03T16:39:15.809292724Z:  ---> 33dad39a945c
[STDOUT  ] 2019-03-03T16:39:15.809344093Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-03-03T16:39:15.873363901Z:  ---> Running in bf815a84929f
[STDOUT  ] 2019-03-03T16:39:23.061233790Z: Removing intermediate container bf815a84929f
[STDOUT  ] 2019-03-03T16:39:23.061291479Z:  ---> 41ece901cc29
[STDOUT  ] 2019-03-03T16:39:23.061301437Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-03-03T16:39:23.133734361Z:  ---> Running in c4c4af2719d5
[STDOUT  ] 2019-03-03T16:39:23.320630383Z: Removing intermediate container c4c4af2719d5
[STDOUT  ] 2019-03-03T16:39:23.320694911Z:  ---> f8d6e2cbf383
[STDOUT  ] 2019-03-03T16:39:23.320706415Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-03-03T16:39:23.576809604Z:  ---> 9b8917af844a
[STDOUT  ] 2019-03-03T16:39:23.576860382Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-03-03T16:39:23.638085075Z:  ---> Running in c38319e8f1d3
[STDOUT  ] 2019-03-03T16:39:23.924968668Z: make -C /usr/src/linux-headers-4.20.13-linuxkit M=/kmod modules
[STDOUT  ] 2019-03-03T16:39:23.925222126Z: make[1]: Entering directory '/usr/src/linux-headers-4.20.13-linuxkit'
[STDOUT  ] 2019-03-03T16:39:25.263314543Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-03-03T16:39:25.269063967Z: [91mcc1: error: cannot load plugin ./scripts/gcc-plugins/stackleak_plugin.so
[STDOUT  ] 2019-03-03T16:39:25.269115450Z:    Error relocating ./scripts/gcc-plugins/stackleak_plugin.so: _ZN11symtab_node10dump_tableEP8_IO_FILE: symbol not found
[STDOUT  ] 2019-03-03T16:39:25.269150963Z: [0m[91mcc1: error: cannot load plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2019-03-03T16:39:25.269164492Z:    Error relocating ./scripts/gcc-plugins/structleak_plugin.so: _ZN11symtab_node10dump_tableEP8_IO_FILE: symbol not found
[STDOUT  ] 2019-03-03T16:39:25.269630671Z: [0m[91mcc1: error: cannot load plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2019-03-03T16:39:25.269658565Z:    Error relocating ./scripts/gcc-plugins/randomize_layout_plugin.so: _Z13size_int_kindl14size_type_kind: symbol not found
[STDOUT  ] 2019-03-03T16:39:25.270793367Z: [0m[91mmake[2]: *** [scripts/Makefile.build:298: /kmod/hello_world.o] Error 1
[STDOUT  ] 2019-03-03T16:39:25.270825591Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-4.20.13-linuxkit'
[STDOUT  ] 2019-03-03T16:39:25.270835772Z: [91mmake[1]: *** [Makefile:1562: _module_/kmod] Error 2
[STDOUT  ] 2019-03-03T16:39:25.270951959Z: [0m[91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2019-03-03T16:39:25.558074017Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2019-03-03T16:39:25.559490246Z: + clean_up
[STDERR  ] 2019-03-03T16:39:25.559545934Z: + docker rmi kmod-test
[STDERR  ] 2019-03-03T16:39:25.645579626Z: Error: No such image: kmod-test
[STDERR  ] 2019-03-03T16:39:25.646911494Z: + true
[STDERR  ] 2019-03-03T16:39:25.646957416Z: + rm -rf kmod-*
[STDOUT  ] 2019-03-03T16:39:25.647880734Z: [0m
[FAIL    ] linuxkit.kernel.kmod_4.20.x 14.34s
