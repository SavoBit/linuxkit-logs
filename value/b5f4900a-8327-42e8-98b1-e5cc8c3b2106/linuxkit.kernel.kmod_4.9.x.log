[INFO    ] 2018-02-14T16:06:48.292153915Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/with_clonebca4b01/test/cases/020_kernel/011_kmod_4.9.x
[INFO    ] 2018-02-14T16:06:48.292299388Z: Running command: [/bin/sh -x /tmp/with_clonebca4b01/test/cases/020_kernel/011_kmod_4.9.x/test.sh]
[STDERR  ] 2018-02-14T16:06:48.292949815Z: + set -e
[STDERR  ] 2018-02-14T16:06:48.293143234Z: + . /tmp/with_clonebca4b01/test/cases/_lib/lib.sh
[STDERR  ] 2018-02-14T16:06:48.293345988Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2018-02-14T16:06:48.293519982Z: + LINUXKIT_TMPDIR=/tmp/with_clonebca4b01/test/cases/_tmp
[STDERR  ] 2018-02-14T16:06:48.293702037Z: + [ -f /tmp/with_clonebca4b01/test/cases/_tmp/env.sh ]
[STDERR  ] 2018-02-14T16:06:48.293858106Z: + . /tmp/with_clonebca4b01/test/cases/_tmp/env.sh
[STDERR  ] 2018-02-14T16:06:48.294025769Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_clonebca4b01/test/cases/../../examples
[STDERR  ] 2018-02-14T16:06:48.294170613Z: + RT_CANCEL=253
[STDERR  ] 2018-02-14T16:06:48.294305487Z: + NAME=kmod
[STDERR  ] 2018-02-14T16:06:48.294414296Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2018-02-14T16:06:48.294574020Z: + trap clean_up EXIT
[STDERR  ] 2018-02-14T16:06:48.294738006Z: + docker pull linuxkit/kernel:4.9.81
[STDOUT  ] 2018-02-14T16:06:49.685817397Z: 4.9.81: Pulling from linuxkit/kernel
[STDOUT  ] 2018-02-14T16:06:50.053380828Z: Digest: sha256:dabeac8c3829d03374c173bbb760d34bf3f0dbb4bbb21df9fc7929db6e1e14a2
[STDOUT  ] 2018-02-14T16:06:50.053443719Z: Status: Image is up to date for linuxkit/kernel:4.9.81
[STDERR  ] 2018-02-14T16:06:50.074319452Z: + docker build -t kmod-test .
[STDOUT  ] 2018-02-14T16:06:50.092578186Z: Sending build context to Docker daemon 8.704 kB
[STDOUT  ] 2018-02-14T16:06:50.264882582Z: Step 1/12 : FROM linuxkit/kernel:4.9.81 AS ksrc
[STDOUT  ] 2018-02-14T16:06:50.324751530Z:  ---> 8ee750e60d06
[STDOUT  ] 2018-02-14T16:06:50.324799507Z: Step 2/12 : FROM linuxkit/alpine:d307c8a386fa3f32cddda9409b9687e191cdd6f1 AS build
[STDOUT  ] 2018-02-14T16:06:50.324831200Z:  ---> 4d01d9a77113
[STDOUT  ] 2018-02-14T16:06:50.324845580Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2018-02-14T16:06:50.324858550Z:  ---> Using cache
[STDOUT  ] 2018-02-14T16:06:50.324871644Z:  ---> 8b77f2de7cd1
[STDOUT  ] 2018-02-14T16:06:50.324902614Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2018-02-14T16:06:50.786193033Z:  ---> Using cache
[STDOUT  ] 2018-02-14T16:06:50.786255398Z:  ---> 7ce0856f87d3
[STDOUT  ] 2018-02-14T16:06:50.786271016Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2018-02-14T16:06:50.803224957Z:  ---> Using cache
[STDOUT  ] 2018-02-14T16:06:50.803270250Z:  ---> b40c94ebaa90
[STDOUT  ] 2018-02-14T16:06:50.803284258Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2018-02-14T16:06:50.803297521Z:  ---> Using cache
[STDOUT  ] 2018-02-14T16:06:50.803310187Z:  ---> 1c71455e78f6
[STDOUT  ] 2018-02-14T16:06:50.803322989Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2018-02-14T16:06:50.803335474Z:  ---> Using cache
[STDOUT  ] 2018-02-14T16:06:50.803349503Z:  ---> b4945ba1abe2
[STDOUT  ] 2018-02-14T16:06:50.803379431Z: Step 8/12 : RUN make all
[STDOUT  ] 2018-02-14T16:06:50.803392551Z:  ---> Using cache
[STDOUT  ] 2018-02-14T16:06:50.803405369Z:  ---> bc1cfd3720fb
[STDOUT  ] 2018-02-14T16:06:50.803417564Z: Step 9/12 : FROM alpine:3.7
[STDOUT  ] 2018-02-14T16:06:50.803430129Z:  ---> 3fd9065eaf02
[STDOUT  ] 2018-02-14T16:06:50.803451860Z: Step 10/12 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2018-02-14T16:06:51.354045989Z:  ---> ccdbf79c4de3
[STDOUT  ] 2018-02-14T16:06:51.371249792Z: Removing intermediate container 3cbc923a6be5
[STDOUT  ] 2018-02-14T16:06:51.371288143Z: Step 11/12 : COPY check.sh /check.sh
[STDOUT  ] 2018-02-14T16:06:51.929643658Z:  ---> aec548017beb
[STDOUT  ] 2018-02-14T16:06:51.946700682Z: Removing intermediate container 7cea5dea06fe
[STDOUT  ] 2018-02-14T16:06:51.946740942Z: Step 12/12 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2018-02-14T16:06:52.093775359Z:  ---> Running in b1240db808a4
[STDOUT  ] 2018-02-14T16:06:52.290496860Z:  ---> 44f4676a661d
[STDOUT  ] 2018-02-14T16:06:52.307435256Z: Removing intermediate container b1240db808a4
[STDOUT  ] 2018-02-14T16:06:52.307472236Z: Successfully built 44f4676a661d
[STDOUT  ] 2018-02-14T16:06:52.307486400Z: Successfully tagged kmod-test:latest
[STDERR  ] 2018-02-14T16:06:52.414973265Z: + linuxkit build -format kernel+initrd -name kmod test.yml
[STDERR  ] 2018-02-14T16:06:52.457231353Z: Extract kernel image: linuxkit/kernel:4.9.81
[STDERR  ] 2018-02-14T16:06:53.589861917Z: time="2018-02-14T16:06:53Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-14T16:06:53.590166449Z: time="2018-02-14T16:06:53Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:53.590331718Z: time="2018-02-14T16:06:53Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:53.590504245Z: time="2018-02-14T16:06:53Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-14T16:06:53.590671133Z: time="2018-02-14T16:06:53Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-14T16:06:53.639653446Z: time="2018-02-14T16:06:53Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-14T16:06:56.812687176Z: Add init containers:
[STDERR  ] 2018-02-14T16:06:56.812858347Z: Process init image: linuxkit/init:6061875ba11fd9c563fda6234b103ed9997ff782
[STDERR  ] 2018-02-14T16:06:57.822858794Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-14T16:06:57.823041840Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:57.823158461Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:57.823253956Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-14T16:06:57.823340740Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-14T16:06:57.828193987Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-14T16:06:57.829890903Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:57.829998498Z: time="2018-02-14T16:06:57Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-14T16:06:58.700204416Z: Process init image: linuxkit/runc:52ecfdef1ae051e7fd5ac5f1d0b7dd859adff015
[STDERR  ] 2018-02-14T16:06:59.657932613Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:59.658186103Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:59.658358434Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-14T16:06:59.658531936Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-14T16:06:59.658748648Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-14T16:06:59.661273230Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-14T16:06:59.662746203Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-14T16:06:59.662927383Z: time="2018-02-14T16:06:59Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-14T16:07:00.419545675Z: Add onboot containers:
[STDERR  ] 2018-02-14T16:07:00.419618990Z:   Create OCI config for kmod-test
[STDERR  ] 2018-02-14T16:07:00.454964924Z: Pull image: kmod-test
[STDERR  ] 2018-02-14T16:07:01.532663982Z: time="2018-02-14T16:07:01Z" level=fatal msg="Failed to create OCI spec for kmod-test: Error response from daemon: repository kmod-test not found: does not exist or no pull access"
[STDERR  ] 2018-02-14T16:07:01.583717970Z: + clean_up
[STDERR  ] 2018-02-14T16:07:01.583787857Z: + docker rmi kmod-test
[STDOUT  ] 2018-02-14T16:07:01.663739199Z: Untagged: kmod-test:latest
[STDOUT  ] 2018-02-14T16:07:01.663821678Z: Deleted: sha256:633226c99ce5781a3eed006165fc5dd9b5b0645baf82e15068720b78676e8210
[STDOUT  ] 2018-02-14T16:07:01.663843168Z: Deleted: sha256:a684544aba62fda340b465d79b454b8fbaf19aed6117279a45247eb50cef4b73
[STDOUT  ] 2018-02-14T16:07:01.663861628Z: Deleted: sha256:eaa8c06d2539fe10693f7f8a9bd3d920bf14bb6aa7696df2649cb34649fe5ff7
[STDOUT  ] 2018-02-14T16:07:01.663879665Z: Deleted: sha256:def1cdfd72eab564d53e3a3ef3db2d152318b4db0ff80c62838adbfdfb29f6e0
[STDOUT  ] 2018-02-14T16:07:01.663905418Z: Deleted: sha256:333257ca87eb77ed8168c24b0384286121bcb0c7c7f7a8e531a5f89489ed05b7
[STDERR  ] 2018-02-14T16:07:01.667118101Z: + rm -rf kmod-*
[FAIL    ] linuxkit.kernel.kmod_4.9.x 13.38s
