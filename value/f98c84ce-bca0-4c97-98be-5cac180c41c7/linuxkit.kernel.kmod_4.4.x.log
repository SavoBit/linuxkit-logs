[INFO    ] 2018-02-27T19:57:21.261619619Z: Running Test linuxkit.kernel.kmod_4.4.x in /tmp/with_clone1007c5e9/test/cases/020_kernel/010_kmod_4.4.x
[INFO    ] 2018-02-27T19:57:21.261767879Z: Running command: [/bin/sh -x /tmp/with_clone1007c5e9/test/cases/020_kernel/010_kmod_4.4.x/test.sh]
[STDERR  ] 2018-02-27T19:57:21.262466454Z: + set -e
[STDERR  ] 2018-02-27T19:57:21.262678124Z: + . /tmp/with_clone1007c5e9/test/cases/_lib/lib.sh
[STDERR  ] 2018-02-27T19:57:21.262882263Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2018-02-27T19:57:21.263053788Z: + LINUXKIT_TMPDIR=/tmp/with_clone1007c5e9/test/cases/_tmp
[STDERR  ] 2018-02-27T19:57:21.263242130Z: + [ -f /tmp/with_clone1007c5e9/test/cases/_tmp/env.sh ]
[STDERR  ] 2018-02-27T19:57:21.263403109Z: + . /tmp/with_clone1007c5e9/test/cases/_tmp/env.sh
[STDERR  ] 2018-02-27T19:57:21.263568291Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_clone1007c5e9/test/cases/../../examples
[STDERR  ] 2018-02-27T19:57:21.263717784Z: + RT_CANCEL=253
[STDERR  ] 2018-02-27T19:57:21.263853564Z: + NAME=kmod
[STDERR  ] 2018-02-27T19:57:21.263961142Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2018-02-27T19:57:21.264122738Z: + trap clean_up EXIT
[STDERR  ] 2018-02-27T19:57:21.264291241Z: + docker pull linuxkit/kernel:4.4.118
[STDOUT  ] 2018-02-27T19:57:22.974604910Z: 4.4.118: Pulling from linuxkit/kernel
[STDOUT  ] 2018-02-27T19:57:23.338506490Z: Digest: sha256:79dcf75f7819919e2f22e5302deec869c6635d2c86ea0ac31906f52532cc4cca
[STDOUT  ] 2018-02-27T19:57:23.338569204Z: Status: Image is up to date for linuxkit/kernel:4.4.118
[STDERR  ] 2018-02-27T19:57:23.360482132Z: + docker build -t kmod-test .
[STDOUT  ] 2018-02-27T19:57:23.377376141Z: Sending build context to Docker daemon 8.704 kB
[STDOUT  ] 2018-02-27T19:57:23.553424824Z: Step 1/12 : FROM linuxkit/kernel:4.4.118 AS ksrc
[STDOUT  ] 2018-02-27T19:57:23.616000841Z:  ---> 7850b2aac7d4
[STDOUT  ] 2018-02-27T19:57:23.616074564Z: Step 2/12 : FROM linuxkit/alpine:d307c8a386fa3f32cddda9409b9687e191cdd6f1 AS build
[STDOUT  ] 2018-02-27T19:57:23.616089839Z:  ---> 4d01d9a77113
[STDOUT  ] 2018-02-27T19:57:23.616103505Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2018-02-27T19:57:23.616117453Z:  ---> Using cache
[STDOUT  ] 2018-02-27T19:57:23.616147171Z:  ---> bbb8d850de85
[STDOUT  ] 2018-02-27T19:57:23.616160503Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2018-02-27T19:57:24.065537930Z:  ---> Using cache
[STDOUT  ] 2018-02-27T19:57:24.065581851Z:  ---> c54d75ed2ec3
[STDOUT  ] 2018-02-27T19:57:24.065590138Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2018-02-27T19:57:24.083942492Z:  ---> Using cache
[STDOUT  ] 2018-02-27T19:57:24.083975484Z:  ---> 59c6a2caf935
[STDOUT  ] 2018-02-27T19:57:24.083983516Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2018-02-27T19:57:24.083991634Z:  ---> Using cache
[STDOUT  ] 2018-02-27T19:57:24.083999020Z:  ---> 400d5f6d8b1e
[STDOUT  ] 2018-02-27T19:57:24.084006475Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2018-02-27T19:57:24.084013937Z:  ---> Using cache
[STDOUT  ] 2018-02-27T19:57:24.084021064Z:  ---> 7ced24dca8ef
[STDOUT  ] 2018-02-27T19:57:24.084028114Z: Step 8/12 : RUN make all
[STDOUT  ] 2018-02-27T19:57:24.084035655Z:  ---> Using cache
[STDOUT  ] 2018-02-27T19:57:24.084042636Z:  ---> 5b9eb1e5b389
[STDOUT  ] 2018-02-27T19:57:24.084049978Z: Step 9/12 : FROM alpine:3.7
[STDOUT  ] 2018-02-27T19:57:24.084057328Z:  ---> 3fd9065eaf02
[STDOUT  ] 2018-02-27T19:57:24.084064978Z: Step 10/12 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2018-02-27T19:57:24.690720520Z:  ---> 500a4c93b644
[STDOUT  ] 2018-02-27T19:57:24.709023251Z: Removing intermediate container dac33106a8c8
[STDOUT  ] 2018-02-27T19:57:24.709065095Z: Step 11/12 : COPY check.sh /check.sh
[STDOUT  ] 2018-02-27T19:57:25.266553066Z:  ---> 0efaf2cb1988
[STDOUT  ] 2018-02-27T19:57:25.284882215Z: Removing intermediate container bf1025cb72ba
[STDOUT  ] 2018-02-27T19:57:25.284944203Z: Step 12/12 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2018-02-27T19:57:25.432435262Z:  ---> Running in f01166edb236
[STDOUT  ] 2018-02-27T19:57:25.675465726Z:  ---> 55a41ba6cd70
[STDOUT  ] 2018-02-27T19:57:25.693589959Z: Removing intermediate container f01166edb236
[STDOUT  ] 2018-02-27T19:57:25.693623194Z: Successfully built 55a41ba6cd70
[STDOUT  ] 2018-02-27T19:57:25.693634427Z: Successfully tagged kmod-test:latest
[STDERR  ] 2018-02-27T19:57:25.823333338Z: + linuxkit build -format kernel+initrd -name kmod test.yml
[STDERR  ] 2018-02-27T19:57:25.861930390Z: Extract kernel image: linuxkit/kernel:4.4.118
[STDERR  ] 2018-02-27T19:57:26.999652644Z: time="2018-02-27T19:57:26Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-27T19:57:27.001045900Z: time="2018-02-27T19:57:27Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-27T19:57:27.001649439Z: time="2018-02-27T19:57:27Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:27.002303995Z: time="2018-02-27T19:57:27Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:27.002576545Z: time="2018-02-27T19:57:27Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-27T19:57:27.136128626Z: time="2018-02-27T19:57:27Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-27T19:57:30.287441812Z: Add init containers:
[STDERR  ] 2018-02-27T19:57:30.287507969Z: Process init image: linuxkit/init:d899eee3560a40aa3b4bdd67b3bb82703714b2b9
[STDERR  ] 2018-02-27T19:57:31.225675561Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-27T19:57:31.226007600Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:31.226168055Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:31.226335763Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-27T19:57:31.226547084Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-27T19:57:31.234254969Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-27T19:57:31.238472638Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:31.238646497Z: time="2018-02-27T19:57:31Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-27T19:57:32.231832487Z: Process init image: linuxkit/runc:7c39a68490a12cde830e1922f171c451fb08e731
[STDERR  ] 2018-02-27T19:57:33.171007740Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN avi@atomicinc.com is near expiry"
[STDERR  ] 2018-02-27T19:57:33.171244096Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-27T19:57:33.171450446Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-27T19:57:33.171629724Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:33.171778796Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:33.174181738Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN Justin Cormack is near expiry"
[STDERR  ] 2018-02-27T19:57:33.175636160Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN  is near expiry"
[STDERR  ] 2018-02-27T19:57:33.175799795Z: time="2018-02-27T19:57:33Z" level=warning msg="certificate with CN Ian Campbell is near expiry"
[STDERR  ] 2018-02-27T19:57:33.966117699Z: Add onboot containers:
[STDERR  ] 2018-02-27T19:57:33.966186500Z:   Create OCI config for kmod-test
[STDERR  ] 2018-02-27T19:57:34.004286548Z: Pull image: kmod-test
[STDERR  ] 2018-02-27T19:57:35.064163804Z: time="2018-02-27T19:57:35Z" level=fatal msg="Failed to create OCI spec for kmod-test: Error response from daemon: repository kmod-test not found: does not exist or no pull access"
[STDERR  ] 2018-02-27T19:57:35.101902631Z: + clean_up
[STDERR  ] 2018-02-27T19:57:35.101980315Z: + docker rmi kmod-test
[STDERR  ] 2018-02-27T19:57:35.166723741Z: Error response from daemon: No such image: kmod-test:latest
[STDERR  ] 2018-02-27T19:57:35.168587203Z: + true
[STDERR  ] 2018-02-27T19:57:35.168628960Z: + rm -rf kmod-*
[FAIL    ] linuxkit.kernel.kmod_4.4.x 13.91s
