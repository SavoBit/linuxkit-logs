[INFO    ] 2017-06-15T22:52:13.994696003Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/with_clone34aede1f/test/cases/020_kernel/010_kmod_4.9.x
[INFO    ] 2017-06-15T22:52:13.994807148Z: Running command: [/bin/sh -x /tmp/with_clone34aede1f/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-06-15T22:52:13.996174668Z: + set -e
[STDERR  ] 2017-06-15T22:52:13.996275272Z: + . /tmp/with_clone34aede1f/test/cases/_lib/lib.sh
[STDERR  ] 2017-06-15T22:52:13.996410784Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-06-15T22:52:13.996513435Z: + LINUXKIT_TMPDIR=/tmp/with_clone34aede1f/test/cases/_tmp
[STDERR  ] 2017-06-15T22:52:13.996588982Z: + [ -f /tmp/with_clone34aede1f/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-06-15T22:52:13.996662231Z: + . /tmp/with_clone34aede1f/test/cases/_tmp/env.sh
[STDERR  ] 2017-06-15T22:52:13.996739367Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_clone34aede1f/test/cases/../../examples
[STDERR  ] 2017-06-15T22:52:13.99679671Z: + RT_CANCEL=253
[STDERR  ] 2017-06-15T22:52:13.996900289Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-06-15T22:52:13.996964109Z: + trap clean_up EXIT
[STDERR  ] 2017-06-15T22:52:13.997061102Z: + docker pull linuxkit/kernel:4.9.x
[STDOUT  ] 2017-06-15T22:52:15.657646818Z: 4.9.x: Pulling from linuxkit/kernel
[STDOUT  ] 2017-06-15T22:52:15.716084588Z: Digest: sha256:1631c1ceea2007b308ae4efeee9179c1e7d578a5dedab54fbcc64746532f2828
[STDOUT  ] 2017-06-15T22:52:15.716103824Z: Status: Image is up to date for linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-15T22:52:15.719676773Z: + docker build -t kmod-test .
[STDOUT  ] 2017-06-15T22:52:15.755969015Z: Sending build context to Docker daemon 9.216 kB
[STDOUT  ] 2017-06-15T22:52:15.910789332Z: Step 1/11 : FROM linuxkit/kernel:4.9.x AS ksrc
[STDOUT  ] 2017-06-15T22:52:15.975930817Z:  ---> ff8b71933447
[STDOUT  ] 2017-06-15T22:52:15.975957881Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-06-15T22:52:15.975972035Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-06-15T22:52:15.975986523Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-06-15T22:52:16.409672343Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.409701331Z:  ---> c989fb20a70c
[STDOUT  ] 2017-06-15T22:52:16.409720078Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-06-15T22:52:16.424673186Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.424690281Z:  ---> b6fd79b304d3
[STDOUT  ] 2017-06-15T22:52:16.424704616Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-06-15T22:52:16.424718435Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.424732477Z:  ---> b0b3e02ad51c
[STDOUT  ] 2017-06-15T22:52:16.424745836Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-06-15T22:52:16.424759468Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.424772851Z:  ---> ce6e8f95c587
[STDOUT  ] 2017-06-15T22:52:16.424799469Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-06-15T22:52:16.424807313Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.424833297Z:  ---> 43d81f307602
[STDOUT  ] 2017-06-15T22:52:16.424854132Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-06-15T22:52:16.424867782Z:  ---> 75b63e430bd1
[STDOUT  ] 2017-06-15T22:52:16.424884152Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-06-15T22:52:16.424897454Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.42491069Z:  ---> 8f6dfbe54a6d
[STDOUT  ] 2017-06-15T22:52:16.424917587Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-06-15T22:52:16.424945733Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.425376278Z:  ---> e72e3dc55052
[STDOUT  ] 2017-06-15T22:52:16.425410929Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-06-15T22:52:16.42655093Z:  ---> Using cache
[STDOUT  ] 2017-06-15T22:52:16.426585547Z:  ---> 64bb35d9919f
[STDOUT  ] 2017-06-15T22:52:16.426593491Z: Successfully built 64bb35d9919f
[STDOUT  ] 2017-06-15T22:52:16.443579517Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-06-15T22:52:16.508781218Z: + moby build -output kernel+initrd kmod.yml
[STDERR  ] 2017-06-15T22:52:16.532120592Z: Extract kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-15T22:52:22.599115209Z: Add init containers:
[STDERR  ] 2017-06-15T22:52:22.599138943Z: Process init image: linuxkit/init:781cec2360313a6d4aca25f5e90623294f8432f7
[STDERR  ] 2017-06-15T22:52:24.562261492Z: Process init image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-06-15T22:52:26.729959242Z: Process init image: linuxkit/containerd:b50181bc6e0084e5fcd6b6ad3cf433c4f66cae5a
[STDERR  ] 2017-06-15T22:52:35.632740722Z: Add onboot containers:
[STDERR  ] 2017-06-15T22:52:35.63277683Z:   Create OCI config for kmod-test
[STDERR  ] 2017-06-15T22:52:35.668919897Z: Pull image: kmod-test
[STDERR  ] 2017-06-15T22:52:36.759821935Z: time="2017-06-15T22:52:36Z" level=fatal msg="Failed to create config.json for kmod-test: Error response from daemon: repository kmod-test not found: does not exist or no pull access" 
[STDERR  ] 2017-06-15T22:52:36.921490177Z: + clean_up
[STDERR  ] 2017-06-15T22:52:36.921528354Z: + docker rmi kmod-test
[STDERR  ] 2017-06-15T22:52:36.979284601Z: Error response from daemon: No such image: kmod-test:latest
[STDERR  ] 2017-06-15T22:52:36.980611826Z: + true
[STDERR  ] 2017-06-15T22:52:36.98062853Z: + find . -depth -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[FAIL    ] linuxkit.kernel.kmod_4.9.x 22.99s
