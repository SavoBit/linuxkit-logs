[INFO    ] 2019-04-17T12:47:49.233254942Z: Running Test linuxkit.kernel.kmod_5.0.x in /tmp/build/test/cases/020_kernel/017_kmod_5.0.x
[INFO    ] 2019-04-17T12:47:49.233362333Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/017_kmod_5.0.x/test.sh]
[STDERR  ] 2019-04-17T12:47:49.234055785Z: + set -e
[STDERR  ] 2019-04-17T12:47:49.234145663Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-04-17T12:47:49.234160583Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-04-17T12:47:49.234174216Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-04-17T12:47:49.234187700Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-04-17T12:47:49.234200863Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-04-17T12:47:49.234214991Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-04-17T12:47:49.234238359Z: + RT_CANCEL=253
[STDERR  ] 2019-04-17T12:47:49.234258388Z: + NAME=kmod
[STDERR  ] 2019-04-17T12:47:49.234271979Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-04-17T12:47:49.234286243Z: + trap clean_up EXIT
[STDERR  ] 2019-04-17T12:47:49.234303909Z: + docker pull linuxkit/kernel:5.0.7
[STDOUT  ] 2019-04-17T12:47:50.429383589Z: 5.0.7: Pulling from linuxkit/kernel
[STDOUT  ] 2019-04-17T12:47:50.800068239Z: Digest: sha256:b31182a7ce709245b0c71c07b8d6579cfb3c2d44a017e16414125b6d05689dff
[STDOUT  ] 2019-04-17T12:47:50.803471630Z: Status: Downloaded newer image for linuxkit/kernel:5.0.7
[STDERR  ] 2019-04-17T12:47:50.805112695Z: + docker build -t kmod-test .
[STDOUT  ] 2019-04-17T12:47:50.883809251Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-04-17T12:47:50.956876883Z: Step 1/12 : FROM linuxkit/kernel:5.0.7 AS ksrc
[STDOUT  ] 2019-04-17T12:47:50.957017952Z:  ---> bbc504505472
[STDOUT  ] 2019-04-17T12:47:50.957195608Z: Step 2/12 : FROM linuxkit/alpine:5ce235f4fb55772e7f78871a70bfe26f774fe2b0 AS build
[STDOUT  ] 2019-04-17T12:47:50.957425668Z:  ---> 464cb75731f7
[STDOUT  ] 2019-04-17T12:47:50.957496525Z: Step 3/12 : RUN apk add build-base elfutils-dev
[STDOUT  ] 2019-04-17T12:47:50.957761031Z:  ---> Using cache
[STDOUT  ] 2019-04-17T12:47:50.957824562Z:  ---> 30d0289ea08e
[STDOUT  ] 2019-04-17T12:47:50.957928046Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-04-17T12:47:53.928809763Z:  ---> f660c03cd734
[STDOUT  ] 2019-04-17T12:47:53.928959856Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-04-17T12:47:53.990582023Z:  ---> Running in 9e9fdfb77615
[STDOUT  ] 2019-04-17T12:48:01.103626707Z: Removing intermediate container 9e9fdfb77615
[STDOUT  ] 2019-04-17T12:48:01.103732912Z:  ---> c0a9ebdd09c3
[STDOUT  ] 2019-04-17T12:48:01.103814234Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-04-17T12:48:01.190382103Z:  ---> Running in 8ccae3eb8bf2
[STDOUT  ] 2019-04-17T12:48:01.371389639Z: Removing intermediate container 8ccae3eb8bf2
[STDOUT  ] 2019-04-17T12:48:01.371438228Z:  ---> 27a62311fa44
[STDOUT  ] 2019-04-17T12:48:01.371446813Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-04-17T12:48:01.626130465Z:  ---> 94922a13332b
[STDOUT  ] 2019-04-17T12:48:01.626243389Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-04-17T12:48:01.678193713Z:  ---> Running in 4012bf91094d
[STDOUT  ] 2019-04-17T12:48:02.105575765Z: make -C /usr/src/linux-headers-5.0.7-linuxkit M=/kmod modules
[STDOUT  ] 2019-04-17T12:48:02.105641438Z: make[1]: Entering directory '/usr/src/linux-headers-5.0.7-linuxkit'
[STDOUT  ] 2019-04-17T12:48:03.310752233Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-04-17T12:48:03.318022951Z: [91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T12:48:03.318087089Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/stackleak_plugin.so
[STDOUT  ] 2019-04-17T12:48:03.318098468Z: [0m[91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T12:48:03.318110404Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2019-04-17T12:48:03.318355655Z: [0m[91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T12:48:03.318384037Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2019-04-17T12:48:03.319261561Z: [0m[91mmake[2]: *** [scripts/Makefile.build:283: /kmod/hello_world.o] Error 1
[STDOUT  ] 2019-04-17T12:48:03.319769462Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-5.0.7-linuxkit'
[STDOUT  ] 2019-04-17T12:48:03.319965507Z: [91mmake[1]: *** [Makefile:1576: _module_/kmod] Error 2
[STDOUT  ] 2019-04-17T12:48:03.319986074Z: make: *** [Makefile:4: all] Error 2
[STDERR  ] 2019-04-17T12:48:03.607819106Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2019-04-17T12:48:03.609373871Z: + clean_up
[STDERR  ] 2019-04-17T12:48:03.609418462Z: + docker rmi kmod-test
[STDERR  ] 2019-04-17T12:48:03.713807856Z: Error: No such image: kmod-test
[STDERR  ] 2019-04-17T12:48:03.715360219Z: + true
[STDERR  ] 2019-04-17T12:48:03.715411861Z: + rm -rf kmod-*
[STDOUT  ] 2019-04-17T12:48:03.716127409Z: [0m
[FAIL    ] linuxkit.kernel.kmod_5.0.x 14.48s
