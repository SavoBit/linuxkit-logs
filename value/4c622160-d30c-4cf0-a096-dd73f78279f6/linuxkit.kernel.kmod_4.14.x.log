[INFO    ] 2019-04-17T12:47:23.545504092Z: Running Test linuxkit.kernel.kmod_4.14.x in /tmp/build/test/cases/020_kernel/012_kmod_4.14.x
[INFO    ] 2019-04-17T12:47:23.545666865Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/012_kmod_4.14.x/test.sh]
[STDERR  ] 2019-04-17T12:47:23.546469857Z: + set -e
[STDERR  ] 2019-04-17T12:47:23.546553245Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-04-17T12:47:23.546569631Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-04-17T12:47:23.546583299Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-04-17T12:47:23.546596969Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-04-17T12:47:23.546610431Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-04-17T12:47:23.546635170Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-04-17T12:47:23.546657044Z: + RT_CANCEL=253
[STDERR  ] 2019-04-17T12:47:23.546671103Z: + NAME=kmod
[STDERR  ] 2019-04-17T12:47:23.546685101Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-04-17T12:47:23.546699938Z: + trap clean_up EXIT
[STDERR  ] 2019-04-17T12:47:23.546714772Z: + docker pull linuxkit/kernel:4.14.111
[STDOUT  ] 2019-04-17T12:47:24.728242695Z: 4.14.111: Pulling from linuxkit/kernel
[STDOUT  ] 2019-04-17T12:47:25.105953906Z: Digest: sha256:a117ebc6201c1121edf1e6483d024e11faecba9e4b87ea580e37f23b67e91e51
[STDOUT  ] 2019-04-17T12:47:25.115107032Z: Status: Downloaded newer image for linuxkit/kernel:4.14.111
[STDERR  ] 2019-04-17T12:47:25.117023629Z: + docker build -t kmod-test .
[STDOUT  ] 2019-04-17T12:47:25.273418256Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-04-17T12:47:25.416827493Z: Step 1/12 : FROM linuxkit/kernel:4.14.111 AS ksrc
[STDOUT  ] 2019-04-17T12:47:25.417009653Z:  ---> e27642e5fd18
[STDOUT  ] 2019-04-17T12:47:25.417072969Z: Step 2/12 : FROM linuxkit/alpine:5ce235f4fb55772e7f78871a70bfe26f774fe2b0 AS build
[STDOUT  ] 2019-04-17T12:47:25.417685026Z:  ---> 464cb75731f7
[STDOUT  ] 2019-04-17T12:47:25.417711421Z: Step 3/12 : RUN apk add build-base elfutils-dev
[STDOUT  ] 2019-04-17T12:47:25.418092114Z:  ---> Using cache
[STDOUT  ] 2019-04-17T12:47:25.418113231Z:  ---> 30d0289ea08e
[STDOUT  ] 2019-04-17T12:47:25.418124932Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-04-17T12:47:26.723639485Z:  ---> 0a554d893450
[STDOUT  ] 2019-04-17T12:47:26.723773502Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-04-17T12:47:26.774558261Z:  ---> Running in 3424c581eb1c
[STDOUT  ] 2019-04-17T12:47:34.149312246Z: Removing intermediate container 3424c581eb1c
[STDOUT  ] 2019-04-17T12:47:34.149428429Z:  ---> 4ec12dc5577e
[STDOUT  ] 2019-04-17T12:47:34.149510617Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-04-17T12:47:34.230087728Z:  ---> Running in 2a393711e693
[STDOUT  ] 2019-04-17T12:47:34.368186920Z: Removing intermediate container 2a393711e693
[STDOUT  ] 2019-04-17T12:47:34.368231875Z:  ---> a5cca30e6a21
[STDOUT  ] 2019-04-17T12:47:34.368239644Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-04-17T12:47:34.622409115Z:  ---> 134911bae383
[STDOUT  ] 2019-04-17T12:47:34.622461653Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-04-17T12:47:34.670147174Z:  ---> Running in d8afec420815
[STDOUT  ] 2019-04-17T12:47:34.978213891Z: make -C /usr/src/linux-headers-4.14.111-linuxkit M=/kmod modules
[STDOUT  ] 2019-04-17T12:47:34.978279292Z: make[1]: Entering directory '/usr/src/linux-headers-4.14.111-linuxkit'
[STDOUT  ] 2019-04-17T12:47:36.323128538Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-04-17T12:47:36.331854741Z: [91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T12:47:36.331916202Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2019-04-17T12:47:36.332223649Z: [0m[91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2019-04-17T12:47:36.332247413Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2019-04-17T12:47:36.334074026Z: [0m[91mmake[2]: *** [scripts/Makefile.build:333: /kmod/hello_world.o] Error 1
[STDOUT  ] 2019-04-17T12:47:36.334358681Z: [0m[91mmake[1]: *** [Makefile:1535: _module_/kmod] Error 2
[STDOUT  ] 2019-04-17T12:47:36.334454935Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-4.14.111-linuxkit'
[STDOUT  ] 2019-04-17T12:47:36.334621065Z: [91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2019-04-17T12:47:36.834310870Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2019-04-17T12:47:36.836013815Z: + clean_up
[STDERR  ] 2019-04-17T12:47:36.836066930Z: + docker rmi kmod-test
[STDERR  ] 2019-04-17T12:47:36.900431335Z: Error: No such image: kmod-test
[STDERR  ] 2019-04-17T12:47:36.901786196Z: + true
[STDERR  ] 2019-04-17T12:47:36.901909588Z: + rm -rf kmod-*
[STDOUT  ] 2019-04-17T12:47:36.902809142Z: [0m
[FAIL    ] linuxkit.kernel.kmod_4.14.x 13.36s
