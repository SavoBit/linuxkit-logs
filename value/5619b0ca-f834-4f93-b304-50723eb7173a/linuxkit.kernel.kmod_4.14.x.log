[INFO    ] 2017-12-13T12:05:52.215474835Z: Running Test linuxkit.kernel.kmod_4.14.x in /tmp/build/test/cases/020_kernel/016_kmod_4.14.x
[INFO    ] 2017-12-13T12:05:52.215566942Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/016_kmod_4.14.x/test.sh]
[STDERR  ] 2017-12-13T12:05:52.216211778Z: + set -e
[STDERR  ] 2017-12-13T12:05:52.216266434Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2017-12-13T12:05:52.216277155Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-12-13T12:05:52.216286411Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2017-12-13T12:05:52.216302648Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-12-13T12:05:52.216313463Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2017-12-13T12:05:52.216324001Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2017-12-13T12:05:52.216333922Z: + export LINUXKIT_BLUEPRINTS_DIR=/tmp/build/test/cases/../../blueprints
[STDERR  ] 2017-12-13T12:05:52.216343407Z: + RT_CANCEL=253
[STDERR  ] 2017-12-13T12:05:52.216353098Z: + NAME=kmod
[STDERR  ] 2017-12-13T12:05:52.216362233Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-12-13T12:05:52.216372832Z: + trap clean_up EXIT
[STDERR  ] 2017-12-13T12:05:52.216382557Z: + docker pull linuxkit/kernel:4.9.67
[STDOUT  ] 2017-12-13T12:05:53.420576629Z: 4.9.67: Pulling from linuxkit/kernel
[STDOUT  ] 2017-12-13T12:05:53.808095667Z: Digest: sha256:caa4be72ad42f9c974a84cd05757daa7cad9639e753cbf517c7b3bc5c2c18edb
[STDOUT  ] 2017-12-13T12:05:53.808152205Z: Status: Image is up to date for linuxkit/kernel:4.9.67
[STDERR  ] 2017-12-13T12:05:53.809253304Z: + docker build -t kmod-test .
[STDOUT  ] 2017-12-13T12:05:53.966719793Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2017-12-13T12:05:54.066872153Z: Step 1/12 : FROM linuxkit/kernel:4.14.4 AS ksrc
[STDOUT  ] 2017-12-13T12:05:55.144679625Z: 4.14.4: Pulling from linuxkit/kernel
[STDOUT  ] 2017-12-13T12:05:55.554306081Z: Digest: sha256:97d9b893d4d12dc6d1c4c49ba0c3319b6cf276425f19cdfff58ffe37802ce391
[STDOUT  ] 2017-12-13T12:05:55.55996105Z: Status: Downloaded newer image for linuxkit/kernel:4.14.4
[STDOUT  ] 2017-12-13T12:05:55.560022653Z:  ---> 201dccb088e4
[STDOUT  ] 2017-12-13T12:05:55.560033491Z: Step 2/12 : FROM linuxkit/alpine:07f7d136e427dc68154cd5edbb2b9576f9ac5213 AS build
[STDOUT  ] 2017-12-13T12:05:55.560368034Z:  ---> 039fd8c1530e
[STDOUT  ] 2017-12-13T12:05:55.560391161Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2017-12-13T12:05:55.560675344Z:  ---> Using cache
[STDOUT  ] 2017-12-13T12:05:55.560693739Z:  ---> f75f73b42379
[STDOUT  ] 2017-12-13T12:05:55.560710055Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-12-13T12:05:57.348058245Z:  ---> e7c07fa0b72c
[STDOUT  ] 2017-12-13T12:05:57.368934462Z: Removing intermediate container cb6cc5a8f8da
[STDOUT  ] 2017-12-13T12:05:57.368987921Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-12-13T12:05:57.444738175Z:  ---> Running in cad5e429ce75
[STDOUT  ] 2017-12-13T12:06:03.520578502Z:  ---> 0ee584f05dbe
[STDOUT  ] 2017-12-13T12:06:03.908632833Z: Removing intermediate container cad5e429ce75
[STDOUT  ] 2017-12-13T12:06:03.908679947Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2017-12-13T12:06:04.180641125Z:  ---> a6cb9eac12d0
[STDOUT  ] 2017-12-13T12:06:04.186851402Z: Removing intermediate container 20d4ffd2ef68
[STDOUT  ] 2017-12-13T12:06:04.186899681Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2017-12-13T12:06:04.681173411Z:  ---> 21fd89e2eacd
[STDOUT  ] 2017-12-13T12:06:04.687505008Z: Removing intermediate container 820018bb9a2d
[STDOUT  ] 2017-12-13T12:06:04.687549581Z: Step 8/12 : RUN make all
[STDOUT  ] 2017-12-13T12:06:04.761140706Z:  ---> Running in d5844b4d8c80
[STDOUT  ] 2017-12-13T12:06:05.079868715Z: make -C /usr/src/linux-headers-4.14.4-linuxkit M=/kmod modules
[STDOUT  ] 2017-12-13T12:06:05.080498264Z: make[1]: Entering directory '/usr/src/linux-headers-4.14.4-linuxkit'
[STDOUT  ] 2017-12-13T12:06:05.082820638Z: [91mgetconf: LFS_CFLAGS: unknown variable
[STDOUT  ] 2017-12-13T12:06:05.083548776Z: [0m[91mgetconf: LFS_LDFLAGS: unknown variable
[STDOUT  ] 2017-12-13T12:06:05.084357915Z: [0m[91mgetconf: LFS_LIBS: unknown variable
[STDOUT  ] 2017-12-13T12:06:06.131630017Z: [0m  CC [M]  /kmod/hello_world.o
[STDOUT  ] 2017-12-13T12:06:06.14164991Z: [91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2017-12-13T12:06:06.141695801Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2017-12-13T12:06:06.141706418Z: cc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2017-12-13T12:06:06.141731354Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2017-12-13T12:06:06.142422406Z: [0m[91mmake[2]: *** [scripts/Makefile.build:321: /kmod/hello_world.o] Error 1
[STDOUT  ] 2017-12-13T12:06:06.142618487Z: [0m[91mmake[1]: *** [Makefile:1503: _module_/kmod] Error 2
[STDOUT  ] 2017-12-13T12:06:06.142772226Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-4.14.4-linuxkit'
[STDOUT  ] 2017-12-13T12:06:06.142893883Z: [91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2017-12-13T12:06:06.457003124Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2017-12-13T12:06:06.457919787Z: + clean_up
[STDERR  ] 2017-12-13T12:06:06.457948695Z: + docker rmi kmod-test
[STDERR  ] 2017-12-13T12:06:06.471368563Z: Error response from daemon: No such image: kmod-test:latest
[STDERR  ] 2017-12-13T12:06:06.472397562Z: + true
[STDERR  ] 2017-12-13T12:06:06.472428731Z: + rm -rf kmod-*
[STDOUT  ] 2017-12-13T12:06:06.473059774Z: [0m
[FAIL    ] linuxkit.kernel.kmod_4.14.x 14.26s
