[INFO    ] 2017-07-10T18:19:45.819419519Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/with_clone487d5d0/test/cases/020_kernel/010_kmod_4.9.x
[INFO    ] 2017-07-10T18:19:45.81952669Z: Running command: [/bin/sh -x /tmp/with_clone487d5d0/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-07-10T18:19:45.821084289Z: + set -e
[STDERR  ] 2017-07-10T18:19:45.821213213Z: + . /tmp/with_clone487d5d0/test/cases/_lib/lib.sh
[STDERR  ] 2017-07-10T18:19:45.821334168Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-07-10T18:19:45.821411874Z: + LINUXKIT_TMPDIR=/tmp/with_clone487d5d0/test/cases/_tmp
[STDERR  ] 2017-07-10T18:19:45.821486882Z: + [ -f /tmp/with_clone487d5d0/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-07-10T18:19:45.821590017Z: + . /tmp/with_clone487d5d0/test/cases/_tmp/env.sh
[STDERR  ] 2017-07-10T18:19:45.821648185Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_clone487d5d0/test/cases/../../examples
[STDERR  ] 2017-07-10T18:19:45.821733057Z: + export LINUXKIT_BLUEPRINTS_DIR=/tmp/with_clone487d5d0/test/cases/../../blueprints
[STDERR  ] 2017-07-10T18:19:45.821799644Z: + RT_CANCEL=253
[STDERR  ] 2017-07-10T18:19:45.82183646Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-07-10T18:19:45.821939722Z: + trap clean_up EXIT
[STDERR  ] 2017-07-10T18:19:45.822020118Z: + docker pull linuxkit/kernel:4.9.36
[STDOUT  ] 2017-07-10T18:19:47.123389583Z: 4.9.36: Pulling from linuxkit/kernel
[STDOUT  ] 2017-07-10T18:19:47.184720108Z: Digest: sha256:4b7187c0ec59a14a732f65d9e3a310ba69262cfa22c76c7ad8dbbe66a433e5fc
[STDOUT  ] 2017-07-10T18:19:47.184741946Z: Status: Image is up to date for linuxkit/kernel:4.9.36
[STDERR  ] 2017-07-10T18:19:47.188412676Z: + docker build -t kmod-test .
[STDOUT  ] 2017-07-10T18:19:47.207820428Z: Sending build context to Docker daemon 9.216 kB
[STDOUT  ] 2017-07-10T18:19:47.367272279Z: Step 1/11 : FROM linuxkit/kernel:4.9.36 AS ksrc
[STDOUT  ] 2017-07-10T18:19:47.424646772Z:  ---> fcc7d86822ad
[STDOUT  ] 2017-07-10T18:19:47.424679213Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-07-10T18:19:47.424705349Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-07-10T18:19:47.424720532Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-07-10T18:19:47.877114906Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.877135308Z:  ---> 4c50829347fd
[STDOUT  ] 2017-07-10T18:19:47.877150503Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-07-10T18:19:47.892661117Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.892679036Z:  ---> c2b33a22ac5e
[STDOUT  ] 2017-07-10T18:19:47.892693362Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-07-10T18:19:47.8927069Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.892721053Z:  ---> ca824a6a8a0a
[STDOUT  ] 2017-07-10T18:19:47.892735304Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-07-10T18:19:47.892749063Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.892762809Z:  ---> 63eab09da7f6
[STDOUT  ] 2017-07-10T18:19:47.892803448Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-07-10T18:19:47.892810988Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.89283111Z:  ---> 93be4e4a81ff
[STDOUT  ] 2017-07-10T18:19:47.892837967Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-07-10T18:19:47.892858752Z:  ---> 074d602a59d7
[STDOUT  ] 2017-07-10T18:19:47.892872705Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-07-10T18:19:47.892886464Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.892893429Z:  ---> 500b34ab90eb
[STDOUT  ] 2017-07-10T18:19:47.892930154Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-07-10T18:19:47.893967Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.893976218Z:  ---> 79ed29fa0dc7
[STDOUT  ] 2017-07-10T18:19:47.894015028Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-07-10T18:19:47.894036508Z:  ---> Using cache
[STDOUT  ] 2017-07-10T18:19:47.894056708Z:  ---> 523231b41faf
[STDOUT  ] 2017-07-10T18:19:47.894063157Z: Successfully built 523231b41faf
[STDOUT  ] 2017-07-10T18:19:47.910796726Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-07-10T18:19:48.010212163Z: + moby build -output kernel+initrd kmod.yml
[STDERR  ] 2017-07-10T18:19:48.023386552Z: Extract kernel image: linuxkit/kernel:4.9.36
[STDERR  ] 2017-07-10T18:19:55.660473387Z: Add init containers:
[STDERR  ] 2017-07-10T18:19:55.66050253Z: Process init image: linuxkit/init:14a38303ee9dcb4541c00e2b87404befc1ba2083
[STDERR  ] 2017-07-10T18:19:58.023647529Z: Process init image: linuxkit/runc:2310ad9d266cf5d9c4d07613bd2135ed7eb8a21f
[STDERR  ] 2017-07-10T18:20:01.087021022Z: Process init image: linuxkit/containerd:c977f27c234d55b85172813b8451f67ea86be4a3
[STDERR  ] 2017-07-10T18:20:10.300408251Z: Add onboot containers:
[STDERR  ] 2017-07-10T18:20:10.300455952Z:   Create OCI config for kmod-test
[STDERR  ] 2017-07-10T18:20:10.423926662Z: Pull image: kmod-test
[STDERR  ] 2017-07-10T18:20:11.732005499Z: time="2017-07-10T18:20:11Z" level=fatal msg="Failed to create config.json for kmod-test: Error response from daemon: repository kmod-test not found: does not exist or no pull access" 
[STDERR  ] 2017-07-10T18:20:11.920855711Z: + clean_up
[STDERR  ] 2017-07-10T18:20:11.920868151Z: + docker rmi kmod-test
[STDERR  ] 2017-07-10T18:20:12.131616022Z: Error response from daemon: No such image: kmod-test:latest
[STDERR  ] 2017-07-10T18:20:12.134868092Z: + true
[STDERR  ] 2017-07-10T18:20:12.13488329Z: + find . -depth -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[FAIL    ] linuxkit.kernel.kmod_4.9.x 26.32s
