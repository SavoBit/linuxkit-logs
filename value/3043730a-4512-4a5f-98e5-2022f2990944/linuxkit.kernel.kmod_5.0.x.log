[INFO    ] 2019-04-05T20:35:38.008156828Z: Running Test linuxkit.kernel.kmod_5.0.x in /tmp/build/test/cases/020_kernel/017_kmod_5.0.x
[INFO    ] 2019-04-05T20:35:38.008265165Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/017_kmod_5.0.x/test.sh]
[STDERR  ] 2019-04-05T20:35:38.008938006Z: + set -e
[STDERR  ] 2019-04-05T20:35:38.008996401Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2019-04-05T20:35:38.009012858Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2019-04-05T20:35:38.009026495Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2019-04-05T20:35:38.009042391Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2019-04-05T20:35:38.009056514Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2019-04-05T20:35:38.009070527Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2019-04-05T20:35:38.009084834Z: + RT_CANCEL=253
[STDERR  ] 2019-04-05T20:35:38.009099027Z: + NAME=kmod
[STDERR  ] 2019-04-05T20:35:38.009112553Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2019-04-05T20:35:38.009127742Z: + trap clean_up EXIT
[STDERR  ] 2019-04-05T20:35:38.009148881Z: + docker pull linuxkit/kernel:5.0.6
[STDOUT  ] 2019-04-05T20:35:39.194871310Z: 5.0.6: Pulling from linuxkit/kernel
[STDOUT  ] 2019-04-05T20:35:39.559528060Z: Digest: sha256:9651b7fd85034b93305f868b8963ea362f66b2316fb971c01f3ec6350d5a2cc2
[STDOUT  ] 2019-04-05T20:35:39.882577987Z: Status: Downloaded newer image for linuxkit/kernel:5.0.6
[STDERR  ] 2019-04-05T20:35:39.884517814Z: + docker build -t kmod-test .
[STDOUT  ] 2019-04-05T20:35:40.186373619Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2019-04-05T20:35:40.266932449Z: Step 1/12 : FROM linuxkit/kernel:5.0.6 AS ksrc
[STDOUT  ] 2019-04-05T20:35:40.267433484Z:  ---> f59eab4c3dd8
[STDOUT  ] 2019-04-05T20:35:40.267594955Z: Step 2/12 : FROM linuxkit/alpine:5ce235f4fb55772e7f78871a70bfe26f774fe2b0 AS build
[STDOUT  ] 2019-04-05T20:35:40.267918693Z:  ---> 464cb75731f7
[STDOUT  ] 2019-04-05T20:35:40.268010949Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2019-04-05T20:35:40.268242256Z:  ---> Using cache
[STDOUT  ] 2019-04-05T20:35:40.268300469Z:  ---> fab988358792
[STDOUT  ] 2019-04-05T20:35:40.268378800Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2019-04-05T20:35:41.549404600Z:  ---> 6e19fce1d435
[STDOUT  ] 2019-04-05T20:35:41.549536672Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2019-04-05T20:35:41.612850147Z:  ---> Running in cd3af6b45a6d
[STDOUT  ] 2019-04-05T20:35:49.072739283Z: Removing intermediate container cd3af6b45a6d
[STDOUT  ] 2019-04-05T20:35:49.072853029Z:  ---> 3d534b649903
[STDOUT  ] 2019-04-05T20:35:49.072944465Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2019-04-05T20:35:49.157794080Z:  ---> Running in d1a623452171
[STDOUT  ] 2019-04-05T20:35:49.294703419Z: Removing intermediate container d1a623452171
[STDOUT  ] 2019-04-05T20:35:49.294745243Z:  ---> 208962081f2c
[STDOUT  ] 2019-04-05T20:35:49.294753801Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2019-04-05T20:35:49.540393699Z:  ---> a398155ac1e4
[STDOUT  ] 2019-04-05T20:35:49.540436670Z: Step 8/12 : RUN make all
[STDOUT  ] 2019-04-05T20:35:49.593120699Z:  ---> Running in 7eb3d540be7e
[STDOUT  ] 2019-04-05T20:35:49.887669269Z: make -C /usr/src/linux-headers-5.0.6-linuxkit M=/kmod modules
[STDOUT  ] 2019-04-05T20:35:49.887730053Z: make[1]: Entering directory '/usr/src/linux-headers-5.0.6-linuxkit'
[STDOUT  ] 2019-04-05T20:35:51.081345315Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2019-04-05T20:35:51.331650015Z: [91mError loading shared library libelf.so.1: No such file or directory (needed by ./tools/objtool/objtool)
[STDOUT  ] 2019-04-05T20:35:51.331699363Z: Error relocating ./tools/objtool/objtool: elf_getdata: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331709580Z: Error relocating ./tools/objtool/objtool: elf_end: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331730808Z: Error relocating ./tools/objtool/objtool: elf_flagelf: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331740246Z: Error relocating ./tools/objtool/objtool: gelf_getehdr: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331760746Z: Error relocating ./tools/objtool/objtool: elf_update: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331774467Z: [0m[91mError relocating ./tools/objtool/objtool: elf_getshdrstrndx: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331790470Z: Error relocating ./tools/objtool/objtool: gelf_getsym: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331799704Z: Error relocating ./tools/objtool/objtool: elf_getshdrnum: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331818217Z: Error relocating ./tools/objtool/objtool: elf_newscn: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331827220Z: Error relocating ./tools/objtool/objtool: gelf_getrela: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331836266Z: Error relocating ./tools/objtool/objtool: elf_nextscn: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331845520Z: Error relocating ./tools/objtool/objtool: elf_ndxscn: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331855252Z: Error relocating ./tools/objtool/objtool: elf_version: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331864483Z: Error relocating ./tools/objtool/objtool: gelf_getshdr: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331873465Z: Error relocating ./tools/objtool/objtool: elf_errmsg: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331882617Z: Error relocating ./tools/objtool/objtool: elf_newdata: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331892411Z: Error relocating ./tools/objtool/objtool: elf_getscn: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331905820Z: Error relocating ./tools/objtool/objtool: gelf_update_shdr: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331914857Z: Error relocating ./tools/objtool/objtool: elf_begin: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331924469Z: Error relocating ./tools/objtool/objtool: elf_strptr: symbol not found
[STDOUT  ] 2019-04-05T20:35:51.331934170Z: [0m[91mmake[2]: *** [scripts/Makefile.build:283: /kmod/hello_world.o] Error 127
[STDOUT  ] 2019-04-05T20:35:51.331944570Z: make[2]: *** Deleting file '/kmod/hello_world.o'
[STDOUT  ] 2019-04-05T20:35:51.331967502Z: [0m[91mmake[1]: *** [Makefile:1555: _module_/kmod] Error 2
[STDOUT  ] 2019-04-05T20:35:51.332140058Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-5.0.6-linuxkit'
[STDOUT  ] 2019-04-05T20:35:51.332418751Z: [91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2019-04-05T20:35:51.603139252Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2019-04-05T20:35:51.604431865Z: + clean_up
[STDERR  ] 2019-04-05T20:35:51.604517745Z: + docker rmi kmod-test
[STDERR  ] 2019-04-05T20:35:51.669400295Z: Error: No such image: kmod-test
[STDERR  ] 2019-04-05T20:35:51.670778858Z: + true
[STDERR  ] 2019-04-05T20:35:51.670837990Z: + rm -rf kmod-*
[STDOUT  ] 2019-04-05T20:35:51.671710312Z: [0m
[FAIL    ] linuxkit.kernel.kmod_5.0.x 13.66s
