[INFO    ] 2017-05-26T22:42:11.789808983Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/build/test/cases/020_kernel/010_kmod_4.9.x
[INFO    ] 2017-05-26T22:42:11.78987802Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-05-26T22:42:11.790593065Z: + set -e
[STDERR  ] 2017-05-26T22:42:11.79062956Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2017-05-26T22:42:11.790668216Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-05-26T22:42:11.790707042Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2017-05-26T22:42:11.790735412Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-05-26T22:42:11.790766536Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2017-05-26T22:42:11.79078826Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2017-05-26T22:42:11.790815909Z: + RT_CANCEL=253
[STDERR  ] 2017-05-26T22:42:11.790838403Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-05-26T22:42:11.790873035Z: + trap clean_up EXIT
[STDERR  ] 2017-05-26T22:42:11.790891723Z: + docker pull linuxkit/kernel:4.9.x
[STDOUT  ] 2017-05-26T22:42:13.023894114Z: 4.9.x: Pulling from linuxkit/kernel
[STDERR  ] 2017-05-26T22:42:13.024742811Z: + docker build -t kmod-test .
[STDOUT  ] 2017-05-26T22:42:13.028931977Z: Digest: sha256:41235c0c1093801dea6bf8acfb31091fcddd4848a752a77b89729f1e6320bbc7
[STDOUT  ] 2017-05-26T22:42:13.029031103Z: Status: Image is up to date for linuxkit/kernel:4.9.x
[STDOUT  ] 2017-05-26T22:42:13.080921647Z: Sending build context to Docker daemon  9.216kB
[STDOUT  ] 2017-05-26T22:42:13.108135262Z: Step 1/11 : FROM linuxkit/kernel:4.9.x AS ksrc
[STDOUT  ] 2017-05-26T22:42:13.109197141Z:  ---> 3173edc4f8bb
[STDOUT  ] 2017-05-26T22:42:13.109211161Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-05-26T22:42:14.222083997Z: 1b396c221af673757703258159ddc8539843b02b: Pulling from linuxkit/kernel-compile
[STDOUT  ] 2017-05-26T22:42:14.230365895Z: 627beaf3eaaf: Already exists
[STDOUT  ] 2017-05-26T22:42:14.303142628Z: 26dc4067def6: Pulling fs layer
[STDOUT  ] 2017-05-26T22:42:16.68382799Z: 26dc4067def6: Verifying Checksum
[STDOUT  ] 2017-05-26T22:42:16.683909832Z: 26dc4067def6: Download complete
[STDOUT  ] 2017-05-26T22:42:23.246526129Z: 26dc4067def6: Pull complete
[STDOUT  ] 2017-05-26T22:42:23.273805933Z: Digest: sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-05-26T22:42:23.300488726Z: Status: Downloaded newer image for linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b
[STDOUT  ] 2017-05-26T22:42:23.300926735Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-05-26T22:42:23.301056578Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-05-26T22:42:25.334071719Z:  ---> d67e365579b6
[STDOUT  ] 2017-05-26T22:42:25.354819933Z: Removing intermediate container ab5409a75b7e
[STDOUT  ] 2017-05-26T22:42:25.354940833Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-05-26T22:42:25.434141185Z:  ---> Running in e5449720a19d
[STDOUT  ] 2017-05-26T22:42:33.844332201Z:  ---> 88d9c431077c
[STDOUT  ] 2017-05-26T22:42:34.523344037Z: Removing intermediate container e5449720a19d
[STDOUT  ] 2017-05-26T22:42:34.523504193Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-05-26T22:42:35.702669238Z:  ---> b0a601fff91b
[STDOUT  ] 2017-05-26T22:42:35.726274148Z: Removing intermediate container 59198a7e6b14
[STDOUT  ] 2017-05-26T22:42:35.72641082Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-05-26T22:42:36.069821803Z:  ---> 549d1a5f6930
[STDOUT  ] 2017-05-26T22:42:36.116863206Z: Removing intermediate container ea098154d6f5
[STDOUT  ] 2017-05-26T22:42:36.11698243Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-05-26T22:42:36.289138481Z:  ---> Running in afa915a87630
[STDOUT  ] 2017-05-26T22:42:36.511410316Z: make -C /usr/src/linux-headers-4.9.29-linuxkit M=/kmod modules
[STDOUT  ] 2017-05-26T22:42:36.512498673Z: make[1]: Entering directory '/usr/src/linux-headers-4.9.29-linuxkit'
[STDOUT  ] 2017-05-26T22:42:37.446940006Z:   CC [M]  /kmod/hello_world.o
[STDOUT  ] 2017-05-26T22:42:37.635381466Z:   Building modules, stage 2.
[STDOUT  ] 2017-05-26T22:42:37.641184427Z:   MODPOST 1 modules
[STDOUT  ] 2017-05-26T22:42:37.651026105Z:   CC      /kmod/hello_world.mod.o
[STDOUT  ] 2017-05-26T22:42:37.815100982Z:   LD [M]  /kmod/hello_world.ko
[STDOUT  ] 2017-05-26T22:42:37.817321581Z: make[1]: Leaving directory '/usr/src/linux-headers-4.9.29-linuxkit'
[STDOUT  ] 2017-05-26T22:42:38.154560589Z:  ---> 9c78fe2b22a1
[STDOUT  ] 2017-05-26T22:42:38.190509838Z: Removing intermediate container afa915a87630
[STDOUT  ] 2017-05-26T22:42:38.190652227Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-05-26T22:42:39.386119195Z: 3.5: Pulling from library/alpine
[STDOUT  ] 2017-05-26T22:42:39.440717273Z: 6f821164d5b7: Already exists
[STDOUT  ] 2017-05-26T22:42:39.922977052Z: Digest: sha256:f02537b30c729bb1ee0c67c8bff3a28972bed0abbee8f5520421994c5247b896
[STDOUT  ] 2017-05-26T22:42:39.983517516Z: Status: Downloaded newer image for alpine:3.5
[STDOUT  ] 2017-05-26T22:42:39.983851732Z:  ---> 75b63e430bd1
[STDOUT  ] 2017-05-26T22:42:39.983955841Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-05-26T22:42:40.47083235Z:  ---> cabbe052d81d
[STDOUT  ] 2017-05-26T22:42:40.504061336Z: Removing intermediate container 8b6f86fe92a8
[STDOUT  ] 2017-05-26T22:42:40.504214717Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-05-26T22:42:40.954803746Z:  ---> 088182e3e241
[STDOUT  ] 2017-05-26T22:42:41.006271886Z: Removing intermediate container c714e1c61060
[STDOUT  ] 2017-05-26T22:42:41.006441175Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-05-26T22:42:41.181399864Z:  ---> Running in d80d091cb1e0
[STDOUT  ] 2017-05-26T22:42:41.263941899Z:  ---> ab2ebe16e177
[STDOUT  ] 2017-05-26T22:42:41.27060183Z: Removing intermediate container d80d091cb1e0
[STDOUT  ] 2017-05-26T22:42:41.270691807Z: Successfully built ab2ebe16e177
[STDOUT  ] 2017-05-26T22:42:41.278941018Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-05-26T22:42:41.300858954Z: + moby build -output kernel+initrd kmod
[STDERR  ] 2017-05-26T22:42:41.309268869Z: Pull kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-26T22:42:44.028117452Z: Extract kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-26T22:42:44.028137749Z: Pull image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-26T22:42:46.838577282Z: Add init containers:
[STDERR  ] 2017-05-26T22:42:46.838658859Z: Process init image: linuxkit/init:4fc8aa82ab34d62d510575c8fbe0c58b7ba9c480
[STDERR  ] 2017-05-26T22:42:46.838684629Z: Pull image: linuxkit/init:4fc8aa82ab34d62d510575c8fbe0c58b7ba9c480
[STDERR  ] 2017-05-26T22:42:49.632205975Z: Process init image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-05-26T22:42:49.632278078Z: Pull image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-05-26T22:42:52.424114351Z: Pull image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-05-26T22:42:54.670153637Z: time="2017-05-26T22:42:54Z" level=fatal msg="Failed to build init tarball from linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f: Failed to docker create image linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f: Error: No such image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f" 
[STDERR  ] 2017-05-26T22:42:54.685457298Z: + clean_up
[STDERR  ] 2017-05-26T22:42:54.685465032Z: + docker rmi kmod-test
[STDOUT  ] 2017-05-26T22:42:54.715728638Z: Untagged: kmod-test:latest
[STDOUT  ] 2017-05-26T22:42:54.715775456Z: Deleted: sha256:ab2ebe16e17761f9f09491a3d10f88a7a11e50d0380bf68ed0b27ae74f6a53e2
[STDOUT  ] 2017-05-26T22:42:54.715782439Z: Deleted: sha256:088182e3e241498fdb394ae4cac344a7079db3a3ddbb8bb6a0a89fc76facffc6
[STDOUT  ] 2017-05-26T22:42:54.715795304Z: Deleted: sha256:3ba4224be38fdc53f9676c00a95f584d9316dcab85b7d3ef48366fa1db88116c
[STDOUT  ] 2017-05-26T22:42:54.71581302Z: Deleted: sha256:cabbe052d81dec60e203e4c02f5ee6eb7e224ff21322563f1aeb30d608d04325
[STDOUT  ] 2017-05-26T22:42:54.715827211Z: Deleted: sha256:06cf6664b344816a892f4e09b2f4fd83047e7e1f6e486def4f992ad007fdcdf8
[STDERR  ] 2017-05-26T22:42:54.716501423Z: + find . -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[FAIL    ] linuxkit.kernel.kmod_4.9.x 42.93s
