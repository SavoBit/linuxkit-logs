[INFO    ] 2017-12-01T11:45:19.774118756Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/with_clone332dcec1/test/cases/020_kernel/011_kmod_4.9.x
[INFO    ] 2017-12-01T11:45:19.774241189Z: Running command: [/bin/sh -x /tmp/with_clone332dcec1/test/cases/020_kernel/011_kmod_4.9.x/test.sh]
[STDERR  ] 2017-12-01T11:45:19.775328077Z: + set -e
[STDERR  ] 2017-12-01T11:45:19.775474953Z: + . /tmp/with_clone332dcec1/test/cases/_lib/lib.sh
[STDERR  ] 2017-12-01T11:45:19.775622303Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-12-01T11:45:19.775718271Z: + LINUXKIT_TMPDIR=/tmp/with_clone332dcec1/test/cases/_tmp
[STDERR  ] 2017-12-01T11:45:19.775854011Z: + [ -f /tmp/with_clone332dcec1/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-12-01T11:45:19.775956651Z: + . /tmp/with_clone332dcec1/test/cases/_tmp/env.sh
[STDERR  ] 2017-12-01T11:45:19.776050286Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_clone332dcec1/test/cases/../../examples
[STDERR  ] 2017-12-01T11:45:19.776154682Z: + export LINUXKIT_BLUEPRINTS_DIR=/tmp/with_clone332dcec1/test/cases/../../blueprints
[STDERR  ] 2017-12-01T11:45:19.776223004Z: + RT_CANCEL=253
[STDERR  ] 2017-12-01T11:45:19.776307117Z: + NAME=kmod
[STDERR  ] 2017-12-01T11:45:19.776368144Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-12-01T11:45:19.77648003Z: + trap clean_up EXIT
[STDERR  ] 2017-12-01T11:45:19.776572792Z: + docker pull linuxkit/kernel:4.9.65
[STDOUT  ] 2017-12-01T11:45:21.230603268Z: 4.9.65: Pulling from linuxkit/kernel
[STDOUT  ] 2017-12-01T11:45:21.60900376Z: Digest: sha256:2b5bca43fe04880a3237ac0494e639352293df7af204412c2724cf6236666ce4
[STDOUT  ] 2017-12-01T11:45:21.609055983Z: Status: Image is up to date for linuxkit/kernel:4.9.65
[STDERR  ] 2017-12-01T11:45:21.62816712Z: + docker build -t kmod-test .
[STDOUT  ] 2017-12-01T11:45:21.644294921Z: Sending build context to Docker daemon 8.704 kB
[STDOUT  ] 2017-12-01T11:45:21.84615408Z: Step 1/12 : FROM linuxkit/kernel:4.9.65 AS ksrc
[STDOUT  ] 2017-12-01T11:45:21.903875338Z:  ---> 2b11d8204332
[STDOUT  ] 2017-12-01T11:45:21.903940009Z: Step 2/12 : FROM linuxkit/alpine:07f7d136e427dc68154cd5edbb2b9576f9ac5213 AS build
[STDOUT  ] 2017-12-01T11:45:21.903959588Z:  ---> 039fd8c1530e
[STDOUT  ] 2017-12-01T11:45:21.903967686Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2017-12-01T11:45:21.903982085Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:21.903989322Z:  ---> 9f8a8cced9b5
[STDOUT  ] 2017-12-01T11:45:21.903996397Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-12-01T11:45:22.398997796Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.399054069Z:  ---> 6fadb2b4f648
[STDOUT  ] 2017-12-01T11:45:22.399062564Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-12-01T11:45:22.415152317Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.415229776Z:  ---> 56c17aeca0ed
[STDOUT  ] 2017-12-01T11:45:22.415245917Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2017-12-01T11:45:22.415255999Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.415267391Z:  ---> f28da5f74bd1
[STDOUT  ] 2017-12-01T11:45:22.415279978Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2017-12-01T11:45:22.415294904Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.415307533Z:  ---> bc2d3bd06c56
[STDOUT  ] 2017-12-01T11:45:22.415314904Z: Step 8/12 : RUN make all
[STDOUT  ] 2017-12-01T11:45:22.415322404Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.415329596Z:  ---> 8ef4a85be902
[STDOUT  ] 2017-12-01T11:45:22.415336973Z: Step 9/12 : FROM alpine:3.5
[STDOUT  ] 2017-12-01T11:45:22.415343987Z:  ---> 3823b001394d
[STDOUT  ] 2017-12-01T11:45:22.415351112Z: Step 10/12 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-12-01T11:45:22.431203522Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.431242268Z:  ---> cefbc6a0d8a1
[STDOUT  ] 2017-12-01T11:45:22.431258005Z: Step 11/12 : COPY check.sh /check.sh
[STDOUT  ] 2017-12-01T11:45:22.431270843Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.43128328Z:  ---> a9cc5b83f351
[STDOUT  ] 2017-12-01T11:45:22.431291583Z: Step 12/12 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-12-01T11:45:22.431298826Z:  ---> Using cache
[STDOUT  ] 2017-12-01T11:45:22.431329067Z:  ---> e9c75c6001de
[STDOUT  ] 2017-12-01T11:45:22.431336424Z: Successfully built e9c75c6001de
[STDOUT  ] 2017-12-01T11:45:22.431343689Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-12-01T11:45:22.549681807Z: + linuxkit build -format kernel+initrd -name kmod test.yml
[STDERR  ] 2017-12-01T11:45:22.590678246Z: Extract kernel image: linuxkit/kernel:4.9.65
[STDERR  ] 2017-12-01T11:45:23.777705042Z: time="2017-12-01T11:45:23Z" level=warning msg="certificate with CN Justin Cormack is near expiry" 
[STDERR  ] 2017-12-01T11:45:23.777919068Z: time="2017-12-01T11:45:23Z" level=warning msg="certificate with CN  is near expiry" 
[STDERR  ] 2017-12-01T11:45:23.850850471Z: time="2017-12-01T11:45:23Z" level=warning msg="certificate with CN Justin Cormack is near expiry" 
[STDERR  ] 2017-12-01T11:45:28.639180419Z: Add init containers:
[STDERR  ] 2017-12-01T11:45:28.6392658Z: Process init image: linuxkit/init:42a92119e1ca10380e0d33e26c0cbcf85b9b3558
[STDERR  ] 2017-12-01T11:45:29.663364444Z: time="2017-12-01T11:45:29Z" level=warning msg="certificate with CN  is near expiry" 
[STDERR  ] 2017-12-01T11:45:29.663767722Z: time="2017-12-01T11:45:29Z" level=warning msg="certificate with CN Justin Cormack is near expiry" 
[STDERR  ] 2017-12-01T11:45:29.666911858Z: time="2017-12-01T11:45:29Z" level=warning msg="certificate with CN Justin Cormack is near expiry" 
[STDERR  ] 2017-12-01T11:45:29.668514147Z: time="2017-12-01T11:45:29Z" level=warning msg="certificate with CN  is near expiry" 
[STDERR  ] 2017-12-01T11:45:31.01021794Z: Process init image: linuxkit/runc:1b0741d07949c0acc444cd6a04ee7f833443579d
[STDERR  ] 2017-12-01T11:45:31.988605713Z: time="2017-12-01T11:45:31Z" level=warning msg="certificate with CN  is near expiry" 
[STDERR  ] 2017-12-01T11:45:31.989004405Z: time="2017-12-01T11:45:31Z" level=warning msg="certificate with CN Justin Cormack is near expiry" 
[STDERR  ] 2017-12-01T11:45:31.991026815Z: time="2017-12-01T11:45:31Z" level=warning msg="certificate with CN Justin Cormack is near expiry" 
[STDERR  ] 2017-12-01T11:45:31.992566901Z: time="2017-12-01T11:45:31Z" level=warning msg="certificate with CN  is near expiry" 
[STDERR  ] 2017-12-01T11:45:33.054166207Z: Add onboot containers:
[STDERR  ] 2017-12-01T11:45:33.054260092Z:   Create OCI config for kmod-test
[STDERR  ] 2017-12-01T11:45:33.088912209Z: Pull image: kmod-test
[STDERR  ] 2017-12-01T11:45:34.173889523Z: time="2017-12-01T11:45:34Z" level=fatal msg="Failed to create OCI spec for kmod-test: Error response from daemon: repository kmod-test not found: does not exist or no pull access" 
[STDERR  ] 2017-12-01T11:45:34.346754321Z: + clean_up
[STDERR  ] 2017-12-01T11:45:34.346814539Z: + docker rmi kmod-test
[STDOUT  ] 2017-12-01T11:45:34.423105981Z: Untagged: kmod-test:latest
[STDOUT  ] 2017-12-01T11:45:34.423164348Z: Deleted: sha256:e1f479e583efba383e5558c50f3ff5af78a9524d5185bc7528916aca4fb04430
[STDOUT  ] 2017-12-01T11:45:34.423178185Z: Deleted: sha256:dcae72b72a35be8d65ab3b87d3ab22a834863bcb69bd192fa1d1fa7ace2a97c8
[STDOUT  ] 2017-12-01T11:45:34.423194663Z: Deleted: sha256:142a054955891b941e6d7a4891a75d07e910d3c90ec4e5af024e972649868797
[STDOUT  ] 2017-12-01T11:45:34.423207479Z: Deleted: sha256:64433584838da9fd8b506c4ea63fefda5c81dd27326023a4cda534ad3f4a2956
[STDOUT  ] 2017-12-01T11:45:34.423220514Z: Deleted: sha256:52db370f534ea42343a7d2a061a50c4e207d35d20958a457d0997b492ca7ca7c
[STDERR  ] 2017-12-01T11:45:34.425921212Z: + rm -rf kmod-*
[FAIL    ] linuxkit.kernel.kmod_4.9.x 14.65s
