[STDERR  ] 2017-05-16T14:38:20.965933125Z:     - [37mCONFIG_NF_CONNTRACK_TFTP[m: [32menabled[m
[INFO    ] 2017-05-16T14:38:20.965949883Z: Running Test linuxkit.config.kmod in /tmp/with_cloneaca7e54/test/cases/000_config/010_kmod
[STDERR  ] 2017-05-16T14:38:20.965958976Z: - Storage Drivers:
[STDERR  ] 2017-05-16T14:38:20.96597517Z:   - "[34maufs[m":
[STDERR  ] 2017-05-16T14:38:20.965991611Z:     - [1mCONFIG_AUFS_FS[m: [1;31mmissing[m
[STDERR  ] 2017-05-16T14:38:20.966002193Z:   - "[34mbtrfs[m":
[STDERR  ] 2017-05-16T14:38:20.966017619Z:     - [37mCONFIG_BTRFS_FS[m: [32menabled (as module)[m
[STDERR  ] 2017-05-16T14:38:20.966048627Z:     - [37mCONFIG_BTRFS_FS_POSIX_ACL[m: [32menabled[m
[INFO    ] 2017-05-16T14:38:20.966048542Z: Running command: [/bin/sh -x /tmp/with_cloneaca7e54/test/cases/000_config/010_kmod/test.sh]
[STDERR  ] 2017-05-16T14:38:20.966060035Z:   - "[34mdevicemapper[m":
[STDERR  ] 2017-05-16T14:38:20.966082448Z:     - [37mCONFIG_BLK_DEV_DM[m: [32menabled[m
[STDERR  ] 2017-05-16T14:38:20.966103982Z:     - [37mCONFIG_DM_THIN_PROVISIONING[m: [32menabled[m
[STDERR  ] 2017-05-16T14:38:20.966110182Z:   - "[34moverlay[m":
[STDERR  ] 2017-05-16T14:38:20.966137397Z:     - [37mCONFIG_OVERLAY_FS[m: [32menabled[m
[STDERR  ] 2017-05-16T14:38:20.966151884Z:   - "[34mzfs[m":
[STDERR  ] 2017-05-16T14:38:20.966166285Z:     - [1m/dev/zfs[m: [1;31mmissing[m
[STDERR  ] 2017-05-16T14:38:20.96618653Z:     - [1mzfs command[m: [1;31mmissing[m
[STDERR  ] 2017-05-16T14:38:20.966196927Z:     - [1mzpool command[m: [1;31mmissing[m
[STDERR  ] 2017-05-16T14:38:20.96621668Z: 
[STDERR  ] 2017-05-16T14:38:20.966222161Z: Limits:
[STDERR  ] 2017-05-16T14:38:20.96624672Z: [37m- /proc/sys/kernel/keys/root_maxkeys[m: [32m1000000[m
[STDERR  ] 2017-05-16T14:38:20.966569333Z: 
[STDERR  ] 2017-05-16T14:38:20.966626304Z: Kernel config test suite PASSED
[STDERR  ] 2017-05-16T14:38:20.966697239Z: 
[STDERR  ] 2017-05-16T14:38:20.966793011Z:                         ##         .
[STDERR  ] 2017-05-16T14:38:20.966845252Z:                   ## ## ##        ==
[STDERR  ] 2017-05-16T14:38:20.966896724Z:                ## ## ## ## ##    ===
[STDERR  ] 2017-05-16T14:38:20.966973967Z:            /"""""""""""""""""\___/ ===
[STDERR  ] 2017-05-16T14:38:20.967026588Z:       ~~~ {~~ ~~~~ ~~~ ~~~~ ~~~ ~ /  ===- ~~~
[STDERR  ] 2017-05-16T14:38:20.96708538Z:            \______ o           __/
[STDERR  ] 2017-05-16T14:38:20.96712842Z:              \    \         __/
[STDERR  ] 2017-05-16T14:38:20.967145319Z:               \____\_______/
[STDERR  ] 2017-05-16T14:38:20.967232357Z:  - 001-check-kernel-config
[STDERR  ] 2017-05-16T14:38:20.967293774Z: [   54.4207
[STDERR  ] 2017-05-16T14:38:20.982619444Z: + set -e
[STDERR  ] 2017-05-16T14:38:20.98267638Z: + . /tmp/with_cloneaca7e54/test/cases/_lib/lib.sh
[STDERR  ] 2017-05-16T14:38:20.982696046Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-05-16T14:38:20.982738867Z: + LINUXKIT_TMPDIR=/tmp/with_cloneaca7e54/test/cases/_tmp
[STDERR  ] 2017-05-16T14:38:20.982760457Z: + LINUXKIT_ARTIFACTS_DIR=/tmp/with_cloneaca7e54/test/cases/../../artifacts
[STDERR  ] 2017-05-16T14:38:20.982778059Z: + [ -f /tmp/with_cloneaca7e54/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-05-16T14:38:20.982790019Z: + . /tmp/with_cloneaca7e54/test/cases/_tmp/env.sh
[STDERR  ] 2017-05-16T14:38:20.982818842Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_cloneaca7e54/test/cases/../../examples
[STDERR  ] 2017-05-16T14:38:20.982840913Z: + RT_CANCEL=253
[STDERR  ] 2017-05-16T14:38:20.982858707Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-05-16T14:38:20.982876481Z: + trap clean_up EXIT
[STDERR  ] 2017-05-16T14:38:20.982894495Z: + docker pull linuxkit/kernel:4.9.x
[STDOUT  ] 2017-05-16T14:38:24.066888856Z: 4.9.x: Pulling from linuxkit/kernel
[STDOUT  ] 2017-05-16T14:38:24.066915999Z: Digest: sha256:dd706d391fddc3d2efc254a6c03223d6cb82b86a3dc059a9264063be2fd8911f
[STDOUT  ] 2017-05-16T14:38:24.066936437Z: Status: Image is up to date for linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-16T14:38:24.128485031Z: + docker build -t kmod-test .
[STDOUT  ] 2017-05-16T14:38:24.146167342Z: Sending build context to Docker daemon 9.216 kB
[STDOUT  ] 2017-05-16T14:38:24.307982528Z: Step 1/11 : FROM linuxkit/kernel:4.9.x AS ksrc
[STDOUT  ] 2017-05-16T14:38:24.375102774Z:  ---> cc9f6cd19506
[STDOUT  ] 2017-05-16T14:38:24.375177699Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-05-16T14:38:24.375197685Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-05-16T14:38:24.375229154Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-05-16T14:38:24.828635487Z:  ---> Using cache
[STDOUT  ] 2017-05-16T14:38:24.828686685Z:  ---> e8b0f171a47f
[STDOUT  ] 2017-05-16T14:38:24.828693578Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-05-16T14:38:24.846036421Z:  ---> Using cache
[STDOUT  ] 2017-05-16T14:38:24.846057078Z:  ---> 22f66ae165a4
[STDOUT  ] 2017-05-16T14:38:24.846075597Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-05-16T14:38:24.846086998Z:  ---> Using cache
[STDOUT  ] 2017-05-16T14:38:24.846117895Z:  ---> 08f7bb43d217
[STDOUT  ] 2017-05-16T14:38:24.846124219Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-05-16T14:38:24.846167683Z:  ---> Using cache
[STDOUT  ] 2017-05-16T14:38:24.846185537Z:  ---> c186beab57c7
[STDOUT  ] 2017-05-16T14:38:24.846199198Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-05-16T14:38:24.846211954Z:  ---> Using cache
[STDOUT  ] 2017-05-16T14:38:24.846252526Z:  ---> b9f31871c727
[STDOUT  ] 2017-05-16T14:38:24.846263408Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-05-16T14:38:24.846287035Z:  ---> 02674b9cb179
[STDOUT  ] 2017-05-16T14:38:24.846293069Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-05-16T14:38:25.380969068Z:  ---> 6ef30da66be9
[STDOUT  ] 2017-05-16T14:38:25.398262404Z: Removing intermediate container ade1699800d0
[STDOUT  ] 2017-05-16T14:38:25.398287022Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-05-16T14:38:25.900617303Z:  ---> 2fe0e6b6ce3d
[STDOUT  ] 2017-05-16T14:38:25.917919853Z: Removing intermediate container d771d9738fc1
[STDOUT  ] 2017-05-16T14:38:25.917979593Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-05-16T14:38:26.034036622Z:  ---> Running in 4652cd70bffb
[STDOUT  ] 2017-05-16T14:38:26.221212469Z:  ---> d0513219eac5
[STDOUT  ] 2017-05-16T14:38:26.238522207Z: Removing intermediate container 4652cd70bffb
[STDOUT  ] 2017-05-16T14:38:26.238534851Z: Successfully built d0513219eac5
[STDOUT  ] 2017-05-16T14:38:26.238545833Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-05-16T14:38:26.329227746Z: + moby build kmod
[STDERR  ] 2017-05-16T14:38:26.356746994Z: Extract kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-05-16T14:38:31.886737344Z: Add init containers:
[STDERR  ] 2017-05-16T14:38:31.886888981Z: Process init image: linuxkit/init:b3740303f3d1e5689a84c87b7dfb48fd2a40a192
[STDERR  ] 2017-05-16T14:38:32.359929957Z: Process init image: linuxkit/runc:47b1c38d63468c0f3078f8b1b055d07965a1895d
[STDERR  ] 2017-05-16T14:38:33.05801879Z: Process init image: linuxkit/containerd:cf2614f5a96c569a0bd4bd54e054a65ba17d167f
[STDERR  ] 2017-05-16T14:38:36.121427087Z: Add onboot containers:
[STDERR  ] 2017-05-16T14:38:36.121809162Z:   Create OCI config for kmod-test
[STDERR  ] 2017-05-16T14:38:36.616280445Z:   Create OCI config for linuxkit/poweroff:961412b8ef5c5285de0d40ec076701d955eaa084
[STDERR  ] 2017-05-16T14:38:37.103151041Z: Create outputs:
[STDERR  ] 2017-05-16T14:38:43.343979396Z:   kmod-kernel kmod-initrd.img kmod-cmdline
[STDERR  ] 2017-05-16T14:38:43.576277412Z: + linuxkit run qemu kmod
[STDERR  ] 2017-05-16T14:38:43.576519274Z: + grep -q Hello LinuxKit
[STDERR  ] 2017-05-16T14:39:15.680258457Z: + clean_up
[STDERR  ] 2017-05-16T14:39:15.680293535Z: + docker rmi kmod-test
[STDOUT  ] 2017-05-16T14:39:15.73922649Z: Untagged: kmod-test:latest
[STDOUT  ] 2017-05-16T14:39:15.739265619Z: Deleted: sha256:d0513219eac5893b52165ac703a95e132e7a3754c27a9e94cc8d2c7211676ce3
[STDOUT  ] 2017-05-16T14:39:15.739294695Z: Deleted: sha256:2fe0e6b6ce3daf177c2c9bd1871e8fc1f9abcdc9392172766be34f41d1ca3fdb
[STDOUT  ] 2017-05-16T14:39:15.739321886Z: Deleted: sha256:5cacaa0e61a7838c6ad8784ffede55267a1abc14645adc79a3c9cfbf710fd067
[STDOUT  ] 2017-05-16T14:39:15.739338903Z: Deleted: sha256:6ef30da66be9591163a24d836872d05f5d1570cf7bb128c2828be1fb9eb9f05d
[STDOUT  ] 2017-05-16T14:39:15.739356081Z: Deleted: sha256:5f46e8805aa3fbd2d6a067f60f0159241c8c5fb6deeae364467354ba9d15b065
[STDERR  ] 2017-05-16T14:39:15.741249592Z: + find . -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[PASS    ] linuxkit.config.kmod 54.91s
