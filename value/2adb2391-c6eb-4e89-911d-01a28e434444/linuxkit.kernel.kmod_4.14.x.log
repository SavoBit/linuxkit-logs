[INFO    ] 2017-12-08T17:02:36.212183858Z: Running Test linuxkit.kernel.kmod_4.14.x in /tmp/build/test/cases/020_kernel/016_kmod_4.14.x
[INFO    ] 2017-12-08T17:02:36.212334797Z: Running command: [/bin/sh -x /tmp/build/test/cases/020_kernel/016_kmod_4.14.x/test.sh]
[STDERR  ] 2017-12-08T17:02:36.222497778Z: + set -e
[STDERR  ] 2017-12-08T17:02:36.222575592Z: + . /tmp/build/test/cases/_lib/lib.sh
[STDERR  ] 2017-12-08T17:02:36.222586212Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-12-08T17:02:36.22259553Z: + LINUXKIT_TMPDIR=/tmp/build/test/cases/_tmp
[STDERR  ] 2017-12-08T17:02:36.222612744Z: + [ -f /tmp/build/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-12-08T17:02:36.222622261Z: + . /tmp/build/test/cases/_tmp/env.sh
[STDERR  ] 2017-12-08T17:02:36.222700834Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/build/test/cases/../../examples
[STDERR  ] 2017-12-08T17:02:36.222726455Z: + export LINUXKIT_BLUEPRINTS_DIR=/tmp/build/test/cases/../../blueprints
[STDERR  ] 2017-12-08T17:02:36.222737532Z: + RT_CANCEL=253
[STDERR  ] 2017-12-08T17:02:36.222747089Z: + NAME=kmod
[STDERR  ] 2017-12-08T17:02:36.222755824Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-12-08T17:02:36.222764924Z: + trap clean_up EXIT
[STDERR  ] 2017-12-08T17:02:36.22277292Z: + docker pull linuxkit/kernel:4.9.67
[STDOUT  ] 2017-12-08T17:02:37.340568961Z: 4.9.67: Pulling from linuxkit/kernel
[STDOUT  ] 2017-12-08T17:02:37.75483881Z: Digest: sha256:caa4be72ad42f9c974a84cd05757daa7cad9639e753cbf517c7b3bc5c2c18edb
[STDOUT  ] 2017-12-08T17:02:37.754906122Z: Status: Image is up to date for linuxkit/kernel:4.9.67
[STDERR  ] 2017-12-08T17:02:37.756045658Z: + docker build -t kmod-test .
[STDOUT  ] 2017-12-08T17:02:37.775056804Z: Sending build context to Docker daemon  8.704kB
[STDOUT  ] 2017-12-08T17:02:37.88604534Z: Step 1/12 : FROM linuxkit/kernel:4.14.4 AS ksrc
[STDOUT  ] 2017-12-08T17:02:40.0610925Z: 4.14.4: Pulling from linuxkit/kernel
[STDOUT  ] 2017-12-08T17:02:40.435126516Z: Digest: sha256:486b1bf876225943e97c4a6fc88fe9b4326a65bb9ec854e30ed5b1e7431b1955
[STDOUT  ] 2017-12-08T17:02:40.442021937Z: Status: Downloaded newer image for linuxkit/kernel:4.14.4
[STDOUT  ] 2017-12-08T17:02:40.442584465Z:  ---> 470d2d057f26
[STDOUT  ] 2017-12-08T17:02:40.442608982Z: Step 2/12 : FROM linuxkit/alpine:d307c8a386fa3f32cddda9409b9687e191cdd6f1 AS build
[STDOUT  ] 2017-12-08T17:02:40.442980897Z:  ---> 4d01d9a77113
[STDOUT  ] 2017-12-08T17:02:40.443000254Z: Step 3/12 : RUN apk add build-base libelf-dev
[STDOUT  ] 2017-12-08T17:02:40.443348895Z:  ---> Using cache
[STDOUT  ] 2017-12-08T17:02:40.443366993Z:  ---> eab416d17422
[STDOUT  ] 2017-12-08T17:02:40.443416902Z: Step 4/12 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-12-08T17:02:42.258463776Z:  ---> a252dbfd9201
[STDOUT  ] 2017-12-08T17:02:42.279128041Z: Removing intermediate container 996733045f09
[STDOUT  ] 2017-12-08T17:02:42.279238861Z: Step 5/12 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-12-08T17:02:42.374276518Z:  ---> Running in 20624fcc8e43
[STDOUT  ] 2017-12-08T17:02:48.503130623Z:  ---> dd01f909a02a
[STDOUT  ] 2017-12-08T17:02:48.901099457Z: Removing intermediate container 20624fcc8e43
[STDOUT  ] 2017-12-08T17:02:48.901156006Z: Step 6/12 : WORKDIR /kmod
[STDOUT  ] 2017-12-08T17:02:49.196744935Z:  ---> 29325c2480a3
[STDOUT  ] 2017-12-08T17:02:49.203849493Z: Removing intermediate container 11ade5055b6f
[STDOUT  ] 2017-12-08T17:02:49.203895501Z: Step 7/12 : COPY ./src/* ./
[STDOUT  ] 2017-12-08T17:02:49.71108313Z:  ---> bbe377fbede7
[STDOUT  ] 2017-12-08T17:02:49.717757388Z: Removing intermediate container ab4836e14e95
[STDOUT  ] 2017-12-08T17:02:49.717801156Z: Step 8/12 : RUN make all
[STDOUT  ] 2017-12-08T17:02:49.797357351Z:  ---> Running in 8b7f59a0d931
[STDOUT  ] 2017-12-08T17:02:50.133528585Z: make -C /usr/src/linux-headers-4.14.4-linuxkit M=/kmod modules
[STDOUT  ] 2017-12-08T17:02:50.134910655Z: make[1]: Entering directory '/usr/src/linux-headers-4.14.4-linuxkit'
[STDOUT  ] 2017-12-08T17:02:50.177460428Z: [91mgetconf: LFS_CFLAGS: unknown variable
[STDOUT  ] 2017-12-08T17:02:50.177856902Z: [0m[91mgetconf: LFS_LDFLAGS: unknown variable
[STDOUT  ] 2017-12-08T17:02:50.178142199Z: [0m[91mgetconf: LFS_LIBS: unknown variable
[STDOUT  ] 2017-12-08T17:02:51.258036627Z: [0m  CC [M]  /kmod/hello_world.o
[STDOUT  ] 2017-12-08T17:02:51.267624914Z: [91mcc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2017-12-08T17:02:51.267672126Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/structleak_plugin.so
[STDOUT  ] 2017-12-08T17:02:51.267682382Z: cc1: error: incompatible gcc/plugin versions
[STDOUT  ] 2017-12-08T17:02:51.267691398Z: cc1: error: fail to initialize plugin ./scripts/gcc-plugins/randomize_layout_plugin.so
[STDOUT  ] 2017-12-08T17:02:51.269069744Z: [0m[91mmake[2]: *** [scripts/Makefile.build:321: /kmod/hello_world.o] Error 1
[STDOUT  ] 2017-12-08T17:02:51.269365284Z: [0mmake[1]: Leaving directory '/usr/src/linux-headers-4.14.4-linuxkit'
[STDOUT  ] 2017-12-08T17:02:51.269397686Z: [91mmake[1]: *** [Makefile:1503: _module_/kmod] Error 2
[STDOUT  ] 2017-12-08T17:02:51.269568415Z: [0m[91mmake: *** [Makefile:4: all] Error 2
[STDERR  ] 2017-12-08T17:02:51.587674001Z: The command '/bin/sh -c make all' returned a non-zero code: 2
[STDERR  ] 2017-12-08T17:02:51.588720388Z: + clean_up
[STDERR  ] 2017-12-08T17:02:51.588749175Z: + docker rmi kmod-test
[STDERR  ] 2017-12-08T17:02:51.602488137Z: Error response from daemon: No such image: kmod-test:latest
[STDERR  ] 2017-12-08T17:02:51.603390707Z: + true
[STDERR  ] 2017-12-08T17:02:51.603417301Z: + rm -rf kmod-*
[STDOUT  ] 2017-12-08T17:02:51.604094163Z: [0m
[FAIL    ] linuxkit.kernel.kmod_4.14.x 15.39s
