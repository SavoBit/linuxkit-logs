[INFO    ] 2017-06-07T18:56:08.305497401Z: Running Test linuxkit.kernel.kmod_4.9.x in /tmp/with_clone86992fa/test/cases/020_kernel/010_kmod_4.9.x
[STDERR  ] 2017-06-07T18:56:08.305501912Z: [    2.072730] wmi: Mapper loaded
[STDERR  ] 2017-06-07T18:56:08.305563131Z: [    2.073875] PCI: Using ACPI for IRQ routing
[STDERR  ] 2017-06-07T18:56:08.305576535Z: [    2.093569] NetLabel: Initializing
[STDERR  ] 2017-06-07T18:56:08.30558824Z: [    2.093915] NetLabel:  domain hash size = 128
[INFO    ] 2017-06-07T18:56:08.305600949Z: Running command: [/bin/sh -x /tmp/with_clone86992fa/test/cases/020_kernel/010_kmod_4.9.x/test.sh]
[STDERR  ] 2017-06-07T18:56:08.305605414Z: [    2.094205] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[STDERR  ] 2017-06-07T18:56:08.305617485Z: [    2.096131] NetLabel:  unlabeled traffic allowed by default
[STDERR  ] 2017-06-07T18:56:08.305629805Z: [    2.097219] HPET: 3 timers in total, 0 timers will be used for per-cpu timer
[STDERR  ] 2017-06-07T18:56:08.305641268Z: [    2.097948] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[STDERR  ] 2017-06-07T18:56:08.305653217Z: [    2.098374] hpet0: 3 comparators, 64-bit 100.000000 MHz counter
[STDERR  ] 2017-06-07T18:56:08.305668207Z: [    2.103461] clocksource: Switched to clocksource hpet
[STDERR  ] 2017-06-07T18:56:08.3056802Z: [    2.622980] VFS: Disk quotas dquot_6.6.0
[STDERR  ] 2017-06-07T18:56:08.305691097Z: [    2.624417] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[STDERR  ] 2017-06-07T18:56:08.305701766Z: [    2.628377] FS-Cache: Loaded
[STDERR  ] 2017-06-07T18:56:08.305712832Z: [    2.637041] CacheFiles: Loaded
[STDERR  ] 2017-06-07T18:56:08.306350257Z: [    2.639347] pnp: PnP ACPI init
[STDERR  ] 2017-06-07T18:56:08.306386413Z: [    2.655249] pnp: PnP ACPI: found 5 devices
[STDERR  ] 2017-06-07T18:56:08.306406589Z: [    2.716856] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[STDERR  ] 2017-06-07T18:56:08.306435357Z: [    2.721619] NET: Registered protocol family 2
[STDERR  ] 2017-06-07T18:56:08.306443635Z: [    2.733151] TCP established hash table entries: 8192 (order: 4, 65536 bytes)
[STDERR  ] 2017-06-07T18:56:08.306465009Z: [    2.734640] TCP bind hash table entries: 8192 (order: 5, 131072 bytes)
[STDERR  ] 2017-06-07T18:56:08.306477032Z: [    2.735679] TCP: Hash tables configured (established 8192 bind 8192)
[STDERR  ] 2017-06-07T18:56:08.306489563Z: [    2.738780] UDP hash table entries: 512 (order: 2, 16384 bytes)
[STDERR  ] 2017-06-07T18:56:08.306502016Z: [    2.739738] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[STDERR  ] 2017-06-07T18:56:08.306514369Z: [    2.744332] NET: Registered protocol family 1
[STDERR  ] 2017-06-07T18:56:08.306530408Z: [    2.750064] RPC: Registered named UNIX socket transport module.
[STDERR  ] 2017-06-07T18:56:08.306545704Z: [    2.750787] RPC: Registered udp transport module.
[STDERR  ] 2017-06-07T18:56:08.306551631Z: [    2.751283] RPC: Registered tcp transport module.
[STDERR  ] 2017-06-07T18:56:08.306570159Z: [    2.751761] RPC: Registered tcp NFSv4.1 backchannel transport module.
[STDERR  ] 2017-06-07T18:56:08.306582911Z: [    2.753031] pci 0000:00:01.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[STDERR  ] 2017-06-07T18:56:08.306595453Z: [    2.767335] Unpacking initramfs...
[STDERR  ] 2017-06-07T18:56:08.306607871Z: [    8.700028] Freeing initrd memory: 33380K
[STDERR  ] 2017-06-07T18:56:08.306614788Z: [    8.725306] PCLMULQDQ-NI instructions are not detected.
[STDERR  ] 2017-06-07T18:56:08.306627075Z: [    8.726425] AVX or AES-NI instructions are not detected.
[STDERR  ] 2017-06-07T18:56:08.306645872Z: [    8.726834] CPU feature 'AVX registers' is not supported.
[STDERR  ] 2017-06-07T18:56:08.306658816Z: [    8.727192] CPU feature 'AVX registers' is not supported.
[STDERR  ] 2017-06-07T18:56:08.306671322Z: [    8.727549] CPU feature 'AVX registers' is not supported.
[STDERR  ] 2017-06-07T18:56:08.306683332Z: [    8.727946] CPU feature 'AVX registers' is not supported.
[STDERR  ] 2017-06-07T18:56:08.306695302Z: [    8.728327] AVX2 or AES-NI instructions are not detected.
[STDERR  ] 2017-06-07T18:56:08.306717296Z: [    8.728675] AVX2 instructions are not detected.
[STDERR  ] 2017-06-07T18:56:08.306729578Z: [    8.733079] audit: initializing netlink subsys (disabled)
[STDERR  ] 2017-06-07T18:56:08.306750954Z: [    8.740201] audit: type=2000 audit(1496861728.730:1): state=initialized audit_enabled=0 res=1
[STDERR  ] 2017-06-07T18:56:08.306763324Z: [    8.741645] workingset: timestamp_bits=46 max_order=18 bucket_order=0
[STDERR  ] 2017-06-07T18:56:08.306776218Z: [    8.747653] FS-Cache: Netfs 'nfs' registered for caching
[STDERR  ] 2017-06-07T18:56:08.306788784Z: [    8.749320] NFS: Registering the id_resolver key type
[STDERR  ] 2017-06-07T18:56:08.30680094Z: [    8.750508] Key type id_resolver registered
[STDERR  ] 2017-06-07T18:56:08.306813019Z: [    8.750799] Key type id_legacy registered
[STDERR  ] 2017-06-07T18:56:08.306828696Z: [    8.751156] nfs4filelayout_init: 
[STDERR  ] 2017-06-07T18:56:08.310485069Z: + set -e
[STDERR  ] 2017-06-07T18:56:08.310502527Z: + . /tmp/with_clone86992fa/test/cases/_lib/lib.sh
[STDERR  ] 2017-06-07T18:56:08.310509742Z: + [ -f src/github.com/linuxkit/rtf/lib/lib.sh ]
[STDERR  ] 2017-06-07T18:56:08.310530795Z: + LINUXKIT_TMPDIR=/tmp/with_clone86992fa/test/cases/_tmp
[STDERR  ] 2017-06-07T18:56:08.310537397Z: + [ -f /tmp/with_clone86992fa/test/cases/_tmp/env.sh ]
[STDERR  ] 2017-06-07T18:56:08.310573243Z: + . /tmp/with_clone86992fa/test/cases/_tmp/env.sh
[STDERR  ] 2017-06-07T18:56:08.310589794Z: + export LINUXKIT_EXAMPLES_DIR=/tmp/with_clone86992fa/test/cases/../../examples
[STDERR  ] 2017-06-07T18:56:08.310613468Z: + RT_CANCEL=253
[STDERR  ] 2017-06-07T18:56:08.310621589Z: + IMAGE_NAME=kmod-test
[STDERR  ] 2017-06-07T18:56:08.310641297Z: + trap clean_up EXIT
[STDERR  ] 2017-06-07T18:56:08.310655499Z: + docker pull linuxkit/kernel:4.9.x
[STDOUT  ] 2017-06-07T18:56:09.830402824Z: 4.9.x: Pulling from linuxkit/kernel
[STDOUT  ] 2017-06-07T18:56:09.894856329Z: Digest: sha256:196efb2483596900e48cfe45f9fc94f5d8a08419c3581c866a22a090dc3cc53d
[STDOUT  ] 2017-06-07T18:56:09.894872545Z: Status: Image is up to date for linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-07T18:56:09.898486113Z: + docker build -t kmod-test .
[STDOUT  ] 2017-06-07T18:56:09.915888391Z: Sending build context to Docker daemon 9.216 kB
[STDOUT  ] 2017-06-07T18:56:10.054165114Z: Step 1/11 : FROM linuxkit/kernel:4.9.x AS ksrc
[STDOUT  ] 2017-06-07T18:56:10.114835858Z:  ---> 8bb08ba0cf2f
[STDOUT  ] 2017-06-07T18:56:10.11497531Z: Step 2/11 : FROM linuxkit/kernel-compile:1b396c221af673757703258159ddc8539843b02b@sha256:6b32d205bfc6407568324337b707d195d027328dbfec554428ea93e7b0a8299b AS build
[STDOUT  ] 2017-06-07T18:56:10.115014309Z:  ---> 261c60c4eb02
[STDOUT  ] 2017-06-07T18:56:10.115048934Z: Step 3/11 : COPY --from=ksrc /kernel-dev.tar /
[STDOUT  ] 2017-06-07T18:56:10.566995863Z:  ---> Using cache
[STDOUT  ] 2017-06-07T18:56:10.567075001Z:  ---> 1e22cd24b4da
[STDOUT  ] 2017-06-07T18:56:10.567108009Z: Step 4/11 : RUN tar xf kernel-dev.tar
[STDOUT  ] 2017-06-07T18:56:10.584037332Z:  ---> Using cache
[STDOUT  ] 2017-06-07T18:56:10.584120668Z:  ---> e061d71363db
[STDOUT  ] 2017-06-07T18:56:10.584154418Z: Step 5/11 : WORKDIR /kmod
[STDOUT  ] 2017-06-07T18:56:10.58418511Z:  ---> Using cache
[STDOUT  ] 2017-06-07T18:56:10.584229055Z:  ---> e3095c213f5e
[STDOUT  ] 2017-06-07T18:56:10.584287429Z: Step 6/11 : COPY ./src/* ./
[STDOUT  ] 2017-06-07T18:56:10.584336283Z:  ---> Using cache
[STDOUT  ] 2017-06-07T18:56:10.584366809Z:  ---> f70f1c3008f7
[STDOUT  ] 2017-06-07T18:56:10.584398686Z: Step 7/11 : RUN make all
[STDOUT  ] 2017-06-07T18:56:10.584429563Z:  ---> Using cache
[STDOUT  ] 2017-06-07T18:56:10.58449515Z:  ---> 1ace819a710e
[STDOUT  ] 2017-06-07T18:56:10.584527311Z: Step 8/11 : FROM alpine:3.5
[STDOUT  ] 2017-06-07T18:56:10.584559776Z:  ---> 75b63e430bd1
[STDOUT  ] 2017-06-07T18:56:10.58459295Z: Step 9/11 : COPY --from=build /kmod/hello_world.ko /
[STDOUT  ] 2017-06-07T18:56:11.047110146Z:  ---> fa384ed3ad38
[STDOUT  ] 2017-06-07T18:56:11.064096745Z: Removing intermediate container 5095892561c5
[STDOUT  ] 2017-06-07T18:56:11.064163899Z: Step 10/11 : COPY check.sh /check.sh
[STDOUT  ] 2017-06-07T18:56:11.551135187Z:  ---> c56e253b06e5
[STDOUT  ] 2017-06-07T18:56:11.568152306Z: Removing intermediate container 76675796a88d
[STDOUT  ] 2017-06-07T18:56:11.568200596Z: Step 11/11 : ENTRYPOINT /bin/sh /check.sh
[STDOUT  ] 2017-06-07T18:56:11.680277462Z:  ---> Running in e2050b311237
[STDOUT  ] 2017-06-07T18:56:11.847751225Z:  ---> 9ab90672298a
[STDOUT  ] 2017-06-07T18:56:11.864750404Z: Removing intermediate container e2050b311237
[STDOUT  ] 2017-06-07T18:56:11.864806741Z: Successfully built 9ab90672298a
[STDOUT  ] 2017-06-07T18:56:11.864903317Z: Successfully tagged kmod-test:latest
[STDERR  ] 2017-06-07T18:56:11.939797811Z: + moby build -output kernel+initrd kmod
[STDERR  ] 2017-06-07T18:56:11.95175256Z: Extract kernel image: linuxkit/kernel:4.9.x
[STDERR  ] 2017-06-07T18:56:18.467686557Z: Add init containers:
[STDERR  ] 2017-06-07T18:56:18.467704692Z: Process init image: linuxkit/init:1b8a7e394d2ec2f1fdb4d67645829d1b5bdca037
[STDERR  ] 2017-06-07T18:56:20.124754535Z: Process init image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
[STDERR  ] 2017-06-07T18:56:22.152814333Z: Process init image: linuxkit/containerd:b50181bc6e0084e5fcd6b6ad3cf433c4f66cae5a
[STDERR  ] 2017-06-07T18:56:28.178047038Z: Add onboot containers:
[STDERR  ] 2017-06-07T18:56:28.178163963Z:   Create OCI config for kmod-test
[STDERR  ] 2017-06-07T18:56:28.689776705Z:   Create OCI config for linuxkit/poweroff:7404cf2295df89ccfa2dda41997a28307a90cf28
[STDERR  ] 2017-06-07T18:56:30.475396077Z: Create outputs:
[STDERR  ] 2017-06-07T18:56:36.383920197Z:   kmod-kernel kmod-initrd.img kmod-cmdline
[STDERR  ] 2017-06-07T18:56:36.651189567Z: + linuxkit run qemu kmod
[STDERR  ] 2017-06-07T18:56:36.651210609Z: + grep -q Hello LinuxKit
[STDERR  ] 2017-06-07T18:57:01.103358982Z: + clean_up
[STDERR  ] 2017-06-07T18:57:01.103388577Z: + docker rmi kmod-test
[STDOUT  ] 2017-06-07T18:57:01.353990399Z: Untagged: kmod-test:latest
[STDOUT  ] 2017-06-07T18:57:01.354016854Z: Deleted: sha256:9ab90672298a60db35c19fa987217cc48cea6afe111a20dd47d8f47d2620909a
[STDOUT  ] 2017-06-07T18:57:01.354024853Z: Deleted: sha256:c56e253b06e5a53550def33bdcd8bed2a173b541f778508f9d5fdab2b46f674e
[STDOUT  ] 2017-06-07T18:57:01.354040546Z: Deleted: sha256:980b978c1b05840ed31233e159350d8f7cf9558ecfcc79a618590a70d5d75f4d
[STDOUT  ] 2017-06-07T18:57:01.354058579Z: Deleted: sha256:fa384ed3ad38819034fda07a95cc4b5553502a4e2233ed1dc08ae18fbcaf5c59
[STDOUT  ] 2017-06-07T18:57:01.35407128Z: Deleted: sha256:227177a4135bae4e7abff7088c960be51bfa486988d0de1a66082e595a74b996
[STDERR  ] 2017-06-07T18:57:01.357131535Z: + find . -iname kmod* -not -iname *.yml -exec rm -rf {} ;
[PASS    ] linuxkit.kernel.kmod_4.9.x 53.07s
