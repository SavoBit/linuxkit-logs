> the diff is not much easier to read.

I thought https://github.com/linuxkit/linuxkit/pull/3280/commits/5c3bde1f775ac17feb658db0abb93531050141ec fairly trivial...

> I'm not sure I like this approach. This seems to mount/unmount all disk type devices instead of stopping when one suitable device is found.

That's just what it did before, only limited to all `/dev/sr*` devices. If we believe that behaviour should change, I'm more than happy to implement that in this PR, or perhaps separate PR would make sense.
Perhaps the current behaviour was somewhat satisfactory, considering that systems with many optical drives aren't very common. I agree that trying to mount each and every drive is not a good idea, perhaps pre-filtering on filesystem type would be a good idea? We could even match on a well-known ISO volume ID, e.g. something like 'LinuxKit metadata'.