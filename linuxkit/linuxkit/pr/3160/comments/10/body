Thanks for looking more into this. In terms of picking which network subsystem to modularise, instead of picking very specific modules from a sub system (like `CONFIG_BRIDGE_EBT_T_NAT` or `CONFIG_IP_VS_FTP`) I think it would be cleaner to then turn the entire subsystem into modules.

So basically turn all of IPVS and EBT into modules. For `CONFIG_IP_NF_TARGET_CLUSTERIP` I think it's fine to just have that as a module but not all of `CONFIG_IP_NF`. I think this config would allow us to still run LCOW without modules.

It would also be good to apply the same changes to the arm64 and s390x config to keep them in sync.

@ijc @justincormack any objections to the changes, in particular the HZ change? It might increase the CPU consumption a little with HyperKit as there will be more interrupts...