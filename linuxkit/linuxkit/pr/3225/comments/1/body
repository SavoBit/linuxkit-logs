@ijc I renamed the flag and restructured the code to find the gzip header. It now tests offset 0 (for arm64) and the offset based on information in a bzImage header (also verifies the gzip signature).

I tested the result with `crossvm` and the decompressed x86 kernel boots fine there. Haven't checked arm64 but it is just a plain gzip'ed kernel so should be fine