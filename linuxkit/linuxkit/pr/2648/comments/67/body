@ijc 
```
linuxkit bake -D foo=abcdef foo.yml
```
This can actually be done with `envsubst` and also be piped from `bake` as it is.

EDIT:
I can see now how `linuxkit pkg push --release v1.1` and git tags can work together but im still not completly convinced that its a good a idea to make a pkg version explicitly dependend on a repo that contains a pkg root and not the other way round(you have to checkout the whole repo to rebuild one old pkg e.g.).

Additional tags in build.yml could still be helpful (future, not in this pr).

There is https://github.com/a8m/envsubst I could implement this from a file, global conf, cli and/or env after merging the moby confs and before substituting the latest tag, for 1:1 substitution on the whole config file. This could allow something like `lkt_version=<latest> linuxkit bake some.yml more.yml` on

```
services:
- name: getty
  image: ${lkt_repo-linuxkit}/getty:${lkt_version-v1.0} 
```
It had a few "bugs" for nested stuff i tried but should work for simple envsubst

otherwise there could be go templates
```
init:
{{if .Dev}}
  {{call .Image "linuxkit/getty"}} 
{{end}}
  {{call .Image "linuxkit/dhcpcd"}} 
  {{call .Image "linuxkit/runc"}} 
#which could either do the `latest` logic or set a tag based on some variable

....
```
but it gets pretty ugly from my experience

or

```
services:
- name: getty
  image: linuxkit/getty:<lkt_version>
- name: dhcpcd
  image: linuxkit/dhcpcd:<lkt_version>
- name: sshd
  image: linuxkit/sshd:<latest> 
```
