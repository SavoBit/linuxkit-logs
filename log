=== Build LinuxKit
[2017-05-16 14:56.35] Starting...
Cloning into '/tmp/with_clone3e316f5c'...
done.
HEAD is now at 36129a6f docs: Improve testing.md
[2017-05-16 14:56.36] Running "cp" "-p" "--" "/gcloud/ci-setup.sh" "/tmp/with_clone3e316f5c/ci-setup.sh"
[2017-05-16 14:56.36] Running "/gcloud/create.py" "linuxkit-ci-3"
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Using source disk image https://www.googleapis.com/compute/v1/projects/moby-datakit-ci/global/images/linuxkit-ci-builder-3
INFO:root:Creating VM
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Getting VM details
[2017-05-16 14:57.00] Created new VM linuxkit-ci-3
[2017-05-16 14:57.00] Running "ssh" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@104.155.123.63" "/usr/local/bin/test.sh"
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:bMPB9eXMdoHfvXvbZn/CB8+IVjPZ2jTC0IlK1swLXas.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:2
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
+ rm -rf /tmp/build
+ mkdir /tmp/build
+ cd /tmp/build
+ tar xf -
+ '[' -x ci-setup.sh ']'
+ ./ci-setup.sh
+ sysctl vm.overcommit_memory=1
vm.overcommit_memory = 1
+ make ci-pr
make clean
make[1]: Entering directory '/tmp/build'
rm -rf bin *.log *-kernel *-cmdline *-state *.img *.iso *.gz *.qcow2 *.vhd *.vmx *.vmdk *.tar 
make[1]: Leaving directory '/tmp/build'
make
make[1]: Entering directory '/tmp/build'
mkdir -p bin
docker run --rm --log-driver=none  linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b --clone-path github.com/moby/tool --clone https://github.com/moby/tool.git --commit a9a00fae6204a89baeed6903c7e2901412c1ede0 --package github.com/moby/tool/cmd/moby --ldflags "-X main.GitCommit=36129a6f880f2c7c04b2aabe0ecd9e62baa6d214 -X main.Version="0.0" " -o bin/moby > tmp_moby_bin.tar
Unable to find image 'linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b' locally
5bf17af781df44f07906099402680b9a661f999b: Pulling from linuxkit/go-compile
627beaf3eaaf: Already exists
98e502457679: Pulling fs layer
ecae82f11762: Pulling fs layer
cc422136b77c: Pulling fs layer
cc422136b77c: Verifying Checksum
cc422136b77c: Download complete
ecae82f11762: Verifying Checksum
ecae82f11762: Download complete
98e502457679: Verifying Checksum
98e502457679: Download complete
98e502457679: Pull complete
ecae82f11762: Pull complete
cc422136b77c: Pull complete
Digest: sha256:0bf523bcebb96ccc525f983a118f1fd8cb5e17dbf90e83044ca71bb983000e70
Status: Downloaded newer image for linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b
Cloning into '.'...
Note: checking out 'a9a00fae6204a89baeed6903c7e2901412c1ede0'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at a9a00fa... Merge pull request #33 from justincormack/img-gz
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_moby_bin.tar > bin/moby
rm tmp_moby_bin.tar
touch bin/moby
tar cf - vendor -C src/cmd/linuxkit . | docker run --rm --net=none --log-driver=none -i  linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b --package github.com/linuxkit/linuxkit --ldflags "-X main.GitCommit=36129a6f880f2c7c04b2aabe0ecd9e62baa6d214 -X main.Version="0.0" " -o bin/linuxkit > tmp_linuxkit_bin.tar
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_linuxkit_bin.tar > bin/linuxkit
rm tmp_linuxkit_bin.tar
touch bin/linuxkit
docker run --rm --log-driver=none  linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b --clone-path github.com/linuxkit/rtf --clone https://github.com/linuxkit/rtf.git --commit 3ced00340aacfc1932e8c03281bf3bfc586c147c --package github.com/linuxkit/rtf --ldflags "-X github.com/linuxkit/rtf/cmd.GitCommit=3ced00340aacfc1932e8c03281bf3bfc586c147c -X github.com/linuxkit/rtf/cmd.Version="0.0" " -o bin/rtf > tmp_rtf_bin.tar
Cloning into '.'...
Note: checking out '3ced00340aacfc1932e8c03281bf3bfc586c147c'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 3ced003... Merge pull request #12 from dave-tucker/exit-1-fail
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_rtf_bin.tar > bin/rtf
rm tmp_rtf_bin.tar
touch bin/rtf
make[1]: Leaving directory '/tmp/build'
make install
make[1]: Entering directory '/tmp/build'
cp -R ./bin/* /usr/local//bin
make[1]: Leaving directory '/tmp/build'
make -C test pr
make[1]: Entering directory '/tmp/build/test'
rm -rf ../artifacts
mkdir -p ../artifacts
/usr/local/bin/moby build --pull -name ../artifacts/test hack/test-ltp.yml
Pull kernel image: linuxkit/kernel:4.9.x
Extract kernel image: linuxkit/kernel:4.9.x
Pull image: linuxkit/kernel:4.9.x
Add init containers:
Process init image: linuxkit/init:b3740303f3d1e5689a84c87b7dfb48fd2a40a192
Pull image: linuxkit/init:b3740303f3d1e5689a84c87b7dfb48fd2a40a192
Process init image: linuxkit/runc:47b1c38d63468c0f3078f8b1b055d07965a1895d
Pull image: linuxkit/runc:47b1c38d63468c0f3078f8b1b055d07965a1895d
Process init image: linuxkit/containerd:cf2614f5a96c569a0bd4bd54e054a65ba17d167f
Pull image: linuxkit/containerd:cf2614f5a96c569a0bd4bd54e054a65ba17d167f
Process init image: linuxkit/ca-certificates:3344cdca1bc59fdfa17bd7f0fcbf491b9dbaa288
Pull image: linuxkit/ca-certificates:3344cdca1bc59fdfa17bd7f0fcbf491b9dbaa288
Add onboot containers:
  Create OCI config for linuxkit/test-ltp-20170116:81229df2d25065b06f0a3071faaace8d66c87e67
Pull image: linuxkit/test-ltp-20170116:81229df2d25065b06f0a3071faaace8d66c87e67
  Create OCI config for linuxkit/poweroff:961412b8ef5c5285de0d40ec076701d955eaa084
Pull image: linuxkit/poweroff:961412b8ef5c5285de0d40ec076701d955eaa084
Add files:
  /etc/ltp/baseline
Create outputs:
  ../artifacts/test.img.tar.gz
LABELS: build, linux, Debian, 8.7, amd64
ID: 28550461-21dc-46c0-a352-8e1743377c1b
[PASS    ] linuxkit.build.examples.minimal 16.92s
[PASS    ] linuxkit.build.examples.docker 37.82s
[PASS    ] linuxkit.build.examples.sshd 41.79s
[PASS    ] linuxkit.build.examples.redis 10.47s
[PASS    ] linuxkit.build.examples.swap 58.48s
[PASS    ] linuxkit.build.examples.node_exporter 18.47s
[PASS    ] linuxkit.build.outputs 279.61s
[PASS    ] linuxkit.platforms.qemu.run_kernel 38.26s
[PASS    ] linuxkit.platforms.qemu.run_iso 42.28s
[PASS    ] linuxkit.platforms.qemu.run_efi 36.02s
[PASS    ] linuxkit.kernel.config 60.44s
[PASS    ] linuxkit.kernel.kmod 52.37s
[SKIP    ] linuxkit.security.docker-bench 0.00s
[SUMMARY ] LogDir: 28550461-21dc-46c0-a352-8e1743377c1b
[SUMMARY ] Version: 8.7
[SUMMARY ] Passed: 12
[SUMMARY ] Failed: 0
[SUMMARY ] Cancelled: 0
[SUMMARY ] Skipped: 4
[SUMMARY ] Duration: 693.17s
make[1]: Leaving directory '/tmp/build/test'
[2017-05-16 15:19.45] Fetching results
[2017-05-16 15:19.45] Running "scp" "-r" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@104.155.123.63:/tmp/build/test/_results" "root@104.155.123.63:/tmp/build/artifacts" "."
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:bMPB9eXMdoHfvXvbZn/CB8+IVjPZ2jTC0IlK1swLXas.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:2
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:bMPB9eXMdoHfvXvbZn/CB8+IVjPZ2jTC0IlK1swLXas.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:2
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
[2017-05-16 15:19.57] Removing test VM...
[2017-05-16 15:19.57] Running "/gcloud/destroy.py" "linuxkit-ci-3"
INFO:root:Destroying VM
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
[2017-05-16 15:20.46] Saved build result test.img.tar.gz (2fb44fc027410f64f2daa7780bd33b4a433f0df905286eafa796db7104322337)
[2017-05-16 15:20.46] Success
