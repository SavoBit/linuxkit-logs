=== Build LinuxKit
[2017-05-24 17:11.45] Starting...
Cloning into '/tmp/with_clone8d5c19'...
done.
HEAD is now at f9eb186e Adding of VMware govmomi to vendors
[2017-05-24 17:11.45] Running "cp" "-p" "--" "/gcloud/ci-setup.sh" "/tmp/with_clone8d5c19/ci-setup.sh"
[2017-05-24 17:11.45] Running "/gcloud/create.py" "linuxkit-ci-2"
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Using source disk image https://www.googleapis.com/compute/v1/projects/moby-datakit-ci/global/images/linuxkit-ci-builder-3
INFO:root:Creating VM
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Getting VM details
[2017-05-24 17:12.10] Created new VM linuxkit-ci-2
[2017-05-24 17:12.10] Running "ssh" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@104.155.22.96" "/usr/local/bin/test.sh"
Warning: Permanently added '104.155.22.96' (ECDSA) to the list of known hosts.
+ rm -rf /tmp/build
+ mkdir /tmp/build
+ cd /tmp/build
+ tar xf -
+ '[' -x ci-setup.sh ']'
+ ./ci-setup.sh
+ mkdir -p /tmp/build/test/_results /tmp/build/artifacts
+ sysctl vm.overcommit_memory=1
vm.overcommit_memory = 1
+ make ci-pr
make clean
make[1]: Entering directory '/tmp/build'
rm -rf bin *.log *-kernel *-cmdline *-state *.img *.iso *.gz *.qcow2 *.vhd *.vmx *.vmdk *.tar 
make[1]: Leaving directory '/tmp/build'
make
make[1]: Entering directory '/tmp/build'
mkdir -p bin
docker run --rm --log-driver=none  linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7 --clone-path github.com/moby/tool --clone https://github.com/moby/tool.git --commit b47f3dec4a8357bc3ee4da878c402700d3fed62e --package github.com/moby/tool/cmd/moby --ldflags "-X main.GitCommit=f9eb186e07f3580f24678a640e9ed8b03f309638 -X main.Version="0.0" " -o bin/moby > tmp_moby_bin.tar
Unable to find image 'linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7' locally
3ba94f14de51b73551417e769d122815ec917ee7: Pulling from linuxkit/go-compile
cfc728c1c558: Pulling fs layer
faacc1176d6c: Pulling fs layer
4cf0edf1fde5: Pulling fs layer
09116519dab2: Pulling fs layer
09116519dab2: Waiting
cfc728c1c558: Verifying Checksum
cfc728c1c558: Download complete
cfc728c1c558: Pull complete
09116519dab2: Verifying Checksum
09116519dab2: Download complete
4cf0edf1fde5: Verifying Checksum
4cf0edf1fde5: Download complete
faacc1176d6c: Verifying Checksum
faacc1176d6c: Download complete
faacc1176d6c: Pull complete
4cf0edf1fde5: Pull complete
09116519dab2: Pull complete
Digest: sha256:6e9948a49aa6eebaa347cc107fdb0265e86f6179447b1bd670500593bbd0525f
Status: Downloaded newer image for linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7
Cloning into '.'...
Note: checking out 'b47f3dec4a8357bc3ee4da878c402700d3fed62e'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at b47f3de... Merge pull request #27 from chanwit/add_source
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_moby_bin.tar > bin/moby
rm tmp_moby_bin.tar
touch bin/moby
tar cf - vendor -C src/cmd/linuxkit . | docker run --rm --net=none --log-driver=none -i  linuxkit/go-compile:3ba94f14de51b73551417e769d122815ec917ee7 --package github.com/linuxkit/linuxkit --ldflags "-X main.GitCommit=f9eb186e07f3580f24678a640e9ed8b03f309638 -X main.Version="0.0" " -o bin/linuxkit > tmp_linuxkit_bin.tar
gofmt...
govet...
golint...
ineffassign...
go build...
# github.com/linuxkit/linuxkit
./run_vcenter.go:177: undefined: getDiskSizeMB
Makefile:38: recipe for target 'bin/linuxkit' failed
make[1]: Leaving directory '/tmp/build'
make[1]: *** [bin/linuxkit] Error 2
Makefile:70: recipe for target 'ci-pr' failed
make: *** [ci-pr] Error 2
[2017-05-24 17:14.18] Fetching results
[2017-05-24 17:14.18] Running "scp" "-r" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@104.155.22.96:/tmp/build/test/_results" "."
[2017-05-24 17:14.18] Removing test VM...
[2017-05-24 17:14.18] Running "/gcloud/destroy.py" "linuxkit-ci-2"
INFO:root:Destroying VM
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
[2017-05-24 17:15.13] Failed: recipe for target 'ci-pr' failed
