=== Build LinuxKit
[2017-05-18 13:35.22] Starting...
Cloning into '/tmp/with_clone39f10777'...
done.
HEAD is now at b0e506aa Merge pull request #1851 from riyazdf/sig-agenda-update
[2017-05-18 13:35.23] Running "cp" "-p" "--" "/gcloud/ci-setup.sh" "/tmp/with_clone39f10777/ci-setup.sh"
[2017-05-18 13:35.23] Running "make" "ci" "CLOUDSDK_IMAGE_NAME=linuxkit-ci-0"
make clean
make[1]: Entering directory '/tmp/with_clone39f10777'
rm -rf bin *.log *-kernel *-cmdline *-state *.img *.iso *.gz *.qcow2 *.vhd *.vmx *.vmdk *.tar 
make[1]: Leaving directory '/tmp/with_clone39f10777'
make
make[1]: Entering directory '/tmp/with_clone39f10777'
mkdir -p bin
docker run --rm --log-driver=none  linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b --clone-path github.com/moby/tool --clone https://github.com/moby/tool.git --commit a9a00fae6204a89baeed6903c7e2901412c1ede0 --package github.com/moby/tool/cmd/moby --ldflags "-X main.GitCommit=b0e506aa71f029c2e64af15328c27060a638a1f7 -X main.Version="0.0" " -o bin/moby > tmp_moby_bin.tar
Cloning into '.'...
Note: checking out 'a9a00fae6204a89baeed6903c7e2901412c1ede0'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at a9a00fa... Merge pull request #33 from justincormack/img-gz
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_moby_bin.tar > bin/moby
rm tmp_moby_bin.tar
touch bin/moby
tar cf - vendor -C src/cmd/linuxkit . | docker run --rm --net=none --log-driver=none -i  linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b --package github.com/linuxkit/linuxkit --ldflags "-X main.GitCommit=b0e506aa71f029c2e64af15328c27060a638a1f7 -X main.Version="0.0" " -o bin/linuxkit > tmp_linuxkit_bin.tar
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_linuxkit_bin.tar > bin/linuxkit
rm tmp_linuxkit_bin.tar
touch bin/linuxkit
docker run --rm --log-driver=none  linuxkit/go-compile:5bf17af781df44f07906099402680b9a661f999b --clone-path github.com/linuxkit/rtf --clone https://github.com/linuxkit/rtf.git --commit 3ced00340aacfc1932e8c03281bf3bfc586c147c --package github.com/linuxkit/rtf --ldflags "-X github.com/linuxkit/rtf/cmd.GitCommit=3ced00340aacfc1932e8c03281bf3bfc586c147c -X github.com/linuxkit/rtf/cmd.Version="0.0" " -o bin/rtf > tmp_rtf_bin.tar
Cloning into '.'...
Note: checking out '3ced00340aacfc1932e8c03281bf3bfc586c147c'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 3ced003... Merge pull request #12 from dave-tucker/exit-1-fail
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_rtf_bin.tar > bin/rtf
rm tmp_rtf_bin.tar
touch bin/rtf
make[1]: Leaving directory '/tmp/with_clone39f10777'
make install
make[1]: Entering directory '/tmp/with_clone39f10777'
cp -R ./bin/* /usr/local//bin
make[1]: Leaving directory '/tmp/with_clone39f10777'
make -C test all
make[1]: Entering directory '/tmp/with_clone39f10777/test'
rm -rf ../artifacts
mkdir -p ../artifacts
/usr/local/bin/moby build --pull -name ../artifacts/test hack/test.yml
Pull kernel image: linuxkit/kernel:4.9.x
Extract kernel image: linuxkit/kernel:4.9.x
Pull image: linuxkit/kernel:4.9.x
Add init containers:
Process init image: linuxkit/init:deea956a9ab07bf262083e93a86930bdc610cc2f
Pull image: linuxkit/init:deea956a9ab07bf262083e93a86930bdc610cc2f
Process init image: linuxkit/runc:2649198589ef0020d99f613adaeda45ce0093a38
Pull image: linuxkit/runc:2649198589ef0020d99f613adaeda45ce0093a38
Process init image: linuxkit/containerd:cf2614f5a96c569a0bd4bd54e054a65ba17d167f
Pull image: linuxkit/containerd:cf2614f5a96c569a0bd4bd54e054a65ba17d167f
Process init image: linuxkit/ca-certificates:3344cdca1bc59fdfa17bd7f0fcbf491b9dbaa288
Pull image: linuxkit/ca-certificates:3344cdca1bc59fdfa17bd7f0fcbf491b9dbaa288
Add onboot containers:
  Create OCI config for linuxkit/dhcpcd:2def74ab3f9233b4c09ebb196ba47c27c08b0ed8
Pull image: linuxkit/dhcpcd:2def74ab3f9233b4c09ebb196ba47c27c08b0ed8
  Create OCI config for linuxkit/test-kernel-config:ecff41279ccbc408079a3996a956432651c6eb9c
Pull image: linuxkit/test-kernel-config:ecff41279ccbc408079a3996a956432651c6eb9c
  Create OCI config for linuxkit/poweroff:961412b8ef5c5285de0d40ec076701d955eaa084
Pull image: linuxkit/poweroff:961412b8ef5c5285de0d40ec076701d955eaa084
Create outputs:
  ../artifacts/test.img.tar.gz
LABELS: build, linux, Alpine, 3.5.2, amd64
ID: f362ac1c-9fa2-420f-b1ee-0b3e83cd00c1
[PASS    ] linuxkit.build.examples.minimal 13.39s
[PASS    ] linuxkit.build.examples.docker 30.46s
[PASS    ] linuxkit.build.examples.sshd 36.92s
[PASS    ] linuxkit.build.examples.redis 14.70s
[PASS    ] linuxkit.build.examples.swap 61.97s
[PASS    ] linuxkit.build.examples.node_exporter 18.15s
[PASS    ] linuxkit.build.outputs 212.28s
[PASS    ] linuxkit.platforms.qemu.run_kernel 47.72s
[PASS    ] linuxkit.platforms.qemu.run_iso 54.47s
[FAIL    ] linuxkit.platforms.qemu.run_efi 20.42s
[PASS    ] linuxkit.kernel.config 62.81s
[PASS    ] linuxkit.kernel.kmod 57.04s
[SKIP    ] linuxkit.security.docker-bench 0.00s
[SUMMARY ] LogDir: f362ac1c-9fa2-420f-b1ee-0b3e83cd00c1
[SUMMARY ] Version: 3.5.2
[SUMMARY ] Passed: 11
[SUMMARY ] Failed: 1
[SUMMARY ] Cancelled: 0
[SUMMARY ] Skipped: 3
[SUMMARY ] Duration: 630.40s
Some tests failed
make[1]: *** [Makefile:53: test-pr] Error 1
make[1]: Leaving directory '/tmp/with_clone39f10777/test'
make: *** [Makefile:61: ci] Error 2
[2017-05-18 13:47.32] Removing test VM...
[2017-05-18 13:47.32] Running "/gcloud/destroy.py" "linuxkit-ci-0"
INFO:root:Destroying VM
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
Traceback (most recent call last):
  File "/gcloud/destroy.py", line 12, in <module>
    resp = common.compute.instances().delete(instance=name, project=common.project, zone=common.zone).execute()
  File "/usr/lib/python2.7/site-packages/oauth2client/_helpers.py", line 133, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/usr/lib/python2.7/site-packages/googleapiclient/http.py", line 840, in execute
    raise HttpError(resp, content, uri=self.uri)
googleapiclient.errors.HttpError: <HttpError 404 when requesting https://www.googleapis.com/compute/v1/projects/moby-datakit-ci/zones/europe-west1-b/instances/linuxkit-ci-0?alt=json returned "The resource 'projects/moby-datakit-ci/zones/europe-west1-b/instances/linuxkit-ci-0' was not found">
[2017-05-18 13:47.33] Failed: Command "make" "ci" "CLOUDSDK_IMAGE_NAME=linuxkit-ci-0" exited with status 2
