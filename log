=== Build LinuxKit
[2017-06-02 21:41.58] Starting...
Cloning into '/tmp/with_clone2e84a7d7'...
done.
HEAD is now at de14a9ba Update moby tool and qemu fixes
[2017-06-02 21:41.59] Running "cp" "-p" "--" "/gcloud/ci-setup.sh" "/tmp/with_clone2e84a7d7/ci-setup.sh"
[2017-06-02 21:41.59] Running "/gcloud/create.py" "linuxkit-ci-2"
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Using source disk image https://www.googleapis.com/compute/v1/projects/moby-datakit-ci/global/images/linuxkit-ci-builder-3
INFO:root:Creating VM
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Getting VM details
[2017-06-02 21:42.23] Created new VM linuxkit-ci-2
[2017-06-02 21:42.23] Running "ssh" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@35.189.238.228" "/usr/local/bin/test.sh"
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:vvTkkNHC1+wDIk/Z+zLRxn4Fz9ljqp50Jw5V+QM8bJo.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:77
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
+ rm -rf /tmp/build
+ mkdir /tmp/build
+ cd /tmp/build
+ tar xf -
+ '[' -x ci-setup.sh ']'
+ ./ci-setup.sh
+ mkdir -p /tmp/build/test/_results /tmp/build/artifacts
+ sysctl vm.overcommit_memory=1
vm.overcommit_memory = 1
+ make ci-pr
make clean
make[1]: Entering directory '/tmp/build'
rm -rf bin *.log *-kernel *-cmdline *-state *.img *.iso *.gz *.qcow2 *.vhd *.vmx *.vmdk *.tar 
make[1]: Leaving directory '/tmp/build'
make
make[1]: Entering directory '/tmp/build'
mkdir -p bin
docker run --rm --log-driver=none  linuxkit/go-compile:6579a00b44686d0e504d513fc4860094769fe7df --clone-path github.com/moby/tool --clone https://github.com/moby/tool.git --commit 058ce768f4194f5e4d0c5fd91eb5478278e83f96 --package github.com/moby/tool/cmd/moby --ldflags "-X main.GitCommit=de14a9ba7d7fc151ae8564e17b28cba09a33891a -X main.Version="0.0" " -o bin/moby > tmp_moby_bin.tar
Unable to find image 'linuxkit/go-compile:6579a00b44686d0e504d513fc4860094769fe7df' locally
6579a00b44686d0e504d513fc4860094769fe7df: Pulling from linuxkit/go-compile
7bee6021d73b: Pulling fs layer
bc2351846d69: Pulling fs layer
f445d9c10f23: Pulling fs layer
f445d9c10f23: Verifying Checksum
f445d9c10f23: Download complete
bc2351846d69: Verifying Checksum
bc2351846d69: Download complete
7bee6021d73b: Verifying Checksum
7bee6021d73b: Download complete
7bee6021d73b: Pull complete
bc2351846d69: Pull complete
f445d9c10f23: Pull complete
Digest: sha256:65aa61308f71f509fd003bac05d60644243c863def805992948a0e5a02b95c09
Status: Downloaded newer image for linuxkit/go-compile:6579a00b44686d0e504d513fc4860094769fe7df
Cloning into '.'...
Note: checking out '058ce768f4194f5e4d0c5fd91eb5478278e83f96'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 058ce76... Merge pull request #66 from justincormack/linuxkit-part2
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_moby_bin.tar > bin/moby
rm tmp_moby_bin.tar
touch bin/moby
tar cf - vendor -C src/cmd/linuxkit . | docker run --rm --net=none --log-driver=none -i  linuxkit/go-compile:6579a00b44686d0e504d513fc4860094769fe7df --package github.com/linuxkit/linuxkit --ldflags "-X main.GitCommit=de14a9ba7d7fc151ae8564e17b28cba09a33891a -X main.Version="0.0" " -o bin/linuxkit > tmp_linuxkit_bin.tar
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_linuxkit_bin.tar > bin/linuxkit
rm tmp_linuxkit_bin.tar
touch bin/linuxkit
docker run --rm --log-driver=none  linuxkit/go-compile:6579a00b44686d0e504d513fc4860094769fe7df --clone-path github.com/linuxkit/rtf --clone https://github.com/linuxkit/rtf.git --commit 3ced00340aacfc1932e8c03281bf3bfc586c147c --package github.com/linuxkit/rtf --ldflags "-X github.com/linuxkit/rtf/cmd.GitCommit=3ced00340aacfc1932e8c03281bf3bfc586c147c -X github.com/linuxkit/rtf/cmd.Version="0.0" " -o bin/rtf > tmp_rtf_bin.tar
Cloning into '.'...
Note: checking out '3ced00340aacfc1932e8c03281bf3bfc586c147c'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 3ced003... Merge pull request #12 from dave-tucker/exit-1-fail
gofmt...
govet...
golint...
ineffassign...
go build...
tar xf tmp_rtf_bin.tar > bin/rtf
rm tmp_rtf_bin.tar
touch bin/rtf
make[1]: Leaving directory '/tmp/build'
make install
make[1]: Entering directory '/tmp/build'
cp -R ./bin/* /usr/local//bin
make[1]: Leaving directory '/tmp/build'
make -C test pr
make[1]: Entering directory '/tmp/build/test'
rm -rf ../artifacts
mkdir -p ../artifacts
/usr/local/bin/moby build -output gcp-img -pull -name ../artifacts/test hack/test.yml
Building LinuxKit image mkimage to generate output formats
Pull kernel image: linuxkit/kernel:4.9.x
Extract kernel image: linuxkit/kernel:4.9.x
Pull image: linuxkit/kernel:4.9.x
Add init containers:
Process init image: linuxkit/init:1b8a7e394d2ec2f1fdb4d67645829d1b5bdca037
Pull image: linuxkit/init:1b8a7e394d2ec2f1fdb4d67645829d1b5bdca037
Process init image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
Pull image: linuxkit/runc:3a4e6cbf15470f62501b019b55e1caac5ee7689f
Process init image: linuxkit/containerd:b1766e4c4c09f63ac4925a6e4612852a93f7e73b
Pull image: linuxkit/containerd:b1766e4c4c09f63ac4925a6e4612852a93f7e73b
Add onboot containers:
  Create OCI config for linuxkit/mkimage:f4bf0c24261f7d120c8674892805ab3054eb8ac3
Pull image: linuxkit/mkimage:f4bf0c24261f7d120c8674892805ab3054eb8ac3
  Create OCI config for linuxkit/poweroff:a8f1e4ad8d459f1fdaad9e4b007512cb3b504ae8
Pull image: linuxkit/poweroff:a8f1e4ad8d459f1fdaad9e4b007512cb3b504ae8
Pull kernel image: linuxkit/kernel:4.9.x
Extract kernel image: linuxkit/kernel:4.9.x
Pull image: linuxkit/kernel:4.9.x
Add init containers:
Process init image: linuxkit/init:1b8a7e394d2ec2f1fdb4d67645829d1b5bdca037
Pull image: linuxkit/init:1b8a7e394d2ec2f1fdb4d67645829d1b5bdca037
Process init image: linuxkit/runc:2649198589ef0020d99f613adaeda45ce0093a38
Pull image: linuxkit/runc:2649198589ef0020d99f613adaeda45ce0093a38
Process init image: linuxkit/containerd:deaf5bf838bf7f131c2287ecff3ed9835b0497e2
Pull image: linuxkit/containerd:deaf5bf838bf7f131c2287ecff3ed9835b0497e2
Add onboot containers:
  Create OCI config for linuxkit/dhcpcd:7d2b8aaaf20c24ad7d11a5ea2ea5b4a80dc966f1
Pull image: linuxkit/dhcpcd:7d2b8aaaf20c24ad7d11a5ea2ea5b4a80dc966f1
  Create OCI config for linuxkit/test-kernel-config:ecff41279ccbc408079a3996a956432651c6eb9c
Pull image: linuxkit/test-kernel-config:ecff41279ccbc408079a3996a956432651c6eb9c
  Create OCI config for linuxkit/poweroff:7404cf2295df89ccfa2dda41997a28307a90cf28
Pull image: linuxkit/poweroff:7404cf2295df89ccfa2dda41997a28307a90cf28
Create outputs:
  ../artifacts/test.img.tar.gz
Unable to find image 'linuxkit/qemu:c9691f5c50dd191e62b77eaa2f3dfd05ed2ed77c' locally
c9691f5c50dd191e62b77eaa2f3dfd05ed2ed77c: Pulling from linuxkit/qemu
3014af544048: Pulling fs layer
3014af544048: Verifying Checksum
3014af544048: Download complete
3014af544048: Pull complete
Digest: sha256:8b757177c06d0bbc9b78356b7cb56a5aecaf2a0601ee06a3f4af9a5278a077ac
Status: Downloaded newer image for linuxkit/qemu:c9691f5c50dd191e62b77eaa2f3dfd05ed2ed77c
main-loop: WARNING: I/O thread spun for 1000 iterations
LABELS: 8.7, amd64, build, linux, Debian
ID: 8464cf1f-efae-4cea-8162-a02924653471
[PASS    ] linuxkit.build.examples.minimal 20.81s
[PASS    ] linuxkit.build.examples.docker 75.64s
[PASS    ] linuxkit.build.examples.sshd 33.87s
[PASS    ] linuxkit.build.examples.redis 28.04s
[PASS    ] linuxkit.build.examples.swap 47.19s
[PASS    ] linuxkit.build.examples.node_exporter 31.28s
[PASS    ] linuxkit.build.outputs 375.58s
[PASS    ] linuxkit.platforms.qemu.run_kernel 38.10s
[PASS    ] linuxkit.platforms.qemu.run_iso 41.15s
[PASS    ] linuxkit.platforms.qemu.run_efi 44.46s
[PASS    ] linuxkit.platforms.qemu.run_qcow 111.68s
[CANCEL  ] linuxkit.platforms.qemu.container 0.06s
[PASS    ] linuxkit.kernel.config_4.4.x 66.42s
[PASS    ] linuxkit.kernel.config_4.9.x 64.76s
[PASS    ] linuxkit.kernel.config_4.11.x 68.84s
[PASS    ] linuxkit.kernel.kmod_4.9.x 63.93s
[SKIP    ] linuxkit.security.docker-bench 0.00s
[PASS    ] linuxkit.packages.binfmt 58.11s
[PASS    ] linuxkit.packages.ca-certificates 52.75s
[PASS    ] linuxkit.packages.dhcpcd 56.90s
[PASS    ] linuxkit.packages.mkimage 166.69s
[PASS    ] linuxkit.packages.sysctl 53.74s
[SUMMARY ] LogDir: 8464cf1f-efae-4cea-8162-a02924653471
[SUMMARY ] Version: 8.7
[SUMMARY ] Passed: 20
[SUMMARY ] Failed: 0
[SUMMARY ] Cancelled: 1
[SUMMARY ] Skipped: 3
[SUMMARY ] Duration: 1500.13s
make[1]: Leaving directory '/tmp/build/test'
[2017-06-02 22:12.49] Fetching results
[2017-06-02 22:12.49] Running "scp" "-r" "-i" "/run/secrets/builder-ssh" "-o" "StrictHostKeyChecking=no" "root@35.189.238.228:/tmp/build/test/_results" "root@35.189.238.228:/tmp/build/artifacts" "."
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:vvTkkNHC1+wDIk/Z+zLRxn4Fz9ljqp50Jw5V+QM8bJo.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:77
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
SHA256:vvTkkNHC1+wDIk/Z+zLRxn4Fz9ljqp50Jw5V+QM8bJo.
Please contact your system administrator.
Add correct host key in /root/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /root/.ssh/known_hosts:77
Password authentication is disabled to avoid man-in-the-middle attacks.
Keyboard-interactive authentication is disabled to avoid man-in-the-middle attacks.
[2017-06-02 22:12.54] Removing test VM...
[2017-06-02 22:12.54] Running "/gcloud/destroy.py" "linuxkit-ci-2"
INFO:root:Destroying VM
INFO:oauth2client.transport:Attempting refresh to obtain initial access_token
INFO:oauth2client.client:Refreshing access_token
INFO:root:Waiting for zone operation to finish
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
INFO:root:Operation in progress... waiting...
[2017-06-02 22:13.54] Saved build result test.img.tar.gz (abe800ad667bbc3ceba38f81c64f5401e72b2e1cf747fa4efc1088d5b82c9f56)
[2017-06-02 22:13.55] Success
